<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="https://ros-infrastructure.github.io/index.ros.org//r/rgbdslam_v2/">
    
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/sphinx.css">
    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie-1.4.1/jquery.cookie.js type="text/javascript"></script>

    <script type="text/javascript" src=/js/ga.js async></script>
    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">

      <div align="center">
        <br>
        <table id="topnav-table">
          <tr>
            <td valign="middle">
                ROS Resources:
              <a href="http://wiki.ros.org/">Documentation</a>
              |
              <a href="http://wiki.ros.org/Support">Support</a>
              |
              <a href="http://discourse.ros.org/">Discussion Forum</a>
              |
              <a href="http://status.ros.org/">Service Status</a>
              |
              <a href="http://answers.ros.org/">Q&A answers.ros.org</a>
            </td>
          </tr>
        </table> <!-- topnav-table -->
      </div>

      <div class="row">

        <div class="col-sm-12 col-md-9" style="margin-top: 8px">
          <div class="row">
            <!-- title -->
            <div class="col-xs-12 col-sm-3 col-md-3" style="white-space:nowrap;">
              <a class="site-title" href="/">ROS Index</a> <sup><a href="https://github.com/ros-infrastructure/rosindex/issues/new" style="vertical-align:super;" class="label label-warning" target="_blank">BETA</a></sup>
            </div>

            <!-- main links -->
            <div class="col-xs-12 col-sm-9 col-md-9 text-right">
              <ul class="list-inline" style="margin-bottom:0px;">
                <li><a class="btn btn-link" href="/about">About</a></li>

                <li class="dropdown">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Index <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li><a href="/packages/page/1/time/">Package List</a></li>
                    <li><a href="/repos/page/1/time/">Repository List</a></li>

                    <li class="hidden" class="divider"></li>


                    <li class="hidden"><a href="/srvs/">Nodes</a></li>
                    <li class="hidden"><a href="/msgs/">Messages</a></li>
                    <li class="hidden"><a href="/srvs/">Services</a></li>
                    <li class="hidden"><a href="/srvs/">Plugins</a></li>

                    <li class="divider"></li>

                    <li><a href="/deps/">System Dependencies</a></li>
                  </ul>
                </li>

                <li class="dropdown disabled">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Doc <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    
                    <li>
                      <a href="/doc/ros2">
                        ROS2 Overview
                      </a>
                    </li>
                    
                    <li class="hidden" class="divider"></li>

                    <li class="hidden"><a href="/doc/tutorials">Tutorials</a></li>
                    <li class="hidden"><a href="/doc/readmes">Readmes</a></li>
                    <li class="hidden"><a href="/doc/apis">APIs</a></li>
                  </ul>
                </li>

                <li><a class="btn btn-link" href="/contribute">Contribute</a></li>
                <li><a class="btn btn-link" href="/stats">Stats</a></li>
              </ul>

            </div>
          </div>
        </div>

        <!-- searchbox -->
        <div class="col-sm-12 col-md-3" style="margin-top: 12px">
          <form id="top-searchbox" action="/search/" role="form" method="get">
            <div class="input-group input-group-sm">
              <input type="text" class="form-control" name="term" placeholder="Search ROS">
              <span class="input-group-btn">
                <button class="btn btn-default btn-sm" title="Search ROS" type="submit">
                  <span class="glyphicon glyphicon-search"></span>
                </button>
                <a href="https://lunrjs.com/guides/searching.html"
                   title="Help to Search" class="btn btn-default btn-sm">
                  <span class="glyphicon glyphicon-question-sign"></span>
                </a>
              </span>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!--
    <a class="site-title" href="/">ROS Index</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="/packages">Packages</a>
        <a class="page-link" href="/repos">Repositories</a>
        <a class="page-link" href="/search">Search</a>
      </div>
    </nav>
    -->

  </div>
  <script type="text/javascript">
    $('#top-searchbox').submit(function() {
        return $('#top-searchbox input:text').filter(function() {
          return $(this).val() == "";
        }).length == 0;
    });
  </script>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">rgbdslam_v2</li>
        <!--<li class="active">rgbdslam_v2</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="crystal-option" class="distro-button btn btn-xs btn-default" href="#crystal" data="crystal">
      <input type="radio" name="options" id="crystal-radio" autocomplete="off"> crystal
    </label>
  
    <label id="bouncy-option" class="distro-button btn btn-xs btn-default" href="#bouncy" data="bouncy">
      <input type="radio" name="options" id="bouncy-radio" autocomplete="off"> bouncy
    </label>
  
    <label id="melodic-option" class="distro-button btn btn-xs btn-default" href="#melodic" data="melodic">
      <input type="radio" name="options" id="melodic-radio" autocomplete="off"> melodic
    </label>
  
    <label id="lunar-option" class="distro-button btn btn-xs btn-default" href="#lunar" data="lunar">
      <input type="radio" name="options" id="lunar-radio" autocomplete="off"> lunar
    </label>
  
    <label id="kinetic-option" class="distro-button btn btn-xs btn-primary" href="#kinetic" data="kinetic">
      <input type="radio" name="options" id="kinetic-radio" autocomplete="off"> kinetic
    </label>
  
    <label id="indigo-option" class="distro-button btn btn-xs btn-primary" href="#indigo" data="indigo">
      <input type="radio" name="options" id="indigo-radio" autocomplete="off"> indigo
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="ardent" id="ardent-option" class="disabled older-distro-option"  href="#ardent">
          <a href="#ardent" data="ardent" id="ardent-button">ardent</a>
        </li>
      
        <li data="jade" id="jade-option" class="disabled older-distro-option"  href="#jade">
          <a href="#jade" data="jade" id="jade-button">jade</a>
        </li>
      
        <li data="hydro" id="hydro-option" class=" older-distro-option"  href="#hydro">
          <a href="#hydro" data="hydro" id="hydro-button">hydro</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
    <div class="row">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/rgbdslam_v2">rgbdslam_v2</a> <small>repository</small></h3>
        
      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 50px">
          <a type="button" class="btn btn-xs btn-default" data-toggle="tooltip" data-placement="left" title="View Instances" 
            href="/repos/rgbdslam_v2"><span class="glyphicon glyphicon-th"></span></a>
        </div>
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  github-felixendres-rgbdslam_v2
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-felixendres-rgbdslam_v2" role="menuitem" tabindex="-1" href="/r/rgbdslam_v2/github-felixendres-rgbdslam_v2" data="github-felixendres-rgbdslam_v2">
                    <span class="glyphicon glyphicon-star"></span>
                    github-felixendres-rgbdslam_v2
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

    </div>
  </div>
</div>


  <div class="distro distro-crystal">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>crystal</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-bouncy">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>bouncy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-lunar">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>lunar</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-kinetic">
    <div class="container-fluid">
      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/felixendres/rgbdslam_v2.git">https://github.com/felixendres/rgbdslam_v2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">kinetic</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2018-07-09
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rgbdslam/github-felixendres-rgbdslam_v2">rgbdslam</a></td>
                    <td>0.2.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="rgbdslamv2">RGBDSLAM<i>v2</i>
</h1>

<p>... is a state-of-the-art SLAM system for RGB-D cameras, e.g., the Microsoft
Kinect or the Asus Xtion Pro Live.  You can use it to create 3D point clouds or
OctoMaps. </p>

<p>RGBDSLAMv2 is based on the open source projects, ROS, OpenCV, OpenGL, PCL,
OctoMap, SiftGPU, g2o, and more - Thanks!</p>

<p>A journal article with a system description and performance evaluation 
can be found in the following publication:</p>

<p>"3D Mapping with an RGB-D Camera",<br>
<em>F. Endres, J. Hess, J. Sturm, D. Cremers, W. Burgard</em>,<br>
IEEE Transactions on Robotics, 2014.</p>

<p>Even more information can be found in my <a href="http://www2.informatik.uni-freiburg.de/%7Eendres/files/publications/felix-endres-phd-thesis.pdf">PhD thesis</a></p>

<p>Additional information can be found here:<br>
* <a href="http://www.informatik.uni-freiburg.de/%7Eendres">www.informatik.uni-freiburg.de/~endres</a>
* <a href="http://www.ros.org/wiki/rgbdslam">http://www.ros.org/wiki/rgbdslam</a>
* <a href="http://answers.ros.org/questions/tags:rgbdslam">http://answers.ros.org/questions/tags:rgbdslam</a></p>

<p><img src="http://raw.githubusercontent.com/felixendres/rgbdslam_v2/hydro/media/rgbdslamv2_fr2desk.jpg" alt="RGBDSLAM on the RGB-D Benchmark Dataset" width="600"></p>

<h1 id="prerequisites">Prerequisites</h1>

<ul>
<li>Ubuntu 16.04 </li>
<li><a href="http://wiki.ros.org/kinetic/">ROS kinetic</a></li>
<li>Amd64 processor (there are known problems with ARM, mostly related to qt and opengl)
Other versions may work, but are not tested. Please report success if you use other versions.</li>
</ul>

<h1 id="installation">Installation</h1>

<p>This is a canonical way, feel free to adapt if you known what you are doing.</p>

<ol>
<li><p>Put RGBDSLAMv2 in a catkin workspace: See <a href="http://wiki.ros.org/catkin/Tutorials/create_a_workspace">the catkin tutorial</a> 
for details. Use git to clone this repository into your workspace's "src/" directory. Or download RGBDSLAMv2 as an <a href="http://codeload.github.com/felixendres/rgbdslam_v2/zip/kinetic">archive</a> and extract it to "src/".</p></li>
<li><p>Download my [g2o fork|<a href="https://github.com/felixendres/g2o">https://github.com/felixendres/g2o</a>], put it in some other directory. 
Build and install. Export the environment variable <code>$G2O_DIR</code> to the installation directory to
let rgbdslam_v2 know where to find it (see Installation from Scratch for an example).</p></li>
<li><p>Use rosdep (i.e. "rosdep install rgbdslam") to install missing 
dependencies. For details see <a href="http://wiki.ros.org/ROS/Tutorials/rosdep">http://wiki.ros.org/ROS/Tutorials/rosdep</a></p></li>
<li><p>To build RGBDSLAMv2 go to your catkin workspace and execute "catkin_make". 
If you get an error about the missing siftgpu library, execute "catkin_make" again.</p></li>
</ol>

<h2 id="installation-from-scratch">Installation from Scratch</h2>

<p>There is now an install.sh script, which can be executed (<code>bash install.sh</code>).
It installs everything required below ~/Code (you can change the location in the script).</p>

<p>The script is short and not complicated, so you can also use it as a manual.</p>

<p>If you want to use the install script, it is sufficient to 
<a href="https://raw.githubusercontent.com/felixendres/rgbdslam_v2/kinetic/install.sh">download it directly</a>. 
There is no need to clone this repository then, as the script will do that for you.</p>

<p>If you have a multi-core machine with 4GB RAM or more, you can speed up the compilation
by increasing the two occurences of "-j2" to, e.g., "-j4".</p>

<h1 id="installation-done-whats-next">Installation done! What's next?</h1>

<p>See the sections below for more details on the usage. 
But to get you started quickly here's the most important pointers:</p>

<ul>
<li><p>If you want to use RGBDSLAMv2 with an RGB-D camera you may have
to install openni (sudo apt-get install ros-kinetic-openni-launch)
or something similar</p></li>
<li><p>Check out the launch files in "launch/" for examples and specific 
use cases. roslaunch rgbdslam openni+rgbdslam.launch is a good starting 
point for live mapping.</p></li>
<li><p>You probably need to adapt the parameters for the input topics depending
on your camera driver node.</p></li>
<li><p>Check out the README in "test/" for running, testing and evaluating
RGBDSLAMv2 on Juergen Sturm's RGB-D SLAM Dataset and Benchmark:
<a href="http://vision.in.tum.de/data/datasets/rgbd-dataset">http://vision.in.tum.de/data/datasets/rgbd-dataset</a>
You need cython for the evaluation scripts (sudo apt-get install cython).</p></li>
<li><p>If you want to use SURF or SIFT, you will need to build OpenCV from source,
including the non-free module (this does not include SIFTGPU, which is
included, but needs to be enabled in CMakeLists.txt). In the CMakeLists.txt 
of RGBDSLAMv2 you can set the build directory of OpenCV and enable the
non-free functionality.  Note that SIFT and SURF are not the best choice.
Due to new (software) features in RGBDSLAMv2, ORB outperforms both.</p></li>
</ul>

<p><img src="http://raw.githubusercontent.com/felixendres/rgbdslam_v2/hydro/media/rgbdslamv2_empty.jpg" alt="RGBDSLAM right after startup" width="600"></p>

<h2 id="important-note">IMPORTANT NOTE</h2>

<p>This software is an update of the ROS Fuerte version of RGBDSLAM. However
many things have changed, so some of the DOCUMENTATION BELOW MAY BE OUTDATED.
Please report problems with the documentation. Thanks.</p>

<h1 id="configuration">Configuration</h1>

<p>There are several example launch-files that set the parameters of RGB-D SLAM
for certain use cases. For a definitive list of all settings and their default
settings have a look at their quite readable definition in
src/parameter_server.cpp or (with the current settings instead of the default)
in the GUI Menu Settings-&gt;View Current Settings.</p>

<p>The various use-case launch-files might not work correctly yet, as they are not
regularly tested. You should get them running if you fiddle with the topics
("rostopic list" and "rosnode info" will help you. "rqt_graph" is great too).</p>

<h1 id="usage">Usage</h1>

<p>Most people seem to want the registered point cloud. It is by default sent out
on /rgbdslam/batch_clouds when you command RGB-D SLAM to do so (see below). The
clouds sent are actually the same as before, but the according transformation -
by default from /map to /openni_camera - is sent out on /tf.</p>

<p>The octoMap library is compiled into the rgbdslam node. This allows to create
the octomap directly. In the GUI this can be done by selecting "Save Octomap"
from the "Data" Menu. Online octomapping is possible, but not recommended.</p>

<p><img src="http://raw.githubusercontent.com/felixendres/rgbdslam_v2/hydro/media/rgbdslamv2_fr2desk_octomap.jpg" width="600" alt="OctoMap created from the RGB-D Benchmark sequence fr2/desk"></p>

<h2 id="usage-with-gui">Usage with GUI</h2>

<p>To start RGBDSLAMv2 launch, e.g.,
$ roslaunch rgbdslam openni+rgbdslam.launch</p>

<p>Alternatively you can start the openni nodes and RGBDSLAMv2 separately, e.g.:
roslaunch openni_camera openni_node.launch 
roslaunch rgbdslam rgbdslam.launch</p>

<p>To capture models either press space to start recording a continuous stream or
press enter to record a single frame. To reduce data redundancy, sequential
frames from (almost) the same position are not included in the final model.</p>

<p>Parameters
RGBDSLAMv2 is customizable by parameters. These should be set in the launch
file. Parameters can be changed during operation from the GUI, however, 
changes from the GUI may have no effect for many parameters.</p>

<p>Visualization
The 3D visualization shows the globally optimized model (you might have
to click into it to update the view after optimization). Neighbouring
points can be triangulated except at missing values and depth jumps. With
the shortcut "t", triangulation can be toggled. Since raw points render
slightly faster the parameter "cloud_display_type" controls whether 
triangulation is computed at all - at the time the cloud is received.
The parameter "gl_point_size" may be useful to most users.</p>

<h2 id="usage-without-gui">Usage without GUI</h2>

<p>The RosUI is an alternative to the Grapical_UI to run the rgbdslam headless,
for example on the PR2.  rgbdslam can then be used via service-calls.
The possible calls are:
 * /rgbdslam/ros_ui   {reset,  quick_save,  send_all,  delete_frame,  optimize,  reload_config, save_trajectory}
 * /rgbdslam/ros_ui_b {pause, record} {true, false}
 * /rgbdslam/ros_ui_f {set_max} {float}
 * /rgbdslam/ros_ui_s {save_octomap,  save_cloud,  save_g2o_graph,  save_trajectory,  save_features,  save_individual} {filename}</p>

<p>To start the rgbdslam headless use the headless.launch: 
$ roslaunch rgbdslam headless.launch</p>

<p>Capture single frames via: 
$ rosservice call /rgbdslam/ros_ui frame</p>

<p>Capture a stream of data: 
$ rosservice call /rgbdslam/ros_ui_b pause false</p>

<p>Send point clouds with computed transformations (e.g., to rviz or octomap_server): 
$ rosservice call /rgbdslam/ros_ui send_all</p>

<p>Save data using one of the following:</p>

<p>All pointclouds in one file quicksave.pcd in rgbdslam/bin-directory: 
$ rosservice call /rgbdslam/ros_ui_s save_cloud</p>

<p>Every pointcloud in its own file in rgbdslam/bin-directory: 
$ rosservice call /rgbdslam/ros_ui save_individual</p>

<p>/rgbdslam/ros_ui: </p>

<ul>
<li>reset    ''resets the graph, delets all nodes (refreshes only when capturing new images)''</li>
<li>frame    ''capture one frame from the sensor''</li>
<li>optimize ''trigger graph optimizer''</li>
<li>reload_config    ''reloads the paramters from the ROS paramter server''</li>
<li>quick_save ''saves all pointclouds in one file quicksave.pcd in rgbdslam/bin-directory''</li>
<li>send_all ''sends all pointclouds to /rgbdslam/transformed_cloud (can be visualized with rviz)''</li>
<li>delete_frame ''delete the last frame from the graph (refreshes only when capturing new images)''</li>
</ul>

<p>/rgbdslam/ros_ui_b: </p>

<ul>
<li>pause <flag> ''pauses or resumes the capturing of images'' </flag>
</li>
<li>record <flag>  ''pauses or stops the recording of bag-files, can be found in the rgbdslam/bin-directory''</flag>
</li>
</ul>

<p>/rgbdslam/ros_ui_f: </p>

<ul>
<li>set_max <float>  ''filters out all datapoints further away than this value (in cm, only for saving to files)''</float>
</li>
</ul>

<p>/rgbdslam/ros_ui_s: </p>

<ul>
<li>save_features <filname> ''saves the feature locations and descriptors in a yaml file with the given filename''</filname>
</li>
<li>save_cloud   <filename> ''saves the cloud to the given filename (should end with .ply or .pcd)''</filename>
</li>
<li>save_individual <fileprefix> ''saves every scan in its own file (appending a suffix to the given prefix)''</fileprefix>
</li>
<li>save_octomap <filename> ''saves the cloud to the given filename''</filename>
</li>
<li>save_trajectory  <fileprefix> ''saves the sensor trajectory to the file <fileprefix>_estimate.txt''</fileprefix></fileprefix>
</li>
</ul>

<h1 id="further-help">Further Help</h1>

<p>The compilation may take a lot of memory, particularly if the environment variable
$ROS_PARALLEL_JOBS is set.</p>

<p>If you are located in Germany and get errors loading the saved ply files
into meshlab, try switching to U.S. locale or replace the decimal point with a
comma in your .ply file </p>

<p>If you have questions regarding installation or usage of RGBDSLAM please refer
to <a href="http://answers.ros.org/questions/?tags=RGBDSLAM">http://answers.ros.org/questions/?tags=RGBDSLAM</a> For further questions,
suggestions, corrections of this README or to submit patches, please contact
Felix Endres (<a href="mailto:endres@informatik.uni-freiburg.de">endres@informatik.uni-freiburg.de</a>).</p>

<p>Apart from this manual, code documentation can be created using rosdoc
("rosrun rosdoc rosdoc rgbdslam"), which will create a "doc" folder in your
current directory.</p>

<h2 id="gicp-and-siftgpu">GICP and SIFTGPU</h2>

<p>If there are problems related to the compilation or linking of GICP or SIFTGPU,
you can deactivate these features at the top of CMakeLists.txt. You might get
even faster GPU features setting the parameter "siftgpu_with_cuda" but you will
need to install the proprietary CUDA drivers that may require a NVidia GPU 
(see <a href="http://www.nvidia.com/object/cuda_gpus.html">http://www.nvidia.com/object/cuda_gpus.html</a>).  For installing the
development drivers and the CUDA SDK you can use the following tutorial:
<a href="http://sublimated.wordpress.com/2011/03/25/installing-cuda-4-0-rc-on-ubuntu-10-10-64-bit/">http://sublimated.wordpress.com/2011/03/25/installing-cuda-4-0-rc-on-ubuntu-10-10-64-bit/</a>
or for ubuntu 10.04: <a href="http://ubuntuforums.org/showthread.php?t=1625433">http://ubuntuforums.org/showthread.php?t=1625433</a> (tested
on Ubuntu 10.04 x64) To use SiftGPU you should install "libdevil-dev".</p>

<p>Additional compiling information can be changed in
  external/siftgpu/linux/makefile.</p>

<p>If you get an error that the siftgpu library is not found, execute "make" manually
  in the directory external/siftgpu/ and rerun catkin_make.</p>

<p>GICP Generalized ICP can be (de)activated for refining the registration. For
  more information see <a href="http://stanford.edu/%7Eavsegal/generalized_icp.html">http://stanford.edu/~avsegal/generalized_icp.html</a></p>

<h1 id="license-information">License Information</h1>

<p>This software is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.</p>

<p>RGBDSLAM is licenced under GPL v.3. See the accompanying file "COPYING".</p>
</div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-indigo">
    <div class="container-fluid">
      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/felixendres/rgbdslam_v2.git">https://github.com/felixendres/rgbdslam_v2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">indigo</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2016-11-28
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rgbdslam/github-felixendres-rgbdslam_v2">rgbdslam</a></td>
                    <td>0.2.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="rgbdslamv2">RGBDSLAM<i>v2</i>
</h1>

<p>... is a state-of-the-art SLAM system for RGB-D cameras, e.g., the Microsoft
Kinect or the Asus Xtion Pro Live.  You can use it to create 3D point clouds or
OctoMaps. </p>

<p>RGBDSLAMv2 is based on the open source projects, ROS, OpenCV, OpenGL, PCL,
OctoMap, SiftGPU, g2o, and more - Thanks!</p>

<p>A journal article with a system description and performance evaluation 
can be found in the following publication:</p>

<p>"3D Mapping with an RGB-D Camera",<br>
<em>F. Endres, J. Hess, J. Sturm, D. Cremers, W. Burgard</em>,<br>
IEEE Transactions on Robotics, 2014.</p>

<p>Additional information can be found here:<br>
* <a href="http://www.informatik.uni-freiburg.de/%7Eendres">www.informatik.uni-freiburg.de/~endres</a>
* <a href="http://www.ros.org/wiki/rgbdslam">http://www.ros.org/wiki/rgbdslam</a>
* <a href="http://answers.ros.org/questions/tags:rgbdslam">http://answers.ros.org/questions/tags:rgbdslam</a></p>

<p><img src="http://raw.githubusercontent.com/felixendres/rgbdslam_v2/hydro/media/rgbdslamv2_fr2desk.jpg" alt="RGBDSLAM on the RGB-D Benchmark Dataset" width="600"></p>

<h1 id="prerequisites">Prerequisites</h1>

<ul>
<li>Ubuntu 14.04 </li>
<li><a href="http://wiki.ros.org/indigo/">ROS indigo</a></li>
</ul>

<h1 id="installation">Installation</h1>

<ol>
<li><p>Put RGBDSLAMv2 in a catkin workspace: See <a href="http://wiki.ros.org/catkin/Tutorials/create_a_workspace">the catkin tutorial</a> 
for details. Use git to clone this repository into your workspace's "src/" directory. Or download RGBDSLAMv2 as an <a href="http://codeload.github.com/felixendres/rgbdslam_v2/zip/indigo">archive</a> and extract it to "src/".</p></li>
<li><p>Use rosdep (i.e. "rosdep install rgbdslam") to install missing 
dependencies. For details see <a href="http://wiki.ros.org/ROS/Tutorials/rosdep">http://wiki.ros.org/ROS/Tutorials/rosdep</a></p></li>
<li><p>To build RGBDSLAMv2 go to your catkin workspace and execute "catkin_make". 
If you get an error about the missing siftgpu library, execute "catkin_make" again.</p></li>
</ol>

<h2 id="installation-from-scratch">Installation from Scratch</h2>

<p>This walkthrough is is hardly tested, so watch out for problems.
Assuming you have installed ROS indigo on Ubuntu 14.04, issue the following commands in 
a terminal (copy-paste should work)</p>
<div class="highlight"><pre><code class="language-" data-lang="">#Prepare Workspace
source /opt/ros/indigo/setup.bash
mkdir -p ~/rgbdslam_catkin_ws/src
cd ~/rgbdslam_catkin_ws/src
catkin_init_workspace
cd ~/rgbdslam_catkin_ws/
catkin_make
source devel/setup.bash

#Get RGBDSLAM
cd ~/rgbdslam_catkin_ws/src
wget -q http://github.com/felixendres/rgbdslam_v2/archive/indigo.zip
unzip -q indigo.zip
cd ~/rgbdslam_catkin_ws/

#Install
rosdep update
rosdep install rgbdslam
catkin_make 
</code></pre></div>
<h1 id="installation-done-whats-next">Installation done! What's next?</h1>

<p>See the sections below for more details on the usage. 
But to get you started quickly here's the most important pointers:</p>

<ul>
<li><p>If you want to use RGBDSLAMv2 with an RGB-D camera you may have
to install openni (sudo apt-get install ros-indigo-openni-launch).</p></li>
<li><p>Check out the launch files in "launch/" for examples and specific 
use cases. roslaunch rgbdslam openni+rgbdslam.launch is a good starting 
point for live mapping.</p></li>
<li><p>Check out the README in "test/" for running, testing and evaluating
RGBDSLAMv2 on Juergen Sturm's RGB-D SLAM Dataset and Benchmark:
<a href="http://vision.in.tum.de/data/datasets/rgbd-dataset">http://vision.in.tum.de/data/datasets/rgbd-dataset</a>
You need cython for the evaluation scripts (sudo apt-get install cython).</p></li>
<li><p>If you want to use SURF or SIFT, you will need to build OpenCV from source,
including the non-free module (this does not include SIFTGPU, which is
included, but needs to be enabled in CMakeLists.txt). In the CMakeLists.txt 
of RGBDSLAMv2 you can set the build directory of OpenCV and enable the
non-free functionality.  Note that SIFT and SURF are not the best choice.
Due to new (software) features in RGBDSLAMv2, ORB outperforms both.</p></li>
</ul>

<p><img src="http://raw.githubusercontent.com/felixendres/rgbdslam_v2/hydro/media/rgbdslamv2_empty.jpg" alt="RGBDSLAM right after startup" width="600"></p>

<h2 id="important-note">IMPORTANT NOTE</h2>

<p>This software is an update of the ROS Fuerte version of RGBDSLAM. However
many things have changed, so some of the DOCUMENTATION BELOW MAY BE OUTDATED.
Please report problems with the documentation. Thanks.</p>

<h1 id="configuration">Configuration</h1>

<p>There are several example launch-files that set the parameters of RGB-D SLAM
for certain use cases. For a definitive list of all settings and their default
settings have a look at their quite readable definition in
src/parameter_server.cpp or (with the current settings instead of the default)
in the GUI Menu Settings-&gt;View Current Settings.</p>

<p>The various use-case launch-files might not work correctly yet, as they are not
regularly tested. You should get them running if you fiddle with the topics
("rostopic list" and "rosnode info" will help you. "rqt_graph" is great too).</p>

<h1 id="usage">Usage</h1>

<p>Most people seem to want the registered point cloud. It is by default sent out
on /rgbdslam/batch_clouds when you command RGB-D SLAM to do so (see below). The
clouds sent are actually the same as before, but the according transformation -
by default from /map to /openni_camera - is sent out on /tf.</p>

<p>The octoMap library is compiled into the rgbdslam node. This allows to create
the octomap directly. In the GUI this can be done by selecting "Save Octomap"
from the "Data" Menu. Online octomapping is possible, but not recommended.</p>

<p><img src="http://raw.githubusercontent.com/felixendres/rgbdslam_v2/hydro/media/rgbdslamv2_fr2desk_octomap.jpg" width="600" alt="OctoMap created from the RGB-D Benchmark sequence fr2/desk"></p>

<h2 id="usage-with-gui">Usage with GUI</h2>

<p>To start RGBDSLAMv2 launch, e.g.,
$ roslaunch rgbdslam openni+rgbdslam.launch</p>

<p>Alternatively you can start the openni nodes and RGBDSLAMv2 separately, e.g.:
roslaunch openni_camera openni_node.launch 
roslaunch rgbdslam rgbdslam.launch</p>

<p>To capture models either press space to start recording a continuous stream or
press enter to record a single frame. To reduce data redundancy, sequential
frames from (almost) the same position are not included in the final model.</p>

<p>Parameters
RGBDSLAMv2 is customizable by parameters. These should be set in the launch
file. Parameters can be changed during operation from the GUI, however, 
changes from the GUI may have no effect for many parameters.</p>

<p>Visualization
The 3D visualization shows the globally optimized model (you might have
to click into it to update the view after optimization). Neighbouring
points can be triangulated except at missing values and depth jumps. With
the shortcut "t", triangulation can be toggled. Since raw points render
slightly faster the parameter "cloud_display_type" controls whether 
triangulation is computed at all - at the time the cloud is received.
The parameter "gl_point_size" may be useful to most users.</p>

<h2 id="usage-without-gui">Usage without GUI</h2>

<p>The RosUI is an alternative to the Grapical_UI to run the rgbdslam headless,
for example on the PR2.  rgbdslam can then be used via service-calls.
The possible calls are:
 * /rgbdslam/ros_ui   {reset,  quick_save,  send_all,  delete_frame,  optimize,  reload_config, save_trajectory}
 * /rgbdslam/ros_ui_b {pause, record} {true, false}
 * /rgbdslam/ros_ui_f {set_max} {float}
 * /rgbdslam/ros_ui_s {save_octomap,  save_cloud,  save_g2o_graph,  save_trajectory,  save_features,  save_individual} {filename}</p>

<p>To start the rgbdslam headless use the headless.launch: 
$ roslaunch rgbdslam headless.launch</p>

<p>Capture single frames via: 
$ rosservice call /rgbdslam/ros_ui frame</p>

<p>Capture a stream of data: 
$ rosservice call /rgbdslam/ros_ui_b pause false</p>

<p>Send point clouds with computed transformations (e.g., to rviz or octomap_server): 
$ rosservice call /rgbdslam/ros_ui send_all</p>

<p>Save data using one of the following:</p>

<p>All pointclouds in one file quicksave.pcd in rgbdslam/bin-directory: 
$ rosservice call /rgbdslam/ros_ui_s save_cloud</p>

<p>Every pointcloud in its own file in rgbdslam/bin-directory: 
$ rosservice call /rgbdslam/ros_ui save_individual</p>

<p>/rgbdslam/ros_ui: </p>

<ul>
<li>reset    ''resets the graph, delets all nodes (refreshes only when capturing new images)''</li>
<li>frame    ''capture one frame from the sensor''</li>
<li>optimize ''trigger graph optimizer''</li>
<li>reload_config    ''reloads the paramters from the ROS paramter server''</li>
<li>quick_save ''saves all pointclouds in one file quicksave.pcd in rgbdslam/bin-directory''</li>
<li>send_all ''sends all pointclouds to /rgbdslam/transformed_cloud (can be visualized with rviz)''</li>
<li>delete_frame ''delete the last frame from the graph (refreshes only when capturing new images)''</li>
</ul>

<p>/rgbdslam/ros_ui_b: </p>

<ul>
<li>pause <flag> ''pauses or resumes the capturing of images'' </flag>
</li>
<li>record <flag>  ''pauses or stops the recording of bag-files, can be found in the rgbdslam/bin-directory''</flag>
</li>
</ul>

<p>/rgbdslam/ros_ui_f: </p>

<ul>
<li>set_max <float>  ''filters out all datapoints further away than this value (in cm, only for saving to files)''</float>
</li>
</ul>

<p>/rgbdslam/ros_ui_s: </p>

<ul>
<li>save_features <filname> ''saves the feature locations and descriptors in a yaml file with the given filename''</filname>
</li>
<li>save_cloud   <filename> ''saves the cloud to the given filename (should end with .ply or .pcd)''</filename>
</li>
<li>save_individual <fileprefix> ''saves every scan in its own file (appending a suffix to the given prefix)''</fileprefix>
</li>
<li>save_octomap <filename> ''saves the cloud to the given filename''</filename>
</li>
<li>save_trajectory  <fileprefix> ''saves the sensor trajectory to the file <fileprefix>_estimate.txt''</fileprefix></fileprefix>
</li>
</ul>

<h1 id="further-help">Further Help</h1>

<p>The compilation may take a lot of memory, particularly if the environment variable
$ROS_PARALLEL_JOBS is set.</p>

<p>If you are located in Germany and get errors loading the saved ply files
into meshlab, try switching to U.S. locale or replace the decimal point with a
comma in your .ply file </p>

<p>If you have questions regarding installation or usage of RGBDSLAM please refer
to <a href="http://answers.ros.org/questions/?tags=RGBDSLAM">http://answers.ros.org/questions/?tags=RGBDSLAM</a> For further questions,
suggestions, corrections of this README or to submit patches, please contact
Felix Endres (<a href="mailto:endres@informatik.uni-freiburg.de">endres@informatik.uni-freiburg.de</a>).</p>

<p>Apart from this manual, code documentation can be created using rosdoc
("rosrun rosdoc rosdoc rgbdslam"), which will create a "doc" folder in your
current directory.</p>

<h2 id="gicp-and-siftgpu">GICP and SIFTGPU</h2>

<p>If there are problems related to the compilation or linking of GICP or SIFTGPU,
you can deactivate these features at the top of CMakeLists.txt. You might get
even faster GPU features setting the parameter "siftgpu_with_cuda" but you will
need to install the proprietary CUDA drivers that may require a NVidia GPU 
(see <a href="http://www.nvidia.com/object/cuda_gpus.html">http://www.nvidia.com/object/cuda_gpus.html</a>).  For installing the
development drivers and the CUDA SDK you can use the following tutorial:
<a href="http://sublimated.wordpress.com/2011/03/25/installing-cuda-4-0-rc-on-ubuntu-10-10-64-bit/">http://sublimated.wordpress.com/2011/03/25/installing-cuda-4-0-rc-on-ubuntu-10-10-64-bit/</a>
or for ubuntu 10.04: <a href="http://ubuntuforums.org/showthread.php?t=1625433">http://ubuntuforums.org/showthread.php?t=1625433</a> (tested
on Ubuntu 10.04 x64) To use SiftGPU you should install "libdevil-dev".</p>

<p>Additional compiling information can be changed in
  external/siftgpu/linux/makefile.</p>

<p>If you get an error that the siftgpu library is not found, execute "make" manually
  in the directory external/siftgpu/ and rerun catkin_make.</p>

<p>GICP Generalized ICP can be (de)activated for refining the registration. For
  more information see <a href="http://stanford.edu/%7Eavsegal/generalized_icp.html">http://stanford.edu/~avsegal/generalized_icp.html</a></p>

<h1 id="license-information">License Information</h1>

<p>This software is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.</p>

<p>RGBDSLAM is licenced under GPL v.3. See the accompanying file "COPYING".</p>
</div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-ardent">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>ardent</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jade">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jade</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-hydro">
    <div class="container-fluid">
      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/felixendres/rgbdslam_v2.git">https://github.com/felixendres/rgbdslam_v2.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">hydro</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2015-12-15
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/rgbdslam/github-felixendres-rgbdslam_v2">rgbdslam</a></td>
                    <td>0.2.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<h1 id="rgbdslamv2">RGBDSLAM<i>v2</i>
</h1>

<p>... is a state-of-the-art SLAM system for RGB-D cameras, e.g., the Microsoft
Kinect or the Asus Xtion Pro Live.  You can use it to create 3D point clouds or
OctoMaps. </p>

<p>RGBDSLAMv2 is based on the open source projects, ROS, OpenCV, OpenGL, PCL,
OctoMap, SiftGPU, g2o, and more - Thanks!</p>

<p>A journal article with a system description and performance evaluation 
can be found in the following publication:</p>

<p>"3D Mapping with an RGB-D Camera",<br>
<em>F. Endres, J. Hess, J. Sturm, D. Cremers, W. Burgard</em>,<br>
IEEE Transactions on Robotics, 2014.</p>

<p>Additional information can be found here:<br>
* <a href="http://www.informatik.uni-freiburg.de/%7Eendres">www.informatik.uni-freiburg.de/~endres</a>
* <a href="http://www.ros.org/wiki/rgbdslam">http://www.ros.org/wiki/rgbdslam</a>
* <a href="http://answers.ros.org/questions/tags:rgbdslam">http://answers.ros.org/questions/tags:rgbdslam</a></p>

<p><img src="http://raw.githubusercontent.com/felixendres/rgbdslam_v2/hydro/media/rgbdslamv2_fr2desk.jpg" alt="RGBDSLAM on the RGB-D Benchmark Dataset" width="600"></p>

<h1 id="prerequisites">Prerequisites</h1>

<ul>
<li>Ubuntu 12.04 - 13.04</li>
<li><a href="http://wiki.ros.org/hydro/">ROS hydro</a></li>
<li>Problems may occur when using a version of the PCL library different from the ROS hydro version.</li>
</ul>

<h1 id="installation">Installation</h1>

<p>The installation of RGBDSLAMv2 for ROS hydro should be straightforward.
A copy-pastable walkthrough can be found below</p>

<ol>
<li><p>Put RGBDSLAMv2 in a catkin workspace: See <a href="http://wiki.ros.org/catkin/Tutorials/create_a_workspace">the catkin tutorial</a> 
for details. Use git to clone this repository into your workspace's "src/" directory. Or download RGBDSLAMv2 as an <a href="http://codeload.github.com/felixendres/rgbdslam_v2/zip/hydro">archive</a> and extract it to "src/".</p></li>
<li><p>Use rosdep (i.e. "rosdep install rgbdslam") to install missing 
dependencies. For details see <a href="http://wiki.ros.org/ROS/Tutorials/rosdep">http://wiki.ros.org/ROS/Tutorials/rosdep</a></p></li>
<li><p>To build RGBDSLAMv2 go to your catkine workspace and execute "catkin_make". 
If you get an error about the missing siftgpu library, execute "catkin_make" again.</p></li>
</ol>

<h2 id="installation-from-scratch">Installation from Scratch</h2>

<p>Assuming you have installed ROS hydro on Ubuntu, issue the following commands in 
a terminal (or copy-paste the whole sequence at once)</p>
<div class="highlight"><pre><code class="language-" data-lang="">#Prepare Workspace
source /opt/ros/hydro/setup.bash
mkdir -p ~/rgbdslam_catkin_ws/src
cd ~/rgbdslam_catkin_ws/src
catkin_init_workspace
cd ~/rgbdslam_catkin_ws/
catkin_make
source devel/setup.bash

#Get RGBDSLAM
cd ~/rgbdslam_catkin_ws/src
wget -q http://github.com/felixendres/rgbdslam_v2/archive/hydro.zip
unzip -q hydro.zip
cd ~/rgbdslam_catkin_ws/

#Install
rosdep update
rosdep install rgbdslam
catkin_make 
catkin_make
</code></pre></div>
<h1 id="installation-done-whats-next">Installation done! What's next?</h1>

<p>See the sections below for more details on the usage. 
But to get you started quickly here's the most important pointers:</p>

<ul>
<li><p>If you want to use RGBDSLAMv2 with an RGB-D camera you may have
to install openni (sudo apt-get install ros-hydro-openni-launch).</p></li>
<li><p>Check out the launch files in "launch/" for examples and specific 
use cases. roslaunch rgbdslam openni+rgbdslam.launch is a good starting 
point for live mapping.</p></li>
<li><p>Check out the README in "test/" for running, testing and evaluating
RGBDSLAMv2 on Juergen Sturm's RGB-D SLAM Dataset and Benchmark:
<a href="http://vision.in.tum.de/data/datasets/rgbd-dataset">http://vision.in.tum.de/data/datasets/rgbd-dataset</a></p></li>
</ul>

<p><img src="http://raw.githubusercontent.com/felixendres/rgbdslam_v2/hydro/media/rgbdslamv2_empty.jpg" alt="RGBDSLAM right after startup" width="600"></p>

<h2 id="important-note">IMPORTANT NOTE</h2>

<p>This software is an update of the ROS Fuerte version of RGBDSLAM. However
many things have changed, so some of the DOCUMENTATION BELOW MAY BE OUTDATED.
Please report problems with the documentation. Thanks.</p>

<h1 id="configuration">Configuration</h1>

<p>There are several example launch-files that set the parameters of RGB-D SLAM
for certain use cases. For a definitive list of all settings and their default
settings have a look at their quite readable definition in
src/parameter_server.cpp or (with the current settings instead of the default)
in the GUI Menu Settings-&gt;View Current Settings.</p>

<p>The various use-case launch-files might not work correctly yet, as they are not
regularly tested. You should get them running if you fiddle with the topics
("rostopic list" and "rosnode info" will help you. "rqt_graph" is great too).</p>

<h1 id="usage">Usage</h1>

<p>Most people seem to want the registered point cloud. It is by default sent out
on /rgbdslam/batch_clouds when you command RGB-D SLAM to do so (see below). The
clouds sent are actually the same as before, but the according transformation -
by default from /map to /openni_camera - is sent out on /tf.</p>

<p>The octoMap library is compiled into the rgbdslam node. This allows to create
the octomap directly. In the GUI this can be done by selecting "Save Octomap"
from the "Data" Menu. Online octomapping is possible, but not recommended.</p>

<p><img src="http://raw.githubusercontent.com/felixendres/rgbdslam_v2/hydro/media/rgbdslamv2_fr2desk_octomap.jpg" width="600" alt="OctoMap created from the RGB-D Benchmark sequence fr2/desk"></p>

<h2 id="usage-with-gui">Usage with GUI</h2>

<p>To start RGBDSLAMv2 launch, e.g.,
$ roslaunch rgbdslam openni+rgbdslam.launch</p>

<p>Alternatively you can start the openni nodes and RGBDSLAMv2 separately, e.g.:
roslaunch openni_camera openni_node.launch 
roslaunch rgbdslam rgbdslam.launch</p>

<p>To capture models either press space to start recording a continuous stream or
press enter to record a single frame. To reduce data redundancy, sequential
frames from (almost) the same position are not included in the final model.</p>

<p>Parameters
RGBDSLAMv2 is customizable by parameters. These should be set in the launch
file. Parameters can be changed during operation from the GUI, however, 
changes from the GUI may have no effect for many parameters.</p>

<p>Visualization
The 3D visualization shows the globally optimized model (you might have
to click into it to update the view after optimization). Neighbouring
points can be triangulated except at missing values and depth jumps. With
the shortcut "t", triangulation can be toggled. Since raw points render
slightly faster the parameter "cloud_display_type" controls whether 
triangulation is computed at all - at the time the cloud is received.
The parameter "gl_point_size" may be useful to most users.</p>

<h2 id="usage-without-gui">Usage without GUI</h2>

<p>The RosUI is an alternative to the Grapical_UI to run the rgbdslam headless,
for example on the PR2.  rgbdslam can then be used via service-calls.
The possible calls are:
 * /rgbdslam/ros_ui   {reset,  quick_save,  send_all,  delete_frame,  optimize,  reload_config, save_trajectory}
 * /rgbdslam/ros_ui_b {pause, record} {true, false}
 * /rgbdslam/ros_ui_f {set_max} {float}
 * /rgbdslam/ros_ui_s {save_octomap,  save_cloud,  save_g2o_graph,  save_trajectory,  save_features,  save_individual} {filename}</p>

<p>To start the rgbdslam headless use the headless.launch: 
$ roslaunch rgbdslam headless.launch</p>

<p>Capture single frames via: 
$ rosservice call /rgbdslam/ros_ui frame</p>

<p>Capture a stream of data: 
$ rosservice call /rgbdslam/ros_ui_b pause false</p>

<p>Send point clouds with computed transformations (e.g., to rviz or octomap_server): 
$ rosservice call /rgbdslam/ros_ui send_all</p>

<p>Save data using one of the following:</p>

<p>All pointclouds in one file quicksave.pcd in rgbdslam/bin-directory: 
$ rosservice call /rgbdslam/ros_ui_s save_cloud</p>

<p>Every pointcloud in its own file in rgbdslam/bin-directory: 
$ rosservice call /rgbdslam/ros_ui save_individual</p>

<p>/rgbdslam/ros_ui: </p>

<ul>
<li>reset    ''resets the graph, delets all nodes (refreshes only when capturing new images)''</li>
<li>frame    ''capture one frame from the sensor''</li>
<li>optimize ''trigger graph optimizer''</li>
<li>reload_config    ''reloads the paramters from the ROS paramter server''</li>
<li>quick_save ''saves all pointclouds in one file quicksave.pcd in rgbdslam/bin-directory''</li>
<li>send_all ''sends all pointclouds to /rgbdslam/transformed_cloud (can be visualized with rviz)''</li>
<li>delete_frame ''delete the last frame from the graph (refreshes only when capturing new images)''</li>
</ul>

<p>/rgbdslam/ros_ui_b: </p>

<ul>
<li>pause <flag> ''pauses or resumes the capturing of images'' </flag>
</li>
<li>record <flag>  ''pauses or stops the recording of bag-files, can be found in the rgbdslam/bin-directory''</flag>
</li>
</ul>

<p>/rgbdslam/ros_ui_f: </p>

<ul>
<li>set_max <float>  ''filters out all datapoints further away than this value (in cm, only for saving to files)''</float>
</li>
</ul>

<p>/rgbdslam/ros_ui_s: </p>

<ul>
<li>save_features <filname> ''saves the feature locations and descriptors in a yaml file with the given filename''</filname>
</li>
<li>save_cloud   <filename> ''saves the cloud to the given filename (should end with .ply or .pcd)''</filename>
</li>
<li>save_individual <fileprefix> ''saves every scan in its own file (appending a suffix to the given prefix)''</fileprefix>
</li>
<li>save_octomap <filename> ''saves the cloud to the given filename''</filename>
</li>
<li>save_trajectory  <fileprefix> ''saves the sensor trajectory to the file <fileprefix>_estimate.txt''</fileprefix></fileprefix>
</li>
</ul>

<h1 id="further-help">Further Help</h1>

<p>If you are located in Germany and get errors loading the saved ply files
into meshlab, try switching to U.S. locale or replace the decimal point with a
comma in your .ply file </p>

<p>If you have questions regarding installation or usage of RGBDSLAM please refer
to <a href="http://answers.ros.org/questions/?tags=RGBDSLAM">http://answers.ros.org/questions/?tags=RGBDSLAM</a> For further questions,
suggestions, corrections of this README or to submit patches, please contact
Felix Endres (<a href="mailto:endres@informatik.uni-freiburg.de">endres@informatik.uni-freiburg.de</a>).</p>

<p>Apart from this manual, code documentation can be created using rosdoc
("rosrun rosdoc rosdoc rgbdslam"), which will create a "doc" folder in your
current directory.</p>

<h2 id="gicp-and-siftgpu">GICP and SIFTGPU</h2>

<p>If there are problems related to the compilation or linking of GICP or SIFTGPU,
you can deactivate these features at the top of CMakeLists.txt. You might get
even faster GPU features setting SIFT_GPU_MODE to 1 (CUDA) but you will need to
install proprietary drivers: SiftGPU uses (in our case) CUDA, which needs a new
NVidia GPU (see <a href="http://www.nvidia.com/object/cuda_gpus.html">http://www.nvidia.com/object/cuda_gpus.html</a>).  For installing
the development drivers and the CUDA SDK you can use the following tutorial:
<a href="http://sublimated.wordpress.com/2011/03/25/installing-cuda-4-0-rc-on-ubuntu-10-10-64-bit/">http://sublimated.wordpress.com/2011/03/25/installing-cuda-4-0-rc-on-ubuntu-10-10-64-bit/</a>
or for ubuntu 10.04: <a href="http://ubuntuforums.org/showthread.php?t=1625433">http://ubuntuforums.org/showthread.php?t=1625433</a> (tested
on Ubuntu 10.04 x64) To use SiftGPU you should install "libdevil-dev".</p>

<p>Additional compiling information can be changed in
  external/siftgpu/linux/makefile.</p>

<p>GICP Generalized ICP can be (de)activated for refining the registration. For
  more information see <a href="http://stanford.edu/%7Eavsegal/generalized_icp.html">http://stanford.edu/~avsegal/generalized_icp.html</a></p>

<h1 id="license-information">License Information</h1>

<p>This software is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.</p>

<p>RGBDSLAM is licenced under GPL v.3. See the accompanying file "COPYING".</p>
</div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>


<script type="text/javascript">
  $(document).ready(function() {
    setupDistroSwitch("crystal");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-4 col-md-4">
          
            <a href="https://github.com/ros-infrastructure" title="Find rosindex in Github">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>

            <span class="username">ros-infrastructure</span>
          </a>
          |
          <em>generated on 2019-05-24</em>
        
        </div>
        <div class="col-sm-8 col-md-8 text-right">
          <p class="text">a community-maintained index of robotics software
 | <a href="/privacy.txt">privacy</a></p>
        </div>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
