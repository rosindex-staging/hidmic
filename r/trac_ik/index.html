<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="https://ros-infrastructure.github.io/index.ros.org//r/trac_ik/">
    
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/sphinx.css">
    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie-1.4.1/jquery.cookie.js type="text/javascript"></script>

    <script type="text/javascript" src=/js/ga.js async></script>
    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">

      <div align="center">
        <br>
        <table id="topnav-table">
          <tr>
            <td valign="middle">
                ROS Resources:
              <a href="http://wiki.ros.org/">Documentation</a>
              |
              <a href="http://wiki.ros.org/Support">Support</a>
              |
              <a href="http://discourse.ros.org/">Discussion Forum</a>
              |
              <a href="http://status.ros.org/">Service Status</a>
              |
              <a href="http://answers.ros.org/">Q&A answers.ros.org</a>
            </td>
          </tr>
        </table> <!-- topnav-table -->
      </div>

      <div class="row">

        <div class="col-sm-12 col-md-9" style="margin-top: 8px">
          <div class="row">
            <!-- title -->
            <div class="col-xs-12 col-sm-3 col-md-3" style="white-space:nowrap;">
              <a class="site-title" href="/">ROS Index</a> <sup><a href="https://github.com/ros-infrastructure/rosindex/issues/new" style="vertical-align:super;" class="label label-warning" target="_blank">BETA</a></sup>
            </div>

            <!-- main links -->
            <div class="col-xs-12 col-sm-9 col-md-9 text-right">
              <ul class="list-inline" style="margin-bottom:0px;">
                <li><a class="btn btn-link" href="/about">About</a></li>

                <li class="dropdown">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Index <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li><a href="/packages/page/1/time/">Package List</a></li>
                    <li><a href="/repos/page/1/time/">Repository List</a></li>

                    <li class="hidden" class="divider"></li>


                    <li class="hidden"><a href="/srvs/">Nodes</a></li>
                    <li class="hidden"><a href="/msgs/">Messages</a></li>
                    <li class="hidden"><a href="/srvs/">Services</a></li>
                    <li class="hidden"><a href="/srvs/">Plugins</a></li>

                    <li class="divider"></li>

                    <li><a href="/deps/">System Dependencies</a></li>
                  </ul>
                </li>

                <li class="dropdown disabled">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Doc <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    
                    <li>
                      <a href="/doc/ros2">
                        ROS2 Overview
                      </a>
                    </li>
                    
                    <li class="hidden" class="divider"></li>

                    <li class="hidden"><a href="/doc/tutorials">Tutorials</a></li>
                    <li class="hidden"><a href="/doc/readmes">Readmes</a></li>
                    <li class="hidden"><a href="/doc/apis">APIs</a></li>
                  </ul>
                </li>

                <li><a class="btn btn-link" href="/contribute">Contribute</a></li>
                <li><a class="btn btn-link" href="/stats">Stats</a></li>
              </ul>

            </div>
          </div>
        </div>

        <!-- searchbox -->
        <div class="col-sm-12 col-md-3" style="margin-top: 12px">
          <form id="top-searchbox" action="/search/" role="form" method="get">
            <div class="input-group input-group-sm">
              <input type="text" class="form-control" name="term" placeholder="Search ROS">
              <span class="input-group-btn">
                <button class="btn btn-default btn-sm" title="Search ROS" type="submit">
                  <span class="glyphicon glyphicon-search"></span>
                </button>
                <a href="https://lunrjs.com/guides/searching.html"
                   title="Help to Search" class="btn btn-default btn-sm">
                  <span class="glyphicon glyphicon-question-sign"></span>
                </a>
              </span>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!--
    <a class="site-title" href="/">ROS Index</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="/packages">Packages</a>
        <a class="page-link" href="/repos">Repositories</a>
        <a class="page-link" href="/search">Search</a>
      </div>
    </nav>
    -->

  </div>
  <script type="text/javascript">
    $('#top-searchbox').submit(function() {
        return $('#top-searchbox input:text').filter(function() {
          return $(this).val() == "";
        }).length == 0;
    });
  </script>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top:20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li class="active">trac_ik</li>
        <!--<li class="active">trac_ik</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="crystal-option" class="distro-button btn btn-xs btn-default" href="#crystal" data="crystal">
      <input type="radio" name="options" id="crystal-radio" autocomplete="off"> crystal
    </label>
  
    <label id="bouncy-option" class="distro-button btn btn-xs btn-default" href="#bouncy" data="bouncy">
      <input type="radio" name="options" id="bouncy-radio" autocomplete="off"> bouncy
    </label>
  
    <label id="melodic-option" class="distro-button btn btn-xs btn-primary" href="#melodic" data="melodic">
      <input type="radio" name="options" id="melodic-radio" autocomplete="off"> melodic
    </label>
  
    <label id="lunar-option" class="distro-button btn btn-xs btn-primary" href="#lunar" data="lunar">
      <input type="radio" name="options" id="lunar-radio" autocomplete="off"> lunar
    </label>
  
    <label id="kinetic-option" class="distro-button btn btn-xs btn-primary" href="#kinetic" data="kinetic">
      <input type="radio" name="options" id="kinetic-radio" autocomplete="off"> kinetic
    </label>
  
    <label id="indigo-option" class="distro-button btn btn-xs btn-primary" href="#indigo" data="indigo">
      <input type="radio" name="options" id="indigo-radio" autocomplete="off"> indigo
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-primary" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="ardent" id="ardent-option" class="disabled older-distro-option"  href="#ardent">
          <a href="#ardent" data="ardent" id="ardent-button">ardent</a>
        </li>
      
        <li data="jade" id="jade-option" class=" older-distro-option"  href="#jade">
          <a href="#jade" data="jade" id="jade-button">jade</a>
        </li>
      
        <li data="hydro" id="hydro-option" class="disabled older-distro-option"  href="#hydro">
          <a href="#hydro" data="hydro" id="hydro-button">hydro</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
    <div class="row">
      <div class="well well-sm">
  <div>
    
  </div>
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px;" src="/assets/repo.png">
      </td>
      <td>
        <h3><a style="text-decoration:none;" href="/r/trac_ik">trac_ik</a> <small>repository</small></h3>
        
      </td>
    </tr>
  </table>
  <div class="top-buffer">
    
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 50px">
          <a type="button" class="btn btn-xs btn-default" data-toggle="tooltip" data-placement="left" title="View Instances" 
            href="/repos/trac_ik"><span class="glyphicon glyphicon-th"></span></a>
        </div>
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-star"></span>
                  bitbucket-traclabs-trac_ik
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="bitbucket-traclabs-trac_ik" role="menuitem" tabindex="-1" href="/r/trac_ik/bitbucket-traclabs-trac_ik" data="bitbucket-traclabs-trac_ik">
                    <span class="glyphicon glyphicon-star"></span>
                    bitbucket-traclabs-trac_ik
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
  <div class="top-buffer">
  </div>
</div>

    </div>
  </div>
</div>


  <div class="distro distro-crystal">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>crystal</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-bouncy">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>bouncy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://bitbucket.org/traclabs/trac_ik.git">https://bitbucket.org/traclabs/trac_ik.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2019-04-22
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/trac_ik/bitbucket-traclabs-trac_ik">trac_ik</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_examples/bitbucket-traclabs-trac_ik">trac_ik_examples</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_kinematics_plugin/bitbucket-traclabs-trac_ik">trac_ik_kinematics_plugin</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_lib/bitbucket-traclabs-trac_ik">trac_ik_lib</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_python/bitbucket-traclabs-trac_ik">trac_ik_python</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>The ROS packages in this repository were created to provide an alternative
Inverse Kinematics solver to the popular inverse Jacobian methods in KDL.
Specifically, KDL's convergence algorithms are based on Newton's method, which
does not work well in the presence of joint limits --- common for many robotic
platforms.  TRAC-IK concurrently runs two IK implementations.  One is a simple
extension to KDL's Newton-based convergence algorithm that detects and
mitigates local minima due to joint limits by random jumps.  The second is an
SQP (Sequential Quadratic Programming) nonlinear optimization approach which
uses quasi-Newton methods that better handle joint limits.  By default, the IK
search returns immediately when either of these algorithms converges to an
answer.  Secondary constraints of distance and manipulability are also provided 
in order to receive back the "best" IK solution.</p>

<h3 id="this-repo-contains-5-ros-packages">This repo contains 5 ROS packages:</h3>

<ul>
<li><p>trac_ik is a metapackage with build and complete <a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik/CHANGELOG.rst">Changelog</a> info.</p></li>
<li><p>trac_ik_examples contains examples on how to use the standalone TRAC-IK library.</p></li>
<li><p><a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik_lib">trac_ik_lib</a>, the TRAC-IK kinematics code,
builds a .so library that can be used as a drop in replacement for KDL's IK
functions for KDL chains. Details for use are in trac_ik_lib/README.md.</p></li>
<li><p><a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik_kinematics_plugin">trac_ik_kinematics_plugin</a> builds a <a href="http://moveit.ros.org/documentation/concepts/#kinematics">MoveIt! plugin</a> that can
replace the default KDL plugin for MoveIt! with TRAC-IK for use in planning.
Details for use are in trac_ik_kinematics_plugin/README.md. (Note prior to v1.1.2, the plugin was not thread safe.)</p></li>
<li><p><a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik_python">trac_ik_python</a>, SWIG based python wrapper to use TRAC-IK. Details for use are in trac_ik_python/README.md.</p></li>
</ul>

<h3 id="as-of-v1-4-5-this-package-is-part-of-the-ros-kinetic-binaries-sudo-apt-get-install-ros-kinetic-trac-ik-or-indigo-or-jade-starting-with-v1-4-8-this-has-been-released-for-ros-lunar-as-well-melodic-packages-have-been-released-with-1-5-0">As of v1.4.5, this package is part of the ROS Kinetic binaries: <code>sudo apt-get install ros-kinetic-trac-ik</code> (or indigo or jade).  Starting with v1.4.8, this has been released for ROS Lunar as well. Melodic packages have been released with 1.5.0.</h3>

<h3 id="a-detailed-writeup-on-trac-ik-can-be-found-here">A detailed writeup on TRAC-IK can be found here:</h3>

<p><a href="https://personal.traclabs.com/%7Epbeeson/publications/b2hd-Beeson-humanoids-15.html">Humanoids-2015</a> (reported results are from v1.0.0 of TRAC-IK, see below for newer results).</p>

<h3 id="some-sample-results-are-below">Some sample results are below:</h3>

<p><em>Orocos' <strong>KDL</strong></em> (inverse Jacobian w/ joint limits), <em><strong>KDL-RR</strong></em> (our fixes to KDL joint limit handling), and <em><strong>TRAC-IK</strong></em> (our concurrent inverse Jacobian and non-linear optimization solver; Speed mode) are compared below.</p>

<p>IK success and average speed as of TRAC-IK tag v1.4.6.  All results are from 10,000 randomly generated, reachable joint configurations.  Full 3D pose IK was requested at 1e-5 Cartesian error for x,y,z,roll,pitch,yaw with a maximum solve time of 5 ms.  All IK queries are seeded from the chain's "nominal" pose midway between joint limits.</p>

<p><strong>Note on success</strong>: Neither KDL nor TRAC-IK uses any mesh information to determine if <em>valid</em> IK solutions result in self-collisions.  IK solutions deal with link distances and joint ranges, and remain agnostic about self-collisions due to volumes.  Expected future enhancements to TRAC-IK that search for multiple solutions may also include the ability to throw out solutions that result in self collisions (provided the URDF has valid geometry information); however, this is currently not the behaviour of any generic IK solver examined to date.</p>

<p><strong>Note on timings</strong>: The timings provided include both successful and unsuccessful runs.  When an IK solution is not found, the numerical IK solver implementations will run for the full timeout requested, searching for an answer; thus for robot chains where KDL fails much of the time (e.g., Jaco-2), the KDL times are skewed towards the user requested timeout value (here 5 ms).  </p>

<table>
<thead>
<tr>
<th>Chain</th>
<th>DOFs</th>
<th>Orocos' <em>KDL</em> solve rate</th>
<th>Orocos' <em>KDL</em> Avg Time</th>
<th>
<em>KDL-RR</em> solve rate</th>
<th>
<em>KDL-RR</em> Avg Time</th>
<th>
<em>TRAC-IK</em> solve rate</th>
<th>
<em>TRAC-IK</em> Avg Time</th>
</tr>
</thead>
<tbody>
<tr>
<td>ABB Yumi 'single arm'</td>
<td>7</td>
<td><strong>76.88%</strong></td>
<td>1.50ms</td>
<td><strong>90.84%</strong></td>
<td>0.94ms</td>
<td><strong>99.08%</strong></td>
<td>0.56ms</td>
</tr>
<tr>
<td>ABB IRB120</td>
<td>6</td>
<td><strong>39.41%</strong></td>
<td>3.10ms</td>
<td><strong>98.32%</strong></td>
<td>0.41ms</td>
<td><strong>99.91%</strong></td>
<td>0.33ms</td>
</tr>
<tr>
<td>Atlas 2013 arm</td>
<td>6</td>
<td><strong>75.54%</strong></td>
<td>1.35ms</td>
<td><strong>97.14%</strong></td>
<td>0.39ms</td>
<td><strong>99.91%</strong></td>
<td>0.32ms</td>
</tr>
<tr>
<td>Atlas 2015 arm</td>
<td>7</td>
<td><strong>75.63%</strong></td>
<td>1.51ms</td>
<td><strong>93.25%</strong></td>
<td>0.81ms</td>
<td><strong>99.44%</strong></td>
<td>0.42ms</td>
</tr>
<tr>
<td>Baxter arm</td>
<td>7</td>
<td><strong>60.98%</strong></td>
<td>2.22ms</td>
<td><strong>89.64%</strong></td>
<td>1.03ms</td>
<td><strong>99.44%</strong></td>
<td>0.50ms</td>
</tr>
<tr>
<td>Denso VS-068</td>
<td>6</td>
<td><strong>27.92%</strong></td>
<td>3.69ms</td>
<td><strong>98.11%</strong></td>
<td>0.42ms</td>
<td><strong>99.89%</strong></td>
<td>0.34ms</td>
</tr>
<tr>
<td>Fanuc M-430iA/2F</td>
<td>5</td>
<td><strong>21.07%</strong></td>
<td>3.99ms</td>
<td><strong>88.33%</strong></td>
<td>0.92ms</td>
<td><strong>99.70%</strong></td>
<td>0.46ms</td>
</tr>
<tr>
<td>Fetch arm</td>
<td>7</td>
<td><strong>92.40%</strong></td>
<td>0.74ms</td>
<td><strong>93.69%</strong></td>
<td>0.73ms</td>
<td><strong>99.98%</strong></td>
<td>0.32ms</td>
</tr>
<tr>
<td>Franka Emika Panda</td>
<td>7</td>
<td><strong>61.52%</strong></td>
<td>2.17ms</td>
<td><strong>92.22%</strong></td>
<td>0.92ms</td>
<td><strong>99.49%</strong></td>
<td>0.50ms</td>
</tr>
<tr>
<td>Jaco2</td>
<td>6</td>
<td><strong>26.22%</strong></td>
<td>3.79ms</td>
<td><strong>97.65%</strong></td>
<td>0.58ms</td>
<td><strong>99.61%</strong></td>
<td>0.50ms</td>
</tr>
<tr>
<td>KUKA LBR iiwa 14 R820</td>
<td>7</td>
<td><strong>37.63%</strong></td>
<td>3.38ms</td>
<td><strong>93.73%</strong></td>
<td>0.76ms</td>
<td><strong>99.84%</strong></td>
<td>0.35ms</td>
</tr>
<tr>
<td>KUKA LWR 4+</td>
<td>7</td>
<td><strong>67.72%</strong></td>
<td>1.89ms</td>
<td><strong>95.33%</strong></td>
<td>0.64ms</td>
<td><strong>99.99%</strong></td>
<td>0.29ms</td>
</tr>
<tr>
<td>Motoman MH180</td>
<td>6</td>
<td><strong>68.44%</strong></td>
<td>1.67ms</td>
<td><strong>99.34%</strong></td>
<td>0.27ms</td>
<td><strong>99.99%</strong></td>
<td>0.24ms</td>
</tr>
<tr>
<td>Motoman CSDA10F 'torso/1-arm'</td>
<td>8</td>
<td><strong>52.47%</strong></td>
<td>2.85ms</td>
<td><strong>95.16%</strong></td>
<td>0.72ms</td>
<td><strong>99.81%</strong></td>
<td>0.44ms</td>
</tr>
<tr>
<td>PR2 arm</td>
<td>7</td>
<td><strong>82.92%</strong></td>
<td>1.39ms</td>
<td><strong>86.52%</strong></td>
<td>1.30ms</td>
<td><strong>99.97%</strong></td>
<td>0.41ms</td>
</tr>
<tr>
<td>NASA Robonaut2 'leg' + waist + arm</td>
<td>15</td>
<td><strong>97.78%</strong></td>
<td>0.86ms</td>
<td><strong>97.94%</strong></td>
<td>0.85ms</td>
<td><strong>99.88%</strong></td>
<td>0.72ms</td>
</tr>
<tr>
<td>NASA Robonaut2 arm</td>
<td>7</td>
<td><strong>86.11%</strong></td>
<td>1.05ms</td>
<td><strong>93.95%</strong></td>
<td>0.76ms</td>
<td><strong>99.56%</strong></td>
<td>0.41ms</td>
</tr>
<tr>
<td>NASA Robonaut2 'grasping leg'</td>
<td>7</td>
<td><strong>61.10%</strong></td>
<td>2.30ms</td>
<td><strong>87.36%</strong></td>
<td>1.12ms</td>
<td><strong>99.80%</strong></td>
<td>0.51ms</td>
</tr>
<tr>
<td>NASA Robosimian arm</td>
<td>7</td>
<td><strong>61.64%</strong></td>
<td>2.46ms</td>
<td><strong>99.87%</strong></td>
<td>0.37ms</td>
<td><strong>99.95%</strong></td>
<td>0.44ms</td>
</tr>
<tr>
<td>NASA Valkyrie arm</td>
<td>7</td>
<td><strong>45.05%</strong></td>
<td>3.02ms</td>
<td><strong>89.58%</strong></td>
<td>1.32ms</td>
<td><strong>99.76%</strong></td>
<td>0.48ms</td>
</tr>
<tr>
<td>Schunk LWA4D</td>
<td>7</td>
<td><strong>68.22%</strong></td>
<td>1.85ms</td>
<td><strong>96.54%</strong></td>
<td>0.53ms</td>
<td><strong>99.96%</strong></td>
<td>0.34ms</td>
</tr>
<tr>
<td>TRACLabs modular arm</td>
<td>7</td>
<td><strong>78.99%</strong></td>
<td>1.36ms</td>
<td><strong>94.89%</strong></td>
<td>0.65ms</td>
<td><strong>99.96%</strong></td>
<td>0.37ms</td>
</tr>
<tr>
<td>Universal UR3</td>
<td>6</td>
<td><strong>34.12%</strong></td>
<td>3.41ms</td>
<td><strong>88.79%</strong></td>
<td>0.84ms</td>
<td><strong>99.34%</strong></td>
<td>0.49ms</td>
</tr>
<tr>
<td>UR5</td>
<td>6</td>
<td><strong>32.23%</strong></td>
<td>3.49ms</td>
<td><strong>88.62%</strong></td>
<td>0.79ms</td>
<td><strong>99.64%</strong></td>
<td>0.36ms</td>
</tr>
<tr>
<td>UR10</td>
<td>6</td>
<td><strong>30.67%</strong></td>
<td>3.56ms</td>
<td><strong>88.38%</strong></td>
<td>0.80ms</td>
<td><strong>99.68%</strong></td>
<td>0.42ms</td>
</tr>
</tbody>
</table>

<p>Feel free to <a href="mailto:pbeeson@traclabs.com">email Patrick</a> if there is a robot chain that you would like to see added above.</p>
</div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-lunar">
    <div class="container-fluid">
      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://bitbucket.org/traclabs/trac_ik.git">https://bitbucket.org/traclabs/trac_ik.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2019-04-22
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/trac_ik/bitbucket-traclabs-trac_ik">trac_ik</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_examples/bitbucket-traclabs-trac_ik">trac_ik_examples</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_kinematics_plugin/bitbucket-traclabs-trac_ik">trac_ik_kinematics_plugin</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_lib/bitbucket-traclabs-trac_ik">trac_ik_lib</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_python/bitbucket-traclabs-trac_ik">trac_ik_python</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>The ROS packages in this repository were created to provide an alternative
Inverse Kinematics solver to the popular inverse Jacobian methods in KDL.
Specifically, KDL's convergence algorithms are based on Newton's method, which
does not work well in the presence of joint limits --- common for many robotic
platforms.  TRAC-IK concurrently runs two IK implementations.  One is a simple
extension to KDL's Newton-based convergence algorithm that detects and
mitigates local minima due to joint limits by random jumps.  The second is an
SQP (Sequential Quadratic Programming) nonlinear optimization approach which
uses quasi-Newton methods that better handle joint limits.  By default, the IK
search returns immediately when either of these algorithms converges to an
answer.  Secondary constraints of distance and manipulability are also provided 
in order to receive back the "best" IK solution.</p>

<h3 id="this-repo-contains-5-ros-packages">This repo contains 5 ROS packages:</h3>

<ul>
<li><p>trac_ik is a metapackage with build and complete <a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik/CHANGELOG.rst">Changelog</a> info.</p></li>
<li><p>trac_ik_examples contains examples on how to use the standalone TRAC-IK library.</p></li>
<li><p><a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik_lib">trac_ik_lib</a>, the TRAC-IK kinematics code,
builds a .so library that can be used as a drop in replacement for KDL's IK
functions for KDL chains. Details for use are in trac_ik_lib/README.md.</p></li>
<li><p><a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik_kinematics_plugin">trac_ik_kinematics_plugin</a> builds a <a href="http://moveit.ros.org/documentation/concepts/#kinematics">MoveIt! plugin</a> that can
replace the default KDL plugin for MoveIt! with TRAC-IK for use in planning.
Details for use are in trac_ik_kinematics_plugin/README.md. (Note prior to v1.1.2, the plugin was not thread safe.)</p></li>
<li><p><a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik_python">trac_ik_python</a>, SWIG based python wrapper to use TRAC-IK. Details for use are in trac_ik_python/README.md.</p></li>
</ul>

<h3 id="as-of-v1-4-5-this-package-is-part-of-the-ros-kinetic-binaries-sudo-apt-get-install-ros-kinetic-trac-ik-or-indigo-or-jade-starting-with-v1-4-8-this-has-been-released-for-ros-lunar-as-well-melodic-packages-have-been-released-with-1-5-0">As of v1.4.5, this package is part of the ROS Kinetic binaries: <code>sudo apt-get install ros-kinetic-trac-ik</code> (or indigo or jade).  Starting with v1.4.8, this has been released for ROS Lunar as well. Melodic packages have been released with 1.5.0.</h3>

<h3 id="a-detailed-writeup-on-trac-ik-can-be-found-here">A detailed writeup on TRAC-IK can be found here:</h3>

<p><a href="https://personal.traclabs.com/%7Epbeeson/publications/b2hd-Beeson-humanoids-15.html">Humanoids-2015</a> (reported results are from v1.0.0 of TRAC-IK, see below for newer results).</p>

<h3 id="some-sample-results-are-below">Some sample results are below:</h3>

<p><em>Orocos' <strong>KDL</strong></em> (inverse Jacobian w/ joint limits), <em><strong>KDL-RR</strong></em> (our fixes to KDL joint limit handling), and <em><strong>TRAC-IK</strong></em> (our concurrent inverse Jacobian and non-linear optimization solver; Speed mode) are compared below.</p>

<p>IK success and average speed as of TRAC-IK tag v1.4.6.  All results are from 10,000 randomly generated, reachable joint configurations.  Full 3D pose IK was requested at 1e-5 Cartesian error for x,y,z,roll,pitch,yaw with a maximum solve time of 5 ms.  All IK queries are seeded from the chain's "nominal" pose midway between joint limits.</p>

<p><strong>Note on success</strong>: Neither KDL nor TRAC-IK uses any mesh information to determine if <em>valid</em> IK solutions result in self-collisions.  IK solutions deal with link distances and joint ranges, and remain agnostic about self-collisions due to volumes.  Expected future enhancements to TRAC-IK that search for multiple solutions may also include the ability to throw out solutions that result in self collisions (provided the URDF has valid geometry information); however, this is currently not the behaviour of any generic IK solver examined to date.</p>

<p><strong>Note on timings</strong>: The timings provided include both successful and unsuccessful runs.  When an IK solution is not found, the numerical IK solver implementations will run for the full timeout requested, searching for an answer; thus for robot chains where KDL fails much of the time (e.g., Jaco-2), the KDL times are skewed towards the user requested timeout value (here 5 ms).  </p>

<table>
<thead>
<tr>
<th>Chain</th>
<th>DOFs</th>
<th>Orocos' <em>KDL</em> solve rate</th>
<th>Orocos' <em>KDL</em> Avg Time</th>
<th>
<em>KDL-RR</em> solve rate</th>
<th>
<em>KDL-RR</em> Avg Time</th>
<th>
<em>TRAC-IK</em> solve rate</th>
<th>
<em>TRAC-IK</em> Avg Time</th>
</tr>
</thead>
<tbody>
<tr>
<td>ABB Yumi 'single arm'</td>
<td>7</td>
<td><strong>76.88%</strong></td>
<td>1.50ms</td>
<td><strong>90.84%</strong></td>
<td>0.94ms</td>
<td><strong>99.08%</strong></td>
<td>0.56ms</td>
</tr>
<tr>
<td>ABB IRB120</td>
<td>6</td>
<td><strong>39.41%</strong></td>
<td>3.10ms</td>
<td><strong>98.32%</strong></td>
<td>0.41ms</td>
<td><strong>99.91%</strong></td>
<td>0.33ms</td>
</tr>
<tr>
<td>Atlas 2013 arm</td>
<td>6</td>
<td><strong>75.54%</strong></td>
<td>1.35ms</td>
<td><strong>97.14%</strong></td>
<td>0.39ms</td>
<td><strong>99.91%</strong></td>
<td>0.32ms</td>
</tr>
<tr>
<td>Atlas 2015 arm</td>
<td>7</td>
<td><strong>75.63%</strong></td>
<td>1.51ms</td>
<td><strong>93.25%</strong></td>
<td>0.81ms</td>
<td><strong>99.44%</strong></td>
<td>0.42ms</td>
</tr>
<tr>
<td>Baxter arm</td>
<td>7</td>
<td><strong>60.98%</strong></td>
<td>2.22ms</td>
<td><strong>89.64%</strong></td>
<td>1.03ms</td>
<td><strong>99.44%</strong></td>
<td>0.50ms</td>
</tr>
<tr>
<td>Denso VS-068</td>
<td>6</td>
<td><strong>27.92%</strong></td>
<td>3.69ms</td>
<td><strong>98.11%</strong></td>
<td>0.42ms</td>
<td><strong>99.89%</strong></td>
<td>0.34ms</td>
</tr>
<tr>
<td>Fanuc M-430iA/2F</td>
<td>5</td>
<td><strong>21.07%</strong></td>
<td>3.99ms</td>
<td><strong>88.33%</strong></td>
<td>0.92ms</td>
<td><strong>99.70%</strong></td>
<td>0.46ms</td>
</tr>
<tr>
<td>Fetch arm</td>
<td>7</td>
<td><strong>92.40%</strong></td>
<td>0.74ms</td>
<td><strong>93.69%</strong></td>
<td>0.73ms</td>
<td><strong>99.98%</strong></td>
<td>0.32ms</td>
</tr>
<tr>
<td>Franka Emika Panda</td>
<td>7</td>
<td><strong>61.52%</strong></td>
<td>2.17ms</td>
<td><strong>92.22%</strong></td>
<td>0.92ms</td>
<td><strong>99.49%</strong></td>
<td>0.50ms</td>
</tr>
<tr>
<td>Jaco2</td>
<td>6</td>
<td><strong>26.22%</strong></td>
<td>3.79ms</td>
<td><strong>97.65%</strong></td>
<td>0.58ms</td>
<td><strong>99.61%</strong></td>
<td>0.50ms</td>
</tr>
<tr>
<td>KUKA LBR iiwa 14 R820</td>
<td>7</td>
<td><strong>37.63%</strong></td>
<td>3.38ms</td>
<td><strong>93.73%</strong></td>
<td>0.76ms</td>
<td><strong>99.84%</strong></td>
<td>0.35ms</td>
</tr>
<tr>
<td>KUKA LWR 4+</td>
<td>7</td>
<td><strong>67.72%</strong></td>
<td>1.89ms</td>
<td><strong>95.33%</strong></td>
<td>0.64ms</td>
<td><strong>99.99%</strong></td>
<td>0.29ms</td>
</tr>
<tr>
<td>Motoman MH180</td>
<td>6</td>
<td><strong>68.44%</strong></td>
<td>1.67ms</td>
<td><strong>99.34%</strong></td>
<td>0.27ms</td>
<td><strong>99.99%</strong></td>
<td>0.24ms</td>
</tr>
<tr>
<td>Motoman CSDA10F 'torso/1-arm'</td>
<td>8</td>
<td><strong>52.47%</strong></td>
<td>2.85ms</td>
<td><strong>95.16%</strong></td>
<td>0.72ms</td>
<td><strong>99.81%</strong></td>
<td>0.44ms</td>
</tr>
<tr>
<td>PR2 arm</td>
<td>7</td>
<td><strong>82.92%</strong></td>
<td>1.39ms</td>
<td><strong>86.52%</strong></td>
<td>1.30ms</td>
<td><strong>99.97%</strong></td>
<td>0.41ms</td>
</tr>
<tr>
<td>NASA Robonaut2 'leg' + waist + arm</td>
<td>15</td>
<td><strong>97.78%</strong></td>
<td>0.86ms</td>
<td><strong>97.94%</strong></td>
<td>0.85ms</td>
<td><strong>99.88%</strong></td>
<td>0.72ms</td>
</tr>
<tr>
<td>NASA Robonaut2 arm</td>
<td>7</td>
<td><strong>86.11%</strong></td>
<td>1.05ms</td>
<td><strong>93.95%</strong></td>
<td>0.76ms</td>
<td><strong>99.56%</strong></td>
<td>0.41ms</td>
</tr>
<tr>
<td>NASA Robonaut2 'grasping leg'</td>
<td>7</td>
<td><strong>61.10%</strong></td>
<td>2.30ms</td>
<td><strong>87.36%</strong></td>
<td>1.12ms</td>
<td><strong>99.80%</strong></td>
<td>0.51ms</td>
</tr>
<tr>
<td>NASA Robosimian arm</td>
<td>7</td>
<td><strong>61.64%</strong></td>
<td>2.46ms</td>
<td><strong>99.87%</strong></td>
<td>0.37ms</td>
<td><strong>99.95%</strong></td>
<td>0.44ms</td>
</tr>
<tr>
<td>NASA Valkyrie arm</td>
<td>7</td>
<td><strong>45.05%</strong></td>
<td>3.02ms</td>
<td><strong>89.58%</strong></td>
<td>1.32ms</td>
<td><strong>99.76%</strong></td>
<td>0.48ms</td>
</tr>
<tr>
<td>Schunk LWA4D</td>
<td>7</td>
<td><strong>68.22%</strong></td>
<td>1.85ms</td>
<td><strong>96.54%</strong></td>
<td>0.53ms</td>
<td><strong>99.96%</strong></td>
<td>0.34ms</td>
</tr>
<tr>
<td>TRACLabs modular arm</td>
<td>7</td>
<td><strong>78.99%</strong></td>
<td>1.36ms</td>
<td><strong>94.89%</strong></td>
<td>0.65ms</td>
<td><strong>99.96%</strong></td>
<td>0.37ms</td>
</tr>
<tr>
<td>Universal UR3</td>
<td>6</td>
<td><strong>34.12%</strong></td>
<td>3.41ms</td>
<td><strong>88.79%</strong></td>
<td>0.84ms</td>
<td><strong>99.34%</strong></td>
<td>0.49ms</td>
</tr>
<tr>
<td>UR5</td>
<td>6</td>
<td><strong>32.23%</strong></td>
<td>3.49ms</td>
<td><strong>88.62%</strong></td>
<td>0.79ms</td>
<td><strong>99.64%</strong></td>
<td>0.36ms</td>
</tr>
<tr>
<td>UR10</td>
<td>6</td>
<td><strong>30.67%</strong></td>
<td>3.56ms</td>
<td><strong>88.38%</strong></td>
<td>0.80ms</td>
<td><strong>99.68%</strong></td>
<td>0.42ms</td>
</tr>
</tbody>
</table>

<p>Feel free to <a href="mailto:pbeeson@traclabs.com">email Patrick</a> if there is a robot chain that you would like to see added above.</p>
</div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-kinetic">
    <div class="container-fluid">
      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://bitbucket.org/traclabs/trac_ik.git">https://bitbucket.org/traclabs/trac_ik.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2019-04-22
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/trac_ik/bitbucket-traclabs-trac_ik">trac_ik</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_examples/bitbucket-traclabs-trac_ik">trac_ik_examples</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_kinematics_plugin/bitbucket-traclabs-trac_ik">trac_ik_kinematics_plugin</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_lib/bitbucket-traclabs-trac_ik">trac_ik_lib</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_python/bitbucket-traclabs-trac_ik">trac_ik_python</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>The ROS packages in this repository were created to provide an alternative
Inverse Kinematics solver to the popular inverse Jacobian methods in KDL.
Specifically, KDL's convergence algorithms are based on Newton's method, which
does not work well in the presence of joint limits --- common for many robotic
platforms.  TRAC-IK concurrently runs two IK implementations.  One is a simple
extension to KDL's Newton-based convergence algorithm that detects and
mitigates local minima due to joint limits by random jumps.  The second is an
SQP (Sequential Quadratic Programming) nonlinear optimization approach which
uses quasi-Newton methods that better handle joint limits.  By default, the IK
search returns immediately when either of these algorithms converges to an
answer.  Secondary constraints of distance and manipulability are also provided 
in order to receive back the "best" IK solution.</p>

<h3 id="this-repo-contains-5-ros-packages">This repo contains 5 ROS packages:</h3>

<ul>
<li><p>trac_ik is a metapackage with build and complete <a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik/CHANGELOG.rst">Changelog</a> info.</p></li>
<li><p>trac_ik_examples contains examples on how to use the standalone TRAC-IK library.</p></li>
<li><p><a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik_lib">trac_ik_lib</a>, the TRAC-IK kinematics code,
builds a .so library that can be used as a drop in replacement for KDL's IK
functions for KDL chains. Details for use are in trac_ik_lib/README.md.</p></li>
<li><p><a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik_kinematics_plugin">trac_ik_kinematics_plugin</a> builds a <a href="http://moveit.ros.org/documentation/concepts/#kinematics">MoveIt! plugin</a> that can
replace the default KDL plugin for MoveIt! with TRAC-IK for use in planning.
Details for use are in trac_ik_kinematics_plugin/README.md. (Note prior to v1.1.2, the plugin was not thread safe.)</p></li>
<li><p><a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik_python">trac_ik_python</a>, SWIG based python wrapper to use TRAC-IK. Details for use are in trac_ik_python/README.md.</p></li>
</ul>

<h3 id="as-of-v1-4-5-this-package-is-part-of-the-ros-kinetic-binaries-sudo-apt-get-install-ros-kinetic-trac-ik-or-indigo-or-jade-starting-with-v1-4-8-this-has-been-released-for-ros-lunar-as-well-melodic-packages-have-been-released-with-1-5-0">As of v1.4.5, this package is part of the ROS Kinetic binaries: <code>sudo apt-get install ros-kinetic-trac-ik</code> (or indigo or jade).  Starting with v1.4.8, this has been released for ROS Lunar as well. Melodic packages have been released with 1.5.0.</h3>

<h3 id="a-detailed-writeup-on-trac-ik-can-be-found-here">A detailed writeup on TRAC-IK can be found here:</h3>

<p><a href="https://personal.traclabs.com/%7Epbeeson/publications/b2hd-Beeson-humanoids-15.html">Humanoids-2015</a> (reported results are from v1.0.0 of TRAC-IK, see below for newer results).</p>

<h3 id="some-sample-results-are-below">Some sample results are below:</h3>

<p><em>Orocos' <strong>KDL</strong></em> (inverse Jacobian w/ joint limits), <em><strong>KDL-RR</strong></em> (our fixes to KDL joint limit handling), and <em><strong>TRAC-IK</strong></em> (our concurrent inverse Jacobian and non-linear optimization solver; Speed mode) are compared below.</p>

<p>IK success and average speed as of TRAC-IK tag v1.4.6.  All results are from 10,000 randomly generated, reachable joint configurations.  Full 3D pose IK was requested at 1e-5 Cartesian error for x,y,z,roll,pitch,yaw with a maximum solve time of 5 ms.  All IK queries are seeded from the chain's "nominal" pose midway between joint limits.</p>

<p><strong>Note on success</strong>: Neither KDL nor TRAC-IK uses any mesh information to determine if <em>valid</em> IK solutions result in self-collisions.  IK solutions deal with link distances and joint ranges, and remain agnostic about self-collisions due to volumes.  Expected future enhancements to TRAC-IK that search for multiple solutions may also include the ability to throw out solutions that result in self collisions (provided the URDF has valid geometry information); however, this is currently not the behaviour of any generic IK solver examined to date.</p>

<p><strong>Note on timings</strong>: The timings provided include both successful and unsuccessful runs.  When an IK solution is not found, the numerical IK solver implementations will run for the full timeout requested, searching for an answer; thus for robot chains where KDL fails much of the time (e.g., Jaco-2), the KDL times are skewed towards the user requested timeout value (here 5 ms).  </p>

<table>
<thead>
<tr>
<th>Chain</th>
<th>DOFs</th>
<th>Orocos' <em>KDL</em> solve rate</th>
<th>Orocos' <em>KDL</em> Avg Time</th>
<th>
<em>KDL-RR</em> solve rate</th>
<th>
<em>KDL-RR</em> Avg Time</th>
<th>
<em>TRAC-IK</em> solve rate</th>
<th>
<em>TRAC-IK</em> Avg Time</th>
</tr>
</thead>
<tbody>
<tr>
<td>ABB Yumi 'single arm'</td>
<td>7</td>
<td><strong>76.88%</strong></td>
<td>1.50ms</td>
<td><strong>90.84%</strong></td>
<td>0.94ms</td>
<td><strong>99.08%</strong></td>
<td>0.56ms</td>
</tr>
<tr>
<td>ABB IRB120</td>
<td>6</td>
<td><strong>39.41%</strong></td>
<td>3.10ms</td>
<td><strong>98.32%</strong></td>
<td>0.41ms</td>
<td><strong>99.91%</strong></td>
<td>0.33ms</td>
</tr>
<tr>
<td>Atlas 2013 arm</td>
<td>6</td>
<td><strong>75.54%</strong></td>
<td>1.35ms</td>
<td><strong>97.14%</strong></td>
<td>0.39ms</td>
<td><strong>99.91%</strong></td>
<td>0.32ms</td>
</tr>
<tr>
<td>Atlas 2015 arm</td>
<td>7</td>
<td><strong>75.63%</strong></td>
<td>1.51ms</td>
<td><strong>93.25%</strong></td>
<td>0.81ms</td>
<td><strong>99.44%</strong></td>
<td>0.42ms</td>
</tr>
<tr>
<td>Baxter arm</td>
<td>7</td>
<td><strong>60.98%</strong></td>
<td>2.22ms</td>
<td><strong>89.64%</strong></td>
<td>1.03ms</td>
<td><strong>99.44%</strong></td>
<td>0.50ms</td>
</tr>
<tr>
<td>Denso VS-068</td>
<td>6</td>
<td><strong>27.92%</strong></td>
<td>3.69ms</td>
<td><strong>98.11%</strong></td>
<td>0.42ms</td>
<td><strong>99.89%</strong></td>
<td>0.34ms</td>
</tr>
<tr>
<td>Fanuc M-430iA/2F</td>
<td>5</td>
<td><strong>21.07%</strong></td>
<td>3.99ms</td>
<td><strong>88.33%</strong></td>
<td>0.92ms</td>
<td><strong>99.70%</strong></td>
<td>0.46ms</td>
</tr>
<tr>
<td>Fetch arm</td>
<td>7</td>
<td><strong>92.40%</strong></td>
<td>0.74ms</td>
<td><strong>93.69%</strong></td>
<td>0.73ms</td>
<td><strong>99.98%</strong></td>
<td>0.32ms</td>
</tr>
<tr>
<td>Franka Emika Panda</td>
<td>7</td>
<td><strong>61.52%</strong></td>
<td>2.17ms</td>
<td><strong>92.22%</strong></td>
<td>0.92ms</td>
<td><strong>99.49%</strong></td>
<td>0.50ms</td>
</tr>
<tr>
<td>Jaco2</td>
<td>6</td>
<td><strong>26.22%</strong></td>
<td>3.79ms</td>
<td><strong>97.65%</strong></td>
<td>0.58ms</td>
<td><strong>99.61%</strong></td>
<td>0.50ms</td>
</tr>
<tr>
<td>KUKA LBR iiwa 14 R820</td>
<td>7</td>
<td><strong>37.63%</strong></td>
<td>3.38ms</td>
<td><strong>93.73%</strong></td>
<td>0.76ms</td>
<td><strong>99.84%</strong></td>
<td>0.35ms</td>
</tr>
<tr>
<td>KUKA LWR 4+</td>
<td>7</td>
<td><strong>67.72%</strong></td>
<td>1.89ms</td>
<td><strong>95.33%</strong></td>
<td>0.64ms</td>
<td><strong>99.99%</strong></td>
<td>0.29ms</td>
</tr>
<tr>
<td>Motoman MH180</td>
<td>6</td>
<td><strong>68.44%</strong></td>
<td>1.67ms</td>
<td><strong>99.34%</strong></td>
<td>0.27ms</td>
<td><strong>99.99%</strong></td>
<td>0.24ms</td>
</tr>
<tr>
<td>Motoman CSDA10F 'torso/1-arm'</td>
<td>8</td>
<td><strong>52.47%</strong></td>
<td>2.85ms</td>
<td><strong>95.16%</strong></td>
<td>0.72ms</td>
<td><strong>99.81%</strong></td>
<td>0.44ms</td>
</tr>
<tr>
<td>PR2 arm</td>
<td>7</td>
<td><strong>82.92%</strong></td>
<td>1.39ms</td>
<td><strong>86.52%</strong></td>
<td>1.30ms</td>
<td><strong>99.97%</strong></td>
<td>0.41ms</td>
</tr>
<tr>
<td>NASA Robonaut2 'leg' + waist + arm</td>
<td>15</td>
<td><strong>97.78%</strong></td>
<td>0.86ms</td>
<td><strong>97.94%</strong></td>
<td>0.85ms</td>
<td><strong>99.88%</strong></td>
<td>0.72ms</td>
</tr>
<tr>
<td>NASA Robonaut2 arm</td>
<td>7</td>
<td><strong>86.11%</strong></td>
<td>1.05ms</td>
<td><strong>93.95%</strong></td>
<td>0.76ms</td>
<td><strong>99.56%</strong></td>
<td>0.41ms</td>
</tr>
<tr>
<td>NASA Robonaut2 'grasping leg'</td>
<td>7</td>
<td><strong>61.10%</strong></td>
<td>2.30ms</td>
<td><strong>87.36%</strong></td>
<td>1.12ms</td>
<td><strong>99.80%</strong></td>
<td>0.51ms</td>
</tr>
<tr>
<td>NASA Robosimian arm</td>
<td>7</td>
<td><strong>61.64%</strong></td>
<td>2.46ms</td>
<td><strong>99.87%</strong></td>
<td>0.37ms</td>
<td><strong>99.95%</strong></td>
<td>0.44ms</td>
</tr>
<tr>
<td>NASA Valkyrie arm</td>
<td>7</td>
<td><strong>45.05%</strong></td>
<td>3.02ms</td>
<td><strong>89.58%</strong></td>
<td>1.32ms</td>
<td><strong>99.76%</strong></td>
<td>0.48ms</td>
</tr>
<tr>
<td>Schunk LWA4D</td>
<td>7</td>
<td><strong>68.22%</strong></td>
<td>1.85ms</td>
<td><strong>96.54%</strong></td>
<td>0.53ms</td>
<td><strong>99.96%</strong></td>
<td>0.34ms</td>
</tr>
<tr>
<td>TRACLabs modular arm</td>
<td>7</td>
<td><strong>78.99%</strong></td>
<td>1.36ms</td>
<td><strong>94.89%</strong></td>
<td>0.65ms</td>
<td><strong>99.96%</strong></td>
<td>0.37ms</td>
</tr>
<tr>
<td>Universal UR3</td>
<td>6</td>
<td><strong>34.12%</strong></td>
<td>3.41ms</td>
<td><strong>88.79%</strong></td>
<td>0.84ms</td>
<td><strong>99.34%</strong></td>
<td>0.49ms</td>
</tr>
<tr>
<td>UR5</td>
<td>6</td>
<td><strong>32.23%</strong></td>
<td>3.49ms</td>
<td><strong>88.62%</strong></td>
<td>0.79ms</td>
<td><strong>99.64%</strong></td>
<td>0.36ms</td>
</tr>
<tr>
<td>UR10</td>
<td>6</td>
<td><strong>30.67%</strong></td>
<td>3.56ms</td>
<td><strong>88.38%</strong></td>
<td>0.80ms</td>
<td><strong>99.68%</strong></td>
<td>0.42ms</td>
</tr>
</tbody>
</table>

<p>Feel free to <a href="mailto:pbeeson@traclabs.com">email Patrick</a> if there is a robot chain that you would like to see added above.</p>
</div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-indigo">
    <div class="container-fluid">
      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://bitbucket.org/traclabs/trac_ik.git">https://bitbucket.org/traclabs/trac_ik.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2019-04-22
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/trac_ik/bitbucket-traclabs-trac_ik">trac_ik</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_examples/bitbucket-traclabs-trac_ik">trac_ik_examples</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_kinematics_plugin/bitbucket-traclabs-trac_ik">trac_ik_kinematics_plugin</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_lib/bitbucket-traclabs-trac_ik">trac_ik_lib</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_python/bitbucket-traclabs-trac_ik">trac_ik_python</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>The ROS packages in this repository were created to provide an alternative
Inverse Kinematics solver to the popular inverse Jacobian methods in KDL.
Specifically, KDL's convergence algorithms are based on Newton's method, which
does not work well in the presence of joint limits --- common for many robotic
platforms.  TRAC-IK concurrently runs two IK implementations.  One is a simple
extension to KDL's Newton-based convergence algorithm that detects and
mitigates local minima due to joint limits by random jumps.  The second is an
SQP (Sequential Quadratic Programming) nonlinear optimization approach which
uses quasi-Newton methods that better handle joint limits.  By default, the IK
search returns immediately when either of these algorithms converges to an
answer.  Secondary constraints of distance and manipulability are also provided 
in order to receive back the "best" IK solution.</p>

<h3 id="this-repo-contains-5-ros-packages">This repo contains 5 ROS packages:</h3>

<ul>
<li><p>trac_ik is a metapackage with build and complete <a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik/CHANGELOG.rst">Changelog</a> info.</p></li>
<li><p>trac_ik_examples contains examples on how to use the standalone TRAC-IK library.</p></li>
<li><p><a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik_lib">trac_ik_lib</a>, the TRAC-IK kinematics code,
builds a .so library that can be used as a drop in replacement for KDL's IK
functions for KDL chains. Details for use are in trac_ik_lib/README.md.</p></li>
<li><p><a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik_kinematics_plugin">trac_ik_kinematics_plugin</a> builds a <a href="http://moveit.ros.org/documentation/concepts/#kinematics">MoveIt! plugin</a> that can
replace the default KDL plugin for MoveIt! with TRAC-IK for use in planning.
Details for use are in trac_ik_kinematics_plugin/README.md. (Note prior to v1.1.2, the plugin was not thread safe.)</p></li>
<li><p><a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik_python">trac_ik_python</a>, SWIG based python wrapper to use TRAC-IK. Details for use are in trac_ik_python/README.md.</p></li>
</ul>

<h3 id="as-of-v1-4-5-this-package-is-part-of-the-ros-kinetic-binaries-sudo-apt-get-install-ros-kinetic-trac-ik-or-indigo-or-jade-starting-with-v1-4-8-this-has-been-released-for-ros-lunar-as-well-melodic-packages-have-been-released-with-1-5-0">As of v1.4.5, this package is part of the ROS Kinetic binaries: <code>sudo apt-get install ros-kinetic-trac-ik</code> (or indigo or jade).  Starting with v1.4.8, this has been released for ROS Lunar as well. Melodic packages have been released with 1.5.0.</h3>

<h3 id="a-detailed-writeup-on-trac-ik-can-be-found-here">A detailed writeup on TRAC-IK can be found here:</h3>

<p><a href="https://personal.traclabs.com/%7Epbeeson/publications/b2hd-Beeson-humanoids-15.html">Humanoids-2015</a> (reported results are from v1.0.0 of TRAC-IK, see below for newer results).</p>

<h3 id="some-sample-results-are-below">Some sample results are below:</h3>

<p><em>Orocos' <strong>KDL</strong></em> (inverse Jacobian w/ joint limits), <em><strong>KDL-RR</strong></em> (our fixes to KDL joint limit handling), and <em><strong>TRAC-IK</strong></em> (our concurrent inverse Jacobian and non-linear optimization solver; Speed mode) are compared below.</p>

<p>IK success and average speed as of TRAC-IK tag v1.4.6.  All results are from 10,000 randomly generated, reachable joint configurations.  Full 3D pose IK was requested at 1e-5 Cartesian error for x,y,z,roll,pitch,yaw with a maximum solve time of 5 ms.  All IK queries are seeded from the chain's "nominal" pose midway between joint limits.</p>

<p><strong>Note on success</strong>: Neither KDL nor TRAC-IK uses any mesh information to determine if <em>valid</em> IK solutions result in self-collisions.  IK solutions deal with link distances and joint ranges, and remain agnostic about self-collisions due to volumes.  Expected future enhancements to TRAC-IK that search for multiple solutions may also include the ability to throw out solutions that result in self collisions (provided the URDF has valid geometry information); however, this is currently not the behaviour of any generic IK solver examined to date.</p>

<p><strong>Note on timings</strong>: The timings provided include both successful and unsuccessful runs.  When an IK solution is not found, the numerical IK solver implementations will run for the full timeout requested, searching for an answer; thus for robot chains where KDL fails much of the time (e.g., Jaco-2), the KDL times are skewed towards the user requested timeout value (here 5 ms).  </p>

<table>
<thead>
<tr>
<th>Chain</th>
<th>DOFs</th>
<th>Orocos' <em>KDL</em> solve rate</th>
<th>Orocos' <em>KDL</em> Avg Time</th>
<th>
<em>KDL-RR</em> solve rate</th>
<th>
<em>KDL-RR</em> Avg Time</th>
<th>
<em>TRAC-IK</em> solve rate</th>
<th>
<em>TRAC-IK</em> Avg Time</th>
</tr>
</thead>
<tbody>
<tr>
<td>ABB Yumi 'single arm'</td>
<td>7</td>
<td><strong>76.88%</strong></td>
<td>1.50ms</td>
<td><strong>90.84%</strong></td>
<td>0.94ms</td>
<td><strong>99.08%</strong></td>
<td>0.56ms</td>
</tr>
<tr>
<td>ABB IRB120</td>
<td>6</td>
<td><strong>39.41%</strong></td>
<td>3.10ms</td>
<td><strong>98.32%</strong></td>
<td>0.41ms</td>
<td><strong>99.91%</strong></td>
<td>0.33ms</td>
</tr>
<tr>
<td>Atlas 2013 arm</td>
<td>6</td>
<td><strong>75.54%</strong></td>
<td>1.35ms</td>
<td><strong>97.14%</strong></td>
<td>0.39ms</td>
<td><strong>99.91%</strong></td>
<td>0.32ms</td>
</tr>
<tr>
<td>Atlas 2015 arm</td>
<td>7</td>
<td><strong>75.63%</strong></td>
<td>1.51ms</td>
<td><strong>93.25%</strong></td>
<td>0.81ms</td>
<td><strong>99.44%</strong></td>
<td>0.42ms</td>
</tr>
<tr>
<td>Baxter arm</td>
<td>7</td>
<td><strong>60.98%</strong></td>
<td>2.22ms</td>
<td><strong>89.64%</strong></td>
<td>1.03ms</td>
<td><strong>99.44%</strong></td>
<td>0.50ms</td>
</tr>
<tr>
<td>Denso VS-068</td>
<td>6</td>
<td><strong>27.92%</strong></td>
<td>3.69ms</td>
<td><strong>98.11%</strong></td>
<td>0.42ms</td>
<td><strong>99.89%</strong></td>
<td>0.34ms</td>
</tr>
<tr>
<td>Fanuc M-430iA/2F</td>
<td>5</td>
<td><strong>21.07%</strong></td>
<td>3.99ms</td>
<td><strong>88.33%</strong></td>
<td>0.92ms</td>
<td><strong>99.70%</strong></td>
<td>0.46ms</td>
</tr>
<tr>
<td>Fetch arm</td>
<td>7</td>
<td><strong>92.40%</strong></td>
<td>0.74ms</td>
<td><strong>93.69%</strong></td>
<td>0.73ms</td>
<td><strong>99.98%</strong></td>
<td>0.32ms</td>
</tr>
<tr>
<td>Franka Emika Panda</td>
<td>7</td>
<td><strong>61.52%</strong></td>
<td>2.17ms</td>
<td><strong>92.22%</strong></td>
<td>0.92ms</td>
<td><strong>99.49%</strong></td>
<td>0.50ms</td>
</tr>
<tr>
<td>Jaco2</td>
<td>6</td>
<td><strong>26.22%</strong></td>
<td>3.79ms</td>
<td><strong>97.65%</strong></td>
<td>0.58ms</td>
<td><strong>99.61%</strong></td>
<td>0.50ms</td>
</tr>
<tr>
<td>KUKA LBR iiwa 14 R820</td>
<td>7</td>
<td><strong>37.63%</strong></td>
<td>3.38ms</td>
<td><strong>93.73%</strong></td>
<td>0.76ms</td>
<td><strong>99.84%</strong></td>
<td>0.35ms</td>
</tr>
<tr>
<td>KUKA LWR 4+</td>
<td>7</td>
<td><strong>67.72%</strong></td>
<td>1.89ms</td>
<td><strong>95.33%</strong></td>
<td>0.64ms</td>
<td><strong>99.99%</strong></td>
<td>0.29ms</td>
</tr>
<tr>
<td>Motoman MH180</td>
<td>6</td>
<td><strong>68.44%</strong></td>
<td>1.67ms</td>
<td><strong>99.34%</strong></td>
<td>0.27ms</td>
<td><strong>99.99%</strong></td>
<td>0.24ms</td>
</tr>
<tr>
<td>Motoman CSDA10F 'torso/1-arm'</td>
<td>8</td>
<td><strong>52.47%</strong></td>
<td>2.85ms</td>
<td><strong>95.16%</strong></td>
<td>0.72ms</td>
<td><strong>99.81%</strong></td>
<td>0.44ms</td>
</tr>
<tr>
<td>PR2 arm</td>
<td>7</td>
<td><strong>82.92%</strong></td>
<td>1.39ms</td>
<td><strong>86.52%</strong></td>
<td>1.30ms</td>
<td><strong>99.97%</strong></td>
<td>0.41ms</td>
</tr>
<tr>
<td>NASA Robonaut2 'leg' + waist + arm</td>
<td>15</td>
<td><strong>97.78%</strong></td>
<td>0.86ms</td>
<td><strong>97.94%</strong></td>
<td>0.85ms</td>
<td><strong>99.88%</strong></td>
<td>0.72ms</td>
</tr>
<tr>
<td>NASA Robonaut2 arm</td>
<td>7</td>
<td><strong>86.11%</strong></td>
<td>1.05ms</td>
<td><strong>93.95%</strong></td>
<td>0.76ms</td>
<td><strong>99.56%</strong></td>
<td>0.41ms</td>
</tr>
<tr>
<td>NASA Robonaut2 'grasping leg'</td>
<td>7</td>
<td><strong>61.10%</strong></td>
<td>2.30ms</td>
<td><strong>87.36%</strong></td>
<td>1.12ms</td>
<td><strong>99.80%</strong></td>
<td>0.51ms</td>
</tr>
<tr>
<td>NASA Robosimian arm</td>
<td>7</td>
<td><strong>61.64%</strong></td>
<td>2.46ms</td>
<td><strong>99.87%</strong></td>
<td>0.37ms</td>
<td><strong>99.95%</strong></td>
<td>0.44ms</td>
</tr>
<tr>
<td>NASA Valkyrie arm</td>
<td>7</td>
<td><strong>45.05%</strong></td>
<td>3.02ms</td>
<td><strong>89.58%</strong></td>
<td>1.32ms</td>
<td><strong>99.76%</strong></td>
<td>0.48ms</td>
</tr>
<tr>
<td>Schunk LWA4D</td>
<td>7</td>
<td><strong>68.22%</strong></td>
<td>1.85ms</td>
<td><strong>96.54%</strong></td>
<td>0.53ms</td>
<td><strong>99.96%</strong></td>
<td>0.34ms</td>
</tr>
<tr>
<td>TRACLabs modular arm</td>
<td>7</td>
<td><strong>78.99%</strong></td>
<td>1.36ms</td>
<td><strong>94.89%</strong></td>
<td>0.65ms</td>
<td><strong>99.96%</strong></td>
<td>0.37ms</td>
</tr>
<tr>
<td>Universal UR3</td>
<td>6</td>
<td><strong>34.12%</strong></td>
<td>3.41ms</td>
<td><strong>88.79%</strong></td>
<td>0.84ms</td>
<td><strong>99.34%</strong></td>
<td>0.49ms</td>
</tr>
<tr>
<td>UR5</td>
<td>6</td>
<td><strong>32.23%</strong></td>
<td>3.49ms</td>
<td><strong>88.62%</strong></td>
<td>0.79ms</td>
<td><strong>99.64%</strong></td>
<td>0.36ms</td>
</tr>
<tr>
<td>UR10</td>
<td>6</td>
<td><strong>30.67%</strong></td>
<td>3.56ms</td>
<td><strong>88.38%</strong></td>
<td>0.80ms</td>
<td><strong>99.68%</strong></td>
<td>0.42ms</td>
</tr>
</tbody>
</table>

<p>Feel free to <a href="mailto:pbeeson@traclabs.com">email Patrick</a> if there is a robot chain that you would like to see added above.</p>
</div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-ardent">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>ardent</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jade">
    <div class="container-fluid">
      
        
        <div class="panel panel-default">
          
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body" style="overflow-x: auto">
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://bitbucket.org/traclabs/trac_ik.git">https://bitbucket.org/traclabs/trac_ik.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2019-04-22
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          
            <span class="label label-primary">
          
          MAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-primary"><span class="glyphicon glyphicon-flash"></span> RELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Packages</h3></div>
          <div class="panel-body">
            
            
              <table class="table table-condensed table-hover table-striped">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Version</th>
                  </tr>
                </thead>
                <tbody>
                
                  <tr>
                    <td><a href="/p/trac_ik/bitbucket-traclabs-trac_ik">trac_ik</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_examples/bitbucket-traclabs-trac_ik">trac_ik_examples</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_kinematics_plugin/bitbucket-traclabs-trac_ik">trac_ik_kinematics_plugin</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_lib/bitbucket-traclabs-trac_ik">trac_ik_lib</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                  <tr>
                    <td><a href="/p/trac_ik_python/bitbucket-traclabs-trac_ik">trac_ik_python</a></td>
                    <td>1.5.0</td>
                  </tr>
                
                </tbody>
              </table>
            
          </div>
        </div>

        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">README</h3></div>
          <div class="panel-body">
            
              <div class="rendered-markdown">
<p>The ROS packages in this repository were created to provide an alternative
Inverse Kinematics solver to the popular inverse Jacobian methods in KDL.
Specifically, KDL's convergence algorithms are based on Newton's method, which
does not work well in the presence of joint limits --- common for many robotic
platforms.  TRAC-IK concurrently runs two IK implementations.  One is a simple
extension to KDL's Newton-based convergence algorithm that detects and
mitigates local minima due to joint limits by random jumps.  The second is an
SQP (Sequential Quadratic Programming) nonlinear optimization approach which
uses quasi-Newton methods that better handle joint limits.  By default, the IK
search returns immediately when either of these algorithms converges to an
answer.  Secondary constraints of distance and manipulability are also provided 
in order to receive back the "best" IK solution.</p>

<h3 id="this-repo-contains-5-ros-packages">This repo contains 5 ROS packages:</h3>

<ul>
<li><p>trac_ik is a metapackage with build and complete <a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik/CHANGELOG.rst">Changelog</a> info.</p></li>
<li><p>trac_ik_examples contains examples on how to use the standalone TRAC-IK library.</p></li>
<li><p><a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik_lib">trac_ik_lib</a>, the TRAC-IK kinematics code,
builds a .so library that can be used as a drop in replacement for KDL's IK
functions for KDL chains. Details for use are in trac_ik_lib/README.md.</p></li>
<li><p><a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik_kinematics_plugin">trac_ik_kinematics_plugin</a> builds a <a href="http://moveit.ros.org/documentation/concepts/#kinematics">MoveIt! plugin</a> that can
replace the default KDL plugin for MoveIt! with TRAC-IK for use in planning.
Details for use are in trac_ik_kinematics_plugin/README.md. (Note prior to v1.1.2, the plugin was not thread safe.)</p></li>
<li><p><a href="https://bitbucket.org/traclabs/trac_ik/src/HEAD/trac_ik_python">trac_ik_python</a>, SWIG based python wrapper to use TRAC-IK. Details for use are in trac_ik_python/README.md.</p></li>
</ul>

<h3 id="as-of-v1-4-5-this-package-is-part-of-the-ros-kinetic-binaries-sudo-apt-get-install-ros-kinetic-trac-ik-or-indigo-or-jade-starting-with-v1-4-8-this-has-been-released-for-ros-lunar-as-well-melodic-packages-have-been-released-with-1-5-0">As of v1.4.5, this package is part of the ROS Kinetic binaries: <code>sudo apt-get install ros-kinetic-trac-ik</code> (or indigo or jade).  Starting with v1.4.8, this has been released for ROS Lunar as well. Melodic packages have been released with 1.5.0.</h3>

<h3 id="a-detailed-writeup-on-trac-ik-can-be-found-here">A detailed writeup on TRAC-IK can be found here:</h3>

<p><a href="https://personal.traclabs.com/%7Epbeeson/publications/b2hd-Beeson-humanoids-15.html">Humanoids-2015</a> (reported results are from v1.0.0 of TRAC-IK, see below for newer results).</p>

<h3 id="some-sample-results-are-below">Some sample results are below:</h3>

<p><em>Orocos' <strong>KDL</strong></em> (inverse Jacobian w/ joint limits), <em><strong>KDL-RR</strong></em> (our fixes to KDL joint limit handling), and <em><strong>TRAC-IK</strong></em> (our concurrent inverse Jacobian and non-linear optimization solver; Speed mode) are compared below.</p>

<p>IK success and average speed as of TRAC-IK tag v1.4.6.  All results are from 10,000 randomly generated, reachable joint configurations.  Full 3D pose IK was requested at 1e-5 Cartesian error for x,y,z,roll,pitch,yaw with a maximum solve time of 5 ms.  All IK queries are seeded from the chain's "nominal" pose midway between joint limits.</p>

<p><strong>Note on success</strong>: Neither KDL nor TRAC-IK uses any mesh information to determine if <em>valid</em> IK solutions result in self-collisions.  IK solutions deal with link distances and joint ranges, and remain agnostic about self-collisions due to volumes.  Expected future enhancements to TRAC-IK that search for multiple solutions may also include the ability to throw out solutions that result in self collisions (provided the URDF has valid geometry information); however, this is currently not the behaviour of any generic IK solver examined to date.</p>

<p><strong>Note on timings</strong>: The timings provided include both successful and unsuccessful runs.  When an IK solution is not found, the numerical IK solver implementations will run for the full timeout requested, searching for an answer; thus for robot chains where KDL fails much of the time (e.g., Jaco-2), the KDL times are skewed towards the user requested timeout value (here 5 ms).  </p>

<table>
<thead>
<tr>
<th>Chain</th>
<th>DOFs</th>
<th>Orocos' <em>KDL</em> solve rate</th>
<th>Orocos' <em>KDL</em> Avg Time</th>
<th>
<em>KDL-RR</em> solve rate</th>
<th>
<em>KDL-RR</em> Avg Time</th>
<th>
<em>TRAC-IK</em> solve rate</th>
<th>
<em>TRAC-IK</em> Avg Time</th>
</tr>
</thead>
<tbody>
<tr>
<td>ABB Yumi 'single arm'</td>
<td>7</td>
<td><strong>76.88%</strong></td>
<td>1.50ms</td>
<td><strong>90.84%</strong></td>
<td>0.94ms</td>
<td><strong>99.08%</strong></td>
<td>0.56ms</td>
</tr>
<tr>
<td>ABB IRB120</td>
<td>6</td>
<td><strong>39.41%</strong></td>
<td>3.10ms</td>
<td><strong>98.32%</strong></td>
<td>0.41ms</td>
<td><strong>99.91%</strong></td>
<td>0.33ms</td>
</tr>
<tr>
<td>Atlas 2013 arm</td>
<td>6</td>
<td><strong>75.54%</strong></td>
<td>1.35ms</td>
<td><strong>97.14%</strong></td>
<td>0.39ms</td>
<td><strong>99.91%</strong></td>
<td>0.32ms</td>
</tr>
<tr>
<td>Atlas 2015 arm</td>
<td>7</td>
<td><strong>75.63%</strong></td>
<td>1.51ms</td>
<td><strong>93.25%</strong></td>
<td>0.81ms</td>
<td><strong>99.44%</strong></td>
<td>0.42ms</td>
</tr>
<tr>
<td>Baxter arm</td>
<td>7</td>
<td><strong>60.98%</strong></td>
<td>2.22ms</td>
<td><strong>89.64%</strong></td>
<td>1.03ms</td>
<td><strong>99.44%</strong></td>
<td>0.50ms</td>
</tr>
<tr>
<td>Denso VS-068</td>
<td>6</td>
<td><strong>27.92%</strong></td>
<td>3.69ms</td>
<td><strong>98.11%</strong></td>
<td>0.42ms</td>
<td><strong>99.89%</strong></td>
<td>0.34ms</td>
</tr>
<tr>
<td>Fanuc M-430iA/2F</td>
<td>5</td>
<td><strong>21.07%</strong></td>
<td>3.99ms</td>
<td><strong>88.33%</strong></td>
<td>0.92ms</td>
<td><strong>99.70%</strong></td>
<td>0.46ms</td>
</tr>
<tr>
<td>Fetch arm</td>
<td>7</td>
<td><strong>92.40%</strong></td>
<td>0.74ms</td>
<td><strong>93.69%</strong></td>
<td>0.73ms</td>
<td><strong>99.98%</strong></td>
<td>0.32ms</td>
</tr>
<tr>
<td>Franka Emika Panda</td>
<td>7</td>
<td><strong>61.52%</strong></td>
<td>2.17ms</td>
<td><strong>92.22%</strong></td>
<td>0.92ms</td>
<td><strong>99.49%</strong></td>
<td>0.50ms</td>
</tr>
<tr>
<td>Jaco2</td>
<td>6</td>
<td><strong>26.22%</strong></td>
<td>3.79ms</td>
<td><strong>97.65%</strong></td>
<td>0.58ms</td>
<td><strong>99.61%</strong></td>
<td>0.50ms</td>
</tr>
<tr>
<td>KUKA LBR iiwa 14 R820</td>
<td>7</td>
<td><strong>37.63%</strong></td>
<td>3.38ms</td>
<td><strong>93.73%</strong></td>
<td>0.76ms</td>
<td><strong>99.84%</strong></td>
<td>0.35ms</td>
</tr>
<tr>
<td>KUKA LWR 4+</td>
<td>7</td>
<td><strong>67.72%</strong></td>
<td>1.89ms</td>
<td><strong>95.33%</strong></td>
<td>0.64ms</td>
<td><strong>99.99%</strong></td>
<td>0.29ms</td>
</tr>
<tr>
<td>Motoman MH180</td>
<td>6</td>
<td><strong>68.44%</strong></td>
<td>1.67ms</td>
<td><strong>99.34%</strong></td>
<td>0.27ms</td>
<td><strong>99.99%</strong></td>
<td>0.24ms</td>
</tr>
<tr>
<td>Motoman CSDA10F 'torso/1-arm'</td>
<td>8</td>
<td><strong>52.47%</strong></td>
<td>2.85ms</td>
<td><strong>95.16%</strong></td>
<td>0.72ms</td>
<td><strong>99.81%</strong></td>
<td>0.44ms</td>
</tr>
<tr>
<td>PR2 arm</td>
<td>7</td>
<td><strong>82.92%</strong></td>
<td>1.39ms</td>
<td><strong>86.52%</strong></td>
<td>1.30ms</td>
<td><strong>99.97%</strong></td>
<td>0.41ms</td>
</tr>
<tr>
<td>NASA Robonaut2 'leg' + waist + arm</td>
<td>15</td>
<td><strong>97.78%</strong></td>
<td>0.86ms</td>
<td><strong>97.94%</strong></td>
<td>0.85ms</td>
<td><strong>99.88%</strong></td>
<td>0.72ms</td>
</tr>
<tr>
<td>NASA Robonaut2 arm</td>
<td>7</td>
<td><strong>86.11%</strong></td>
<td>1.05ms</td>
<td><strong>93.95%</strong></td>
<td>0.76ms</td>
<td><strong>99.56%</strong></td>
<td>0.41ms</td>
</tr>
<tr>
<td>NASA Robonaut2 'grasping leg'</td>
<td>7</td>
<td><strong>61.10%</strong></td>
<td>2.30ms</td>
<td><strong>87.36%</strong></td>
<td>1.12ms</td>
<td><strong>99.80%</strong></td>
<td>0.51ms</td>
</tr>
<tr>
<td>NASA Robosimian arm</td>
<td>7</td>
<td><strong>61.64%</strong></td>
<td>2.46ms</td>
<td><strong>99.87%</strong></td>
<td>0.37ms</td>
<td><strong>99.95%</strong></td>
<td>0.44ms</td>
</tr>
<tr>
<td>NASA Valkyrie arm</td>
<td>7</td>
<td><strong>45.05%</strong></td>
<td>3.02ms</td>
<td><strong>89.58%</strong></td>
<td>1.32ms</td>
<td><strong>99.76%</strong></td>
<td>0.48ms</td>
</tr>
<tr>
<td>Schunk LWA4D</td>
<td>7</td>
<td><strong>68.22%</strong></td>
<td>1.85ms</td>
<td><strong>96.54%</strong></td>
<td>0.53ms</td>
<td><strong>99.96%</strong></td>
<td>0.34ms</td>
</tr>
<tr>
<td>TRACLabs modular arm</td>
<td>7</td>
<td><strong>78.99%</strong></td>
<td>1.36ms</td>
<td><strong>94.89%</strong></td>
<td>0.65ms</td>
<td><strong>99.96%</strong></td>
<td>0.37ms</td>
</tr>
<tr>
<td>Universal UR3</td>
<td>6</td>
<td><strong>34.12%</strong></td>
<td>3.41ms</td>
<td><strong>88.79%</strong></td>
<td>0.84ms</td>
<td><strong>99.34%</strong></td>
<td>0.49ms</td>
</tr>
<tr>
<td>UR5</td>
<td>6</td>
<td><strong>32.23%</strong></td>
<td>3.49ms</td>
<td><strong>88.62%</strong></td>
<td>0.79ms</td>
<td><strong>99.64%</strong></td>
<td>0.36ms</td>
</tr>
<tr>
<td>UR10</td>
<td>6</td>
<td><strong>30.67%</strong></td>
<td>3.56ms</td>
<td><strong>88.38%</strong></td>
<td>0.80ms</td>
<td><strong>99.68%</strong></td>
<td>0.42ms</td>
</tr>
</tbody>
</table>

<p>Feel free to <a href="mailto:pbeeson@traclabs.com">email Patrick</a> if there is a robot chain that you would like to see added above.</p>
</div>
            
          </div>
        </div>

        
        
      
    </div>
  </div>

  <div class="distro distro-hydro">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>hydro</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script type="text/javascript">
  $(document).ready(function() {
    setupDistroSwitch("crystal");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-4 col-md-4">
          
            <a href="https://github.com/ros-infrastructure" title="Find rosindex in Github">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>

            <span class="username">ros-infrastructure</span>
          </a>
          |
          <em>generated on 2019-05-24</em>
        
        </div>
        <div class="col-sm-8 col-md-8 text-right">
          <p class="text">a community-maintained index of robotics software
 | <a href="/privacy.txt">privacy</a></p>
        </div>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
