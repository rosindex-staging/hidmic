<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS Index</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="https://ros-infrastructure.github.io/index.ros.org//p/rosbag_direct_write/github-osrf-rosbag_direct_write/">
    
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/sphinx.css">
    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie-1.4.1/jquery.cookie.js type="text/javascript"></script>

    <script type="text/javascript" src=/js/ga.js async></script>
    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">

      <div align="center">
        <br>
        <table id="topnav-table">
          <tr>
            <td valign="middle">
                ROS Resources:
              <a href="http://wiki.ros.org/">Documentation</a>
              |
              <a href="http://wiki.ros.org/Support">Support</a>
              |
              <a href="http://discourse.ros.org/">Discussion Forum</a>
              |
              <a href="http://status.ros.org/">Service Status</a>
              |
              <a href="http://answers.ros.org/">Q&A answers.ros.org</a>
            </td>
          </tr>
        </table> <!-- topnav-table -->
      </div>

      <div class="row">

        <div class="col-sm-12 col-md-9" style="margin-top: 8px">
          <div class="row">
            <!-- title -->
            <div class="col-xs-12 col-sm-3 col-md-3" style="white-space:nowrap;">
              <a class="site-title" href="/">ROS Index</a> <sup><a href="https://github.com/ros-infrastructure/rosindex/issues/new" style="vertical-align:super;" class="label label-warning" target="_blank">BETA</a></sup>
            </div>

            <!-- main links -->
            <div class="col-xs-12 col-sm-9 col-md-9 text-right">
              <ul class="list-inline" style="margin-bottom:0px;">
                <li><a class="btn btn-link" href="/about">About</a></li>

                <li class="dropdown">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Index <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li><a href="/packages/page/1/time/">Package List</a></li>
                    <li><a href="/repos/page/1/time/">Repository List</a></li>

                    <li class="hidden" class="divider"></li>


                    <li class="hidden"><a href="/srvs/">Nodes</a></li>
                    <li class="hidden"><a href="/msgs/">Messages</a></li>
                    <li class="hidden"><a href="/srvs/">Services</a></li>
                    <li class="hidden"><a href="/srvs/">Plugins</a></li>

                    <li class="divider"></li>

                    <li><a href="/deps/">System Dependencies</a></li>
                  </ul>
                </li>

                <li class="dropdown disabled">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Doc <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    
                    <li>
                      <a href="/doc/ros2">
                        ROS2 Overview
                      </a>
                    </li>
                    
                    <li class="hidden" class="divider"></li>

                    <li class="hidden"><a href="/doc/tutorials">Tutorials</a></li>
                    <li class="hidden"><a href="/doc/readmes">Readmes</a></li>
                    <li class="hidden"><a href="/doc/apis">APIs</a></li>
                  </ul>
                </li>

                <li><a class="btn btn-link" href="/contribute">Contribute</a></li>
                <li><a class="btn btn-link" href="/stats">Stats</a></li>
              </ul>

            </div>
          </div>
        </div>

        <!-- searchbox -->
        <div class="col-sm-12 col-md-3" style="margin-top: 12px">
          <form id="top-searchbox" action="/search/" role="form" method="get">
            <div class="input-group input-group-sm">
              <input type="text" class="form-control" name="term" placeholder="Search ROS">
              <span class="input-group-btn">
                <button class="btn btn-default btn-sm" title="Search ROS" type="submit">
                  <span class="glyphicon glyphicon-search"></span>
                </button>
                <a href="https://lunrjs.com/guides/searching.html"
                   title="Help to Search" class="btn btn-default btn-sm">
                  <span class="glyphicon glyphicon-question-sign"></span>
                </a>
              </span>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!--
    <a class="site-title" href="/">ROS Index</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="/packages">Packages</a>
        <a class="page-link" href="/repos">Repositories</a>
        <a class="page-link" href="/search">Search</a>
      </div>
    </nav>
    -->

  </div>
  <script type="text/javascript">
    $('#top-searchbox').submit(function() {
        return $('#top-searchbox input:text').filter(function() {
          return $(this).val() == "";
        }).length == 0;
    });
  </script>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="container-fluid">
    <div class="row">
      <ol class="breadcrumb">
        <li><a href="/">Home</a></li>
        <li><a href="/repos">Repos</a></li>
        <li><a href="/r/rosbag_direct_write/github-osrf-rosbag_direct_write">rosbag_direct_write</a></li>
        <li class="active">rosbag_direct_write
        </li>
        <!--<li class="active">rosbag_direct_write</li>-->
      </ol>
    </div>
    <div class="row">
      

<div id="distro-switch" class="btn-group btn-group-justified" data-toggle="buttons">
  
    <label id="crystal-option" class="distro-button btn btn-xs btn-default" href="#crystal" data="crystal">
      <input type="radio" name="options" id="crystal-radio" autocomplete="off"> crystal
    </label>
  
    <label id="bouncy-option" class="distro-button btn btn-xs btn-default" href="#bouncy" data="bouncy">
      <input type="radio" name="options" id="bouncy-radio" autocomplete="off"> bouncy
    </label>
  
    <label id="melodic-option" class="distro-button btn btn-xs btn-default" href="#melodic" data="melodic">
      <input type="radio" name="options" id="melodic-radio" autocomplete="off"> melodic
    </label>
  
    <label id="lunar-option" class="distro-button btn btn-xs btn-primary" href="#lunar" data="lunar">
      <input type="radio" name="options" id="lunar-radio" autocomplete="off"> lunar
    </label>
  
    <label id="kinetic-option" class="distro-button btn btn-xs btn-default" href="#kinetic" data="kinetic">
      <input type="radio" name="options" id="kinetic-radio" autocomplete="off"> kinetic
    </label>
  
    <label id="indigo-option" class="distro-button btn btn-xs btn-default" href="#indigo" data="indigo">
      <input type="radio" name="options" id="indigo-radio" autocomplete="off"> indigo
    </label>
  

  <!-- Older distros -->
  <div class="btn-group dropdown">
    <label type="button" class="btn btn-xs dropdown-toggle btn-default" data-toggle="dropdown" id="older-distro-button">
        <input type="radio" name="options" autocomplete="off">
      <span id="older-label">Older</span>
      <span class="caret"></span>
    </label>
    <ul class="dropdown-menu" role="menu">
      
        <li data="ardent" id="ardent-option" class="disabled older-distro-option"  href="#ardent">
          <a href="#ardent" data="ardent" id="ardent-button">ardent</a>
        </li>
      
        <li data="jade" id="jade-option" class="disabled older-distro-option"  href="#jade">
          <a href="#jade" data="jade" id="jade-button">jade</a>
        </li>
      
        <li data="hydro" id="hydro-option" class="disabled older-distro-option"  href="#hydro">
          <a href="#hydro" data="hydro" id="hydro-button">hydro</a>
        </li>
      
    </ul>
  </div>
</div>

    </div>
    <div class="row">
      &nbsp;
    </div>
  </div>
</div>


  <div class="distro distro-crystal">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>crystal</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-bouncy">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>bouncy</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-melodic">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>melodic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-lunar">
    <div class="container-fluid">
      
        
        
        

        <div class="row">
          <div class="col-md-10">
            

<div class="well well-sm">
  
  <table class="table">
    <tr>
      <td width="100px" class="text-center">
        <img style="width: 80px" src="/assets/package.png">
      </td>
      <td>
        <h3 style="margin-top: 5px">
          <a style="text-decoration:none" href="/p/rosbag_direct_write">rosbag_direct_write</a> <small>package from <a style="text-decoration:none" href="/r/rosbag_direct_write/github-osrf-rosbag_direct_write">rosbag_direct_write</a> repo</small>
        </h3>
          
            
            
              <span class="label label-default pkg-label">

rosbag_direct_write
</span>
            
          
      </td>
    </tr>
  </table>
  <div class="top-buffer distro distro-lunar">
    
<table class="table table-condensed instance-switch">
  <tr>
    <td>
      <div id="repo-switch" class="btn-group btn-group-justified" role="group">
        <div class="btn-group" style="width: 50px">
          <a type="button" class="btn btn-xs btn-default" data-toggle="tooltip" data-placement="left" title="View Instances" 
            href="/packages/rosbag_direct_write"><span class="glyphicon glyphicon-th"></span></a>
        </div>
        <div class="btn-group" style="width: 90%" role="group">
          <div class="dropdown">
            <!-- TODO: add disabled when only 1 version is known? -->
            <button class="btn btn-xs btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" title="Select Instance">
              <span class="pull-left" style="width: 100%; text-align: left">
                <span class="pull-right"><span class="caret"></span></span> 
              <span class="glyphicon glyphicon-none"></span>
                  github-osrf-rosbag_direct_write
              </span>
            </button>
            <ul class="dropdown-menu" role="menu">
              
                <li role="presentation">
                  <a id="github-osrf-rosbag_direct_write" role="menuitem" tabindex="-1" href="/p/rosbag_direct_write/github-osrf-rosbag_direct_write" data="github-osrf-rosbag_direct_write">
                    <span class="glyphicon glyphicon-none"></span>
                    github-osrf-rosbag_direct_write
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    </td>
  </tr>
</table>

  </div>
</div>

            <div class="visible-xs visible-sm">
              
              
              



<div class="list-group list-group-sm list-group-horizontal list-group-justified">
  <a class="list-group-item text-center" target="_blank" href="http://docs.ros.org/lunar/api/rosbag_direct_write/html/" ><span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span><br> API Docs</a>
  <a class="list-group-item text-center" target="_blank" href="https://github.com/osrf/rosbag_direct_write/tree/master/."><span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span><br> Browse Code</a>
  <a class="list-group-item text-center inactive" target="_blank" href="http://wiki.ros.org/rosbag_direct_write?distro=lunar"><span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span><br> Wiki</a>
  <a class="list-group-item text-center inactive" target="_blank" href="http://http404error.github.io/roseco/graph.html?id=ros.json&focus=rosbag_direct_write&height=1&depth=2&tred=standard&metagroup=false&colorby=Health&direction=LR" ><span style="margin-right: 5px;" class="glyphicon glyphicon-tree-deciduous"></span><br></a>
  
</div>

            </div>
            



<ul class="nav nav-tabs nav-justified" id="lunar-tabs" style="margin-bottom:20px">
  <li class="better-tabs active">
    <a href="#lunar-overview" data-toggle="tab">Overview</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    
    <a href="#lunar-assets" data-toggle="tab"><span class="label label-default">0</span> Assets</a>
  </li>
  <li class="better-tabs">
    
    
    
    
    <a href="#lunar-deps" data-toggle="tab"><span class="label label-primary">4</span> Dependencies</a>
  </li>
  <li class="better-tabs">
    
    <a href="#lunar-tutorials" data-toggle="tab"><span class="label label-default">0</span> Tutorials</a>
  </li>
  <li class="better-tabs">
    <a href="#lunar-questions" data-toggle="tab"><span id="lunar-questions-count" class="label label-primary">0</span> Q & A</a>
  </li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="lunar-overview">
    
    <div class="row">
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h4 class="panel-title">Package Summary</h4></div>
          <div class="panel-body">
            <table class="table table-condensed">
              <tr>
                <td style="width:100px;" class="text-right"><strong>Tags</strong></td>
                <td>
                  
                  
                    <em>No category tags.</em>
                  
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Version</strong></td>
                <td>0.0.0</td>
              </tr>
              <tr>
                <td class="text-right"><strong>License</strong></td>
                <td>Apache 2.0</td>
              </tr>
              <tr>
                <td class="text-right"><strong>Build type</strong></td>
                <td>
                  
                    <span class="label label-info">
                  
                    CATKIN</span>
                </td>
              </tr>
              <tr>
                <td class="text-right"><strong>Use</strong></td>
                <td>
                
                  <span class="label label-success">RECOMMENDED</span>
                
                </td>
              </tr>
            </table>
          </div>
          <div class="panel-heading"><h3 class="panel-title">Repository Summary</h3></div>
          <div class="panel-body">
            
            
            

  <table class="table table-condensed">
    <tr>
      <td style="width:100px;" class="text-right"><b>Checkout URI</b></td>
      <td><a class="label label-default" href="https://github.com/osrf/rosbag_direct_write.git">https://github.com/osrf/rosbag_direct_write.git</a></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Type</b></td>
      <td><span class="label label-default">git</span></td>
    </tr>
    <tr>
      <td class="text-right"><b>VCS Version</b></td>
      <td><span class="label label-default">master</span></td>
    </tr>
    <tr>
      <td style="white-space: nowrap;" class="text-right"><b>Last Updated</b></div>
      <td>
        
          <span class="label label-default"><span class="glyphicon glyphicon-time"></span> 2018-02-16
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Dev Status</b></td>
      <td>
        
          <span class="label label-warning">UNMAINTAINED
        </span>
      </td>
    </tr>
    <tr>
      <td class="text-right"><b>Released</b></td>
      <td>
        
          <span class="label label-default">UNRELEASED
        </span>
      </td>
    </tr>
  </table>

          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
        <div class="panel panel-default">
          <div class="panel-heading"><h3 class="panel-title">Package Description</h3></div>
          <div class="panel-body">
            
    C++ API for (potentially) faster writing of rosbag's using O_DIRECT or F_NOCACHE with memory alignment.
  
          </div>
          <div class="panel-heading"><h4 class="panel-title">Additional Links</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li><a href="https://github.com/osrf/rosbag_direct_write">Repository</a></li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Maintainers</h4></div>
          <div class="panel-body">
            
            
              <ul class="list-unstyled">
                
                  <li>William Woodall</li>
                
              </ul>
            
          </div>
          <div class="panel-heading"><h4 class="panel-title">Authors</h4></div>
          <div class="panel-body">
            
            
              <em>No additional authors.</em>
            
          </div>
        </div>
      </div>
    </div>
    
      
        <div class="row">
          <div class="col-xs-12">
            <div class="panel panel-default">
              <div class="panel-heading"><span class="glyphicon glyphicon-file"></span><a href="https://github.com/osrf/rosbag_direct_write/tree/master/./README.md" title="Open in git repository">README.md</a></div>
              <div class="panel-body">
                    <div class="rendered-markdown">
<h1 id="rosbag_direct_write">rosbag_direct_write</h1>

<p>This repository contains one package, <code>rosbag_direct_write</code>, which provides a similar interface to the <code>rosbag::Bag</code> interface, but only for writing rosbag files.
The purpose of this package is to allow for high performance rosbag file creation by:</p>

<ul>
<li>avoiding seeking during writing</li>
<li>using <code>O_DIRECT</code> and writing in 4KB aligned memory segments</li>
<li>by allowing the user to write directly to the rosbag file in special cases to prevent <code>memcpy</code>'s</li>
</ul>

<h2 id="basic-api-usage">Basic API usage</h2>

<p>This package depends on the <code>rosbag_storage</code> package and provieds the <code>DirectBag</code> class.
The <code>DirectBag</code> class provides a few important functions:</p>

<ul>
<li>
<code>open</code>: opens a rosbag, overwriting any existing rosbag

<ul>
<li>
<code>filename</code>: path to the rosbag to open</li>
<li>
<code>chunk_threshold</code>: size at which to break up rosbag chunks, default 768KB</li>
</ul>
</li>
<li>
<code>write</code>: writes a given message, to a given topic, with a given received time

<ul>
<li>
<code>topic</code>: ROS topic to associate the message with</li>
<li>
<code>time</code>: ros::Time when the message was received</li>
<li>
<code>msg</code>: message or structure to be written to the bag</li>
</ul>
</li>
<li>
<code>close</code>: closes the rosbag, immediately finishing any open chunks</li>
</ul>

<p>These are the most important functions, but there are a few others.
See the header at <code>include/rosbag_direct_write/direct_bag.h</code> for more details.</p>

<h2 id="features">Features</h2>

<p><code>rosbag_direct_write</code> will always open rosbag files with <code>O_DIRECT</code>, or <code>F_NOCACHE</code> where needed, to make use of the more efficient writing.
In the default case, messages are serialized and stored in an in-memory buffer until the chunk threshold is met.
When the chunk threshold is met, the chunk is "finished" and written to the disk, taking advantage of <code>O_DIRECT</code>.
This will be faster out-of-the-box than the <code>rosbag::Bag</code> API in most cases, even if the Zero-copy direct write mechanism is not used.</p>

<h3 id="zero-copy-direct-writing">Zero-copy Direct Writing</h3>

<p>If the user of the API so chooses, they may make use of the zero-copy direct writing of messages to the rosbag file.
This is most useful when the user has a large segment of data, like in an image or in a point cloud, and they do not wish to copy that data into an intermediate in-memory buffer.
This can help avoid necessary <code>memcpy</code>'s and it can also allow the kernel to make use of DMA optimizations, especially if the data to be recorded does not start in main memory.</p>

<p>In order to take advantage of this feature, the user must define three function template specializations for their message type.
Here is an example for <code>sensor_msgs/PointCloud2</code>:</p>
<div class="highlight"><pre><code class="language-c++" data-lang="c++"><span class="cp">#include &lt;sensor_msgs/PointCloud2.h&gt;
</span>
<span class="cp">#include &lt;rosbag_direct_write/direct_bag.h&gt;
</span>
<span class="k">namespace</span> <span class="n">rosbag_direct_write</span>
<span class="p">{</span>

<span class="k">template</span> <span class="o">&lt;&gt;</span>
<span class="kt">bool</span> <span class="n">has_direct_data</span><span class="p">(</span><span class="k">const</span> <span class="n">sensor_msgs</span><span class="o">::</span><span class="n">PointCloud2</span> <span class="o">&amp;</span><span class="n">point_cloud</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">ROSBAG_DIRECT_WRITE_UNUSED</span><span class="p">(</span><span class="n">point_cloud</span><span class="p">);</span>  <span class="c1">// Prevents unused argument warning</span>
  <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">template</span> <span class="o">&lt;&gt;</span>
<span class="kt">size_t</span> <span class="n">alignment_adjustment</span><span class="p">(</span><span class="k">const</span> <span class="n">sensor_msgs</span><span class="o">::</span><span class="n">PointCloud2</span> <span class="o">&amp;</span><span class="n">point_cloud</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">ROSBAG_DIRECT_WRITE_UNUSED</span><span class="p">(</span><span class="n">point_cloud</span><span class="p">);</span>
  <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>  <span class="c1">// To account for the trailing is_dense boolean.</span>
<span class="p">}</span>

<span class="k">template</span> <span class="o">&lt;&gt;</span> <span class="n">SerializationReturnCode</span>
<span class="n">serialize_to_buffer</span><span class="p">(</span><span class="n">VectorBuffer</span><span class="o">&amp;</span> <span class="n">buffer</span><span class="p">,</span> <span class="k">const</span> <span class="n">sensor_msgs</span><span class="o">::</span><span class="n">PointCloud2</span><span class="o">&amp;</span> <span class="n">msg</span><span class="p">,</span>
                    <span class="kt">size_t</span> <span class="n">step</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">size_t</span> <span class="n">ser_len</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">size_t</span> <span class="n">start_offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">ros</span><span class="o">::</span><span class="n">serialization</span><span class="o">::</span><span class="n">OStream</span><span class="o">&gt;</span> <span class="n">s</span><span class="p">;</span>
  <span class="k">switch</span> <span class="p">(</span><span class="n">step</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1">// First stage of the serialization</span>
      <span class="c1">// Calculate how much additional buffer we will need for the message</span>
      <span class="n">ser_len</span> <span class="o">=</span> <span class="n">ros</span><span class="o">::</span><span class="n">serialization</span><span class="o">::</span><span class="n">serializationLength</span><span class="p">(</span><span class="n">msg</span><span class="p">);</span>
      <span class="n">ser_len</span> <span class="o">-=</span> <span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
      <span class="c1">// Subtract for the size of size of image data (an int32)</span>
      <span class="n">ser_len</span> <span class="o">-=</span> <span class="mi">4</span><span class="p">;</span>
      <span class="c1">// Subtract the size of the fields which come after the "data" field</span>
      <span class="n">ser_len</span> <span class="o">-=</span> <span class="n">ros</span><span class="o">::</span><span class="n">serialization</span><span class="o">::</span><span class="n">serializationLength</span><span class="p">(</span><span class="n">msg</span><span class="p">.</span><span class="n">is_dense</span><span class="p">);</span>
      <span class="c1">// Save correct buffer position and resize</span>
      <span class="n">start_offset</span> <span class="o">=</span> <span class="n">buffer</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
      <span class="n">buffer</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">buffer</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">+</span> <span class="n">ser_len</span><span class="p">);</span>
      <span class="c1">// Create a OStream</span>
      <span class="n">s</span><span class="p">.</span><span class="n">reset</span><span class="p">(</span><span class="k">new</span> <span class="n">ros</span><span class="o">::</span><span class="n">serialization</span><span class="o">::</span><span class="n">OStream</span><span class="p">(</span><span class="n">buffer</span><span class="p">.</span><span class="n">data</span><span class="p">()</span> <span class="o">+</span> <span class="n">start_offset</span><span class="p">,</span>
                                              <span class="n">ser_len</span><span class="p">));</span>
      <span class="c1">// Write out everything but image data</span>
      <span class="n">ros</span><span class="o">::</span><span class="n">serialization</span><span class="o">::</span><span class="n">serialize</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="n">msg</span><span class="p">.</span><span class="n">header</span><span class="p">);</span>
      <span class="n">ros</span><span class="o">::</span><span class="n">serialization</span><span class="o">::</span><span class="n">serialize</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="n">msg</span><span class="p">.</span><span class="n">height</span><span class="p">);</span>
      <span class="n">ros</span><span class="o">::</span><span class="n">serialization</span><span class="o">::</span><span class="n">serialize</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="n">msg</span><span class="p">.</span><span class="n">width</span><span class="p">);</span>
      <span class="n">ros</span><span class="o">::</span><span class="n">serialization</span><span class="o">::</span><span class="n">serialize</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="n">msg</span><span class="p">.</span><span class="n">fields</span><span class="p">);</span>
      <span class="n">ros</span><span class="o">::</span><span class="n">serialization</span><span class="o">::</span><span class="n">serialize</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="n">msg</span><span class="p">.</span><span class="n">is_bigendian</span><span class="p">);</span>
      <span class="n">ros</span><span class="o">::</span><span class="n">serialization</span><span class="o">::</span><span class="n">serialize</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="n">msg</span><span class="p">.</span><span class="n">point_step</span><span class="p">);</span>
      <span class="n">ros</span><span class="o">::</span><span class="n">serialization</span><span class="o">::</span><span class="n">serialize</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="n">msg</span><span class="p">.</span><span class="n">row_step</span><span class="p">);</span>
      <span class="c1">// Write the size of the data which comes next in serialize_to_file</span>
      <span class="n">impl</span><span class="o">::</span><span class="n">write_to_buffer</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span> <span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">size</span><span class="p">(),</span> <span class="mi">4</span><span class="p">);</span>
      <span class="k">return</span> <span class="n">SerializationReturnCode</span><span class="o">::</span><span class="n">SERIALIZE_TO_FILE_NEXT</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>  <span class="c1">// Second call, after file writing</span>
      <span class="c1">// Calculate the size needed</span>
      <span class="n">ser_len</span> <span class="o">=</span> <span class="n">ros</span><span class="o">::</span><span class="n">serialization</span><span class="o">::</span><span class="n">serializationLength</span><span class="p">(</span><span class="n">msg</span><span class="p">.</span><span class="n">is_dense</span><span class="p">);</span>
      <span class="c1">// Save correct buffer position and resize</span>
      <span class="n">start_offset</span> <span class="o">=</span> <span class="n">buffer</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
      <span class="n">buffer</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">buffer</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">+</span> <span class="n">ser_len</span><span class="p">);</span>
      <span class="c1">// Create a OStream</span>
      <span class="n">s</span><span class="p">.</span><span class="n">reset</span><span class="p">(</span><span class="k">new</span> <span class="n">ros</span><span class="o">::</span><span class="n">serialization</span><span class="o">::</span><span class="n">OStream</span><span class="p">(</span><span class="n">buffer</span><span class="p">.</span><span class="n">data</span><span class="p">()</span> <span class="o">+</span> <span class="n">start_offset</span><span class="p">,</span>
                                              <span class="n">ser_len</span><span class="p">));</span>
      <span class="c1">// Write out the last item</span>
      <span class="n">ros</span><span class="o">::</span><span class="n">serialization</span><span class="o">::</span><span class="n">serialize</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="n">msg</span><span class="p">.</span><span class="n">is_dense</span><span class="p">);</span>
      <span class="k">return</span> <span class="n">SerializationReturnCode</span><span class="o">::</span><span class="n">DONE</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span>
      <span class="c1">// This should not occur</span>
      <span class="k">throw</span> <span class="n">std</span><span class="o">::</span><span class="n">runtime_error</span><span class="p">(</span>
        <span class="s">"serialize_to_buffer&lt;sensor_msgs::PointCloud2&gt; called out of order."</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">SerializationReturnCode</span><span class="o">::</span><span class="n">DONE</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">template</span> <span class="o">&lt;&gt;</span> <span class="n">SerializationReturnCode</span>
<span class="n">serialize_to_file</span><span class="p">(</span><span class="n">DirectFile</span><span class="o">&amp;</span> <span class="n">file</span><span class="p">,</span> <span class="k">const</span> <span class="n">sensor_msgs</span><span class="o">::</span><span class="n">PointCloud2</span><span class="o">&amp;</span> <span class="n">msg</span><span class="p">,</span>
                  <span class="kt">size_t</span> <span class="n">step</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">assert</span><span class="p">((</span><span class="n">file</span><span class="p">.</span><span class="n">get_offset</span><span class="p">()</span> <span class="o">%</span> <span class="mi">4096</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">assert</span><span class="p">(</span><span class="n">step</span> <span class="o">==</span> <span class="mi">1</span><span class="p">);</span>  <span class="c1">// Make sure this is step 2 of 3</span>
  <span class="c1">// Write the data directly to the file from the memory</span>
  <span class="n">file</span><span class="p">.</span><span class="n">write_data</span><span class="p">(</span><span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">data</span><span class="p">(),</span> <span class="n">msg</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>
  <span class="c1">// Pass back to serialize_to_buffer&lt;sensor_msgs::PointCloud2&gt;</span>
  <span class="k">return</span> <span class="n">SerializationReturnCode</span><span class="o">::</span><span class="n">SERIALIZE_TO_BUFFER_NEXT</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">}</span> <span class="cm">/* namespace rosbag_direct_write */</span>

</code></pre></div>
<p>Let's break that down, first the user must create the function <code>has_direct_data</code>.
This function is used by <code>rosbag_direct_write</code> to determine if a message should be handled as a normal message and be serialized to an in-memory buffer, or if it should be treated like a direct write message.
To use this feature, you'll need to provide a specialization of this function which returns <code>true</code> for messages which have elements which can be written with <code>O_DIRECT</code>.</p>

<p>Next, you'll need to define the two serialization functions <code>serialize_to_buffer</code> and <code>serialize_to_file</code>.
<code>serialize_to_buffer</code> is always called first, but what happens next is determined by what <code>serialize_to_buffer</code> returns.
If <code>serialize_to_buffer</code> returns <code>SerializationReturnCode::DONE</code>, then no other functions will be called, but if <code>SerializationReturnCode::SERIALIZE_TO_FILE_NEXT</code> is returned, then the <code>serialize_to_file</code> function will be called, and if <code>SerializationReturnCode::SERIALIZE_TO_BUFFER_NEXT</code> is returned, then the <code>serialize_to_buffer</code> function will be called again.
Each time one of these functions is called, the <code>step</code> parameter is incremented, allowing the functions to know which step of the message serialization they are in.
In this respect the <code>sensor_msgs/PointCloud2</code> message is a good example, because it requires two calls to <code>serialize_to_buffer</code> and one call to <code>serialize_to_file</code>.</p>

<p>The <code>serialize_to_buffer</code> function gets a memory aligned buffer (a <code>std::vector</code>), the message to be serialized, and the step (<code>0</code> indexed).
The user is responsible for serializing the incoming message structure correctly, but typically the first call to <code>serialize_to_buffer</code> writes the message data up to the part of the message the user wants to direct write, then returns <code>SerializationReturnCode::SERIALIZE_TO_FILE_NEXT</code>.</p>

<p>The <code>serialize_to_file</code> function gets a <code>DirectFile</code> object (it has a <code>write</code> function), the message being serialized, and the step.
At this point it is important to note what the rules about using <code>O_DIRECT</code> are:</p>

<ul>
<li>The address of the object passed to <code>DirectFile.write</code> must be a multiple of <code>4096</code>
</li>
<li>The size of data to write must be a multiple of <code>4096</code>
</li>
<li>The current position in the <code>DirectFile</code> (use <code>DirectFile.get_offset</code> to check) must be a multiple of <code>4096</code>
</li>
</ul>

<p>The number <code>4096</code> is the typical page size for most systems you will encounter.</p>

<p>The user is responsible for ensuring these constraints are met.
To ensure that the <code>DirectFile</code>'s offset is a multiple of <code>4096</code>, <code>rosbag_direct_write</code> will make sure that the last message in a chunk ends on a <code>4096</code> boundary, but this can be adjusted using the optional <code>alignment_adjustment</code> template specialization.
This adjustment necessary when the direct written part of the message is not at the end of the message, like for PointCloud2.
However, sensor_msgs::Image's last field is the image data and therefore does not require any adjustment to the alignment.
Getting the alignment right is accomplished by using a bogus message header entry to adjust the start of the last message in the chunk to be exactly the length of the last message short of a <code>4096</code> boundary.</p>

<p>At this point it is worth mentioning the other special condition for ending chunks in <code>rosbag_direct_write</code>'s implementation.
Normally, a chunk is only ended if the chunk threshold is reached or if the rosbag is closed, but in <code>rosbag_direct_write</code> they are additionally finished anytime a direct write message has been written.
This requirement is in place to allow direct messages to end on a <code>4096</code> boundary, allowing the user to more easily meet the above <code>O_DIRECT</code> constraints.</p>

<p>So, if all of the user's messages are using direct write, then there will be one message per chunk.
Therefore, there is a trade-off between the use of direct write and the number of chunks, which becomes a trade-off between write performance and playback performance.
The more chunks there are, the more work that has to be done when playing a rosbag back.
Therefore, typically it only makes sense to use the direct write mechanism when very large data needs to be written to the rosbag file, like in the case of Images and PointCloud2's.</p>
</div>
              </div>
            </div>
          </div>
        </div>
      
    
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading"><span class="glyphicon glyphicon-list"></span> CHANGELOG</div>
          <div class="panel-body">
            
              <em>No CHANGELOG found.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="lunar-tutorials">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Wiki Tutorials</h3>
      </div>
      <div class="panel-body">
        
        <em>See <a href="http://wiki.ros.org/rosbag_direct_write/Tutorials" target="_blank">ROS Wiki Tutorials</a> for more details.</em>
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Source Tutorials</h3>
      </div>
      <div class="panel-body">
        <em>Not currently indexed.</em>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="lunar-deps">
    <div class="row">
      <div class="col-sm-5">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Package Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <table class="table table-condensed table-striped">
                <thead>
                  <th class="text-center">Deps</th>
                  <th class="text-center"><span class="glyphicon glyphicon-th" title="Package instances"></span></th>
                  <th style="width: 100%">Name</th>
                </thead>
                <tbody>
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/cpp_common#lunar-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/cpp_common" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/cpp_common#lunar">cpp_common</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/rosbag_storage#lunar-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/rosbag_storage" class="label label-primary">
                            2
                          </a>
                        </td>
                        <td><a href="/p/rosbag_storage#lunar">rosbag_storage</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/catkin#lunar-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/catkin" class="label label-default">
                            1
                          </a>
                        </td>
                        <td><a href="/p/catkin#lunar">catkin</a></td>
                      </tr>
                    
                  
                    
                    
                      <tr>
                        <td class="text-center">
                          
                          
                          
                          <a href="/p/sensor_msgs#lunar-deps" >
                            <span class="glyphicon glyphicon-arrow-left" title="Package dependencies"></span>
                          </a>
                        </td>
                        <td class="text-center">
                          <a href="/packages/sensor_msgs" class="label label-primary">
                            2
                          </a>
                        </td>
                        <td><a href="/p/sensor_msgs#lunar">sensor_msgs</a></td>
                      </tr>
                    
                  
                </tbody>
              </table>
            
          </div>
          <div class="panel-heading">
            <h3 class="panel-title">System Dependencies</h3>
          </div>
          <div class="panel-body">
            
              <em>No direct system dependencies.</em>
            
          </div>
        </div>
      </div>

      <div class="col-sm-7">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">Dependant Packages</h3>
          </div>
          <div class="panel-body">
            
              <em>No known dependants.</em>
            
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="tab-pane" id="lunar-assets">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Launch files</h3>
      </div>
      <div class="panel-body">
        
          <em>No launch files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Messages</h3>
      </div>
      <div class="panel-body">
        
          <em>No message files found.</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Services</h3>
      </div>
      <div class="panel-body">
        
          <em>No service files found</em>
        
      </div>
    </div>

    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Plugins</h3>
      </div>
      <div class="panel-body">
        
          <em>No plugins found.</em>
        
      </div>
    </div>
  </div>

  <div class="tab-pane" id="lunar-questions">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h3 class="panel-title">Recent questions tagged <kbd>rosbag_direct_write</kbd> at <strong><a href="https://answers.ros.org" target="_blank">answers.ros.org</a></strong></h3>
      </div>
      <div id="lunar-question-list" class="panel-body" style="display: none;"></div>
      <div id="lunar-no-question-list" class="panel-body" style="display: none;">
        <p>No questions yet, you can ask one <a href="https://answers.ros.org/questions/ask/?tags=rosbag_direct_write,lunar">here</a>.</p>
      </div>
      <div id="lunar-get-question-fail" class="panel-body alert alert-warning" style="display: none;">
        <p>Failed to get question list, you can ticket an issue <a href="https://github.com/ros2/rosindex/issues/new" target="_blank" class="alert-link">here</a> </p>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="/js/package_body_tabs.js"></script>

<script id="lunar-question-list-template" type="text/html">
  <p>
    Browse <a href="https://answers.ros.org/questions/scope:all/sort:activity-desc/tags:rosbag_direct_write/page:1/">recent questions</a>
    or see the <a href="https://answers.ros.org/questions/scope:all/sort:votes-desc/tags:rosbag_direct_write/page:1/">higest voted ones</a>.
  </p>
  
  <div class="list-group">
    {{#questions}}
    <div class="list-group-item mb-1">
      <a href="{{link}}">
        <h4 class="w-75 float-left">{{title}}</h4>
        <small class="w-25">{{updated}}</small>
      </a>
      <hr>
      {{&description}}
    </div>
    {{/questions}}
  </div>
  
</script>

<script type="text/javascript" src="/js/jquery.jfeed.pack.js"></script>
<link rel="stylesheet" type="text/css" href="/css/prettify.css"/>
<script type="text/javascript" src="/js/prettify.js"></script>
<script type="text/javascript" src="/js/mustache.js"></script>
<script type="text/javascript" src="/js/showdown.min.js"></script>

<script type="text/javascript">
jQuery.browser = {};
(function () {
    jQuery.browser.msie = false;
    jQuery.browser.version = 0;
    if (navigator.userAgent.match(/MSIE ([0-9]+)\./)) {
        jQuery.browser.msie = true;
        jQuery.browser.version = RegExp.$1;
    }
})();
jQuery(function() {
    jQuery.getFeed({
        url: "https://answers.ros.org/feeds/rss/?tags=rosbag_direct_write",
        success: function(feed) {
            if (feed.items.length > 0) {
              var converter = new showdown.Converter();
              var questions = feed.items.slice(0, 10).map(function(question) {
                  question.description = converter.makeHtml(question.description);
                  return question;
              });
              var template = jQuery("#lunar-question-list-template").text();
              Mustache.parse(template);
              var rendered = Mustache.render(template, {questions: questions});
              jQuery("#lunar-question-list").html(rendered);
              jQuery("#lunar-question-list pre").addClass("prettyprint");
              jQuery("#lunar-question-list img").each(function() {
                if (jQuery(this).attr("src").startsWith("/upfiles")) {
                   jQuery(this).attr("src", "https://answers.ros.org" + jQuery(this).attr("src"));
                }
              });
              jQuery("#lunar-question-list").show();
              PR.prettyPrint();
            } else {
              jQuery("#lunar-no-question-list").show();
            }
            jQuery("#lunar-questions-count").text(feed.items.length);
        },
        error: function(res, err) {
          console.error("Failed to get feed:", err)
          jQuery("#lunar-get-question-fail").show();
        }
    });
});
</script>

          </div>
          <div class="col-md-2 hidden-xs hidden-sm">
            
            
            



<div class="list-group list-group-sm ">
  <a class="list-group-item" target="_blank" href="http://docs.ros.org/lunar/api/rosbag_direct_write/html/" ><span style="margin-right: 5px;" class="glyphicon glyphicon-file"></span> API Docs</a>
  <a class="list-group-item" target="_blank" href="https://github.com/osrf/rosbag_direct_write/tree/master/."><span class="glyphicon glyphicon-folder-open" style="margin-right:5px;"></span> Browse Code</a>
  <a class="list-group-item inactive" target="_blank" href="http://wiki.ros.org/rosbag_direct_write?distro=lunar"><span style="margin-right: 5px;" class="glyphicon glyphicon-info-sign"></span> Wiki</a>
  <a class="list-group-item inactive" target="_blank" href="http://http404error.github.io/roseco/graph.html?id=ros.json&focus=rosbag_direct_write&height=1&depth=2&tred=standard&metagroup=false&colorby=Health&direction=LR" ><span style="margin-right: 5px;" class="glyphicon glyphicon-tree-deciduous"></span></a>
  
</div>

          </div>
        </div>
      
    </div>
  </div>

  <div class="distro distro-kinetic">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>kinetic</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-indigo">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>indigo</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-ardent">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>ardent</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-jade">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>jade</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>

  <div class="distro distro-hydro">
    <div class="container-fluid">
      
        <div class="alert alert-warning" role="alert">No version for distro <strong>hydro</strong>. Known supported distros are highlighted in the buttons above.</div>
      
    </div>
  </div>


<script type="text/javascript">
  $(document).ready(function() {
    setupDistroSwitch("crystal");
  });
</script>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-4 col-md-4">
          
            <a href="https://github.com/ros-infrastructure" title="Find rosindex in Github">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>

            <span class="username">ros-infrastructure</span>
          </a>
          |
          <em>generated on 2019-05-23</em>
        
        </div>
        <div class="col-sm-8 col-md-8 text-right">
          <p class="text">a community-maintained index of robotics software
 | <a href="/privacy.txt">privacy</a></p>
        </div>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
