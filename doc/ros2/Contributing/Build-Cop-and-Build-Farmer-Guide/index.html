<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Build Cop and Build Farmer Guide</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="https://ros-infrastructure.github.io/index.ros.org//doc/ros2/Contributing/Build-Cop-and-Build-Farmer-Guide/">
    
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/sphinx.css">
    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie-1.4.1/jquery.cookie.js type="text/javascript"></script>

    <script type="text/javascript" src=/js/ga.js async></script>
    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">

      <div align="center">
        <br>
        <table id="topnav-table">
          <tr>
            <td valign="middle">
                ROS Resources:
              <a href="http://wiki.ros.org/">Documentation</a>
              |
              <a href="http://wiki.ros.org/Support">Support</a>
              |
              <a href="http://discourse.ros.org/">Discussion Forum</a>
              |
              <a href="http://status.ros.org/">Service Status</a>
              |
              <a href="http://answers.ros.org/">Q&A answers.ros.org</a>
            </td>
          </tr>
        </table> <!-- topnav-table -->
      </div>

      <div class="row">

        <div class="col-sm-12 col-md-9" style="margin-top: 8px">
          <div class="row">
            <!-- title -->
            <div class="col-xs-12 col-sm-3 col-md-3" style="white-space:nowrap;">
              <a class="site-title" href="/">ROS Index</a> <sup><a href="https://github.com/ros-infrastructure/rosindex/issues/new" style="vertical-align:super;" class="label label-warning" target="_blank">BETA</a></sup>
            </div>

            <!-- main links -->
            <div class="col-xs-12 col-sm-9 col-md-9 text-right">
              <ul class="list-inline" style="margin-bottom:0px;">
                <li><a class="btn btn-link" href="/about">About</a></li>

                <li class="dropdown">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Index <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li><a href="/packages/page/1/time/">Package List</a></li>
                    <li><a href="/repos/page/1/time/">Repository List</a></li>

                    <li class="hidden" class="divider"></li>


                    <li class="hidden"><a href="/srvs/">Nodes</a></li>
                    <li class="hidden"><a href="/msgs/">Messages</a></li>
                    <li class="hidden"><a href="/srvs/">Services</a></li>
                    <li class="hidden"><a href="/srvs/">Plugins</a></li>

                    <li class="divider"></li>

                    <li><a href="/deps/">System Dependencies</a></li>
                  </ul>
                </li>

                <li class="dropdown disabled">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Doc <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    
                    <li>
                      <a href="/doc/ros2">
                        ROS2 Overview
                      </a>
                    </li>
                    
                    <li class="hidden" class="divider"></li>

                    <li class="hidden"><a href="/doc/tutorials">Tutorials</a></li>
                    <li class="hidden"><a href="/doc/readmes">Readmes</a></li>
                    <li class="hidden"><a href="/doc/apis">APIs</a></li>
                  </ul>
                </li>

                <li><a class="btn btn-link" href="/contribute">Contribute</a></li>
                <li><a class="btn btn-link" href="/stats">Stats</a></li>
              </ul>

            </div>
          </div>
        </div>

        <!-- searchbox -->
        <div class="col-sm-12 col-md-3" style="margin-top: 12px">
          <form id="top-searchbox" action="/search/" role="form" method="get">
            <div class="input-group input-group-sm">
              <input type="text" class="form-control" name="term" placeholder="Search ROS">
              <span class="input-group-btn">
                <button class="btn btn-default btn-sm" title="Search ROS" type="submit">
                  <span class="glyphicon glyphicon-search"></span>
                </button>
                <a href="https://lunrjs.com/guides/searching.html"
                   title="Help to Search" class="btn btn-default btn-sm">
                  <span class="glyphicon glyphicon-question-sign"></span>
                </a>
              </span>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!--
    <a class="site-title" href="/">ROS Index</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="/packages">Packages</a>
        <a class="page-link" href="/repos">Repositories</a>
        <a class="page-link" href="/search">Search</a>
      </div>
    </nav>
    -->

  </div>
  <script type="text/javascript">
    $('#top-searchbox').submit(function() {
        return $('#top-searchbox input:text').filter(function() {
          return $(this).val() == "";
        }).length == 0;
    });
  </script>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="row">
    <ol class="breadcrumb">
      <li><a href="/">Home</a></li>
      
      <li>
        <a href="/doc/ros2/">
          ROS2 Overview
        </a>
      </li>
      
      <li>
        <a href="/doc/ros2/Contributing/">
          Contributing to ROS 2
        </a>
      </li>
      
      <li class="active">Build Cop and Build Farmer Guide</li>
    </ol>
  </div>
  <div class="row">
    <nav class="col-md-4 well">
      <h3 style="margin-top: 10px;">Index</h3>
      
      
      <div class="list-group list-group-root">
  



<div class="list-group-item">
  <a href="/doc/ros2/">ROS2 Overview</a>
  
  <a href="#_doc_ros2__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-up"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2__children" class="list-group collapse in">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/About/">About this documentation</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/">ROS 2 Concepts</a>
  
  <a href="#_doc_ros2_Concepts__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Concepts__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/About-Quality-of-Service-Settings/">About Quality of Service Settings</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/About-ROS-Interfaces/">About ROS 2 Interfaces</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/ROS-2-Client-Libraries/">About ROS2 client libraries</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/Logging/">Logging and logger configuration</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/Overview-of-ROS-2-concepts/">Overview of ROS 2 Concepts</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/DDS-and-ROS-middleware-implementations/">ROS 2 and different DDS/RTPS vendors</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/">Contributing to ROS 2</a>
  
  <a href="#_doc_ros2_Contributing__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-up"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Contributing__children" class="list-group collapse in">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Build-Cop-and-Build-Farmer-Guide/">Build Cop and Build Farmer Guide</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Design-Guide/">Design Guide: Common patterns in ROS 2</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Examples-and-Tools-for-ROS1----ROS2-Migrations/">Examples and tools for ROS1-to-ROS2 Migration</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Set-up-a-new-Linux-CI-node/">How to setup Linux Jenkins nodes</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Set-up-a-new-Windows-CI-node/">How to setup a Windows Jenkins node</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Set-up-a-new-macOS-CI-node/">How to setup a macOS Jenkins node</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/CI-Server-Setup/">How to setup the Jenkins master</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/MISRA-Compliance-Guide/">MISRA Compliance Guide</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Migration-Guide/">Migration guide from ROS 1</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Migration-Guide-Python/">Python Migration guide from ROS 1</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Quality-Guide/">Quality Guide: Ensuring code quality</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Developer-Guide/">ROS 2 Developer Guide</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/ROS-2-On-boarding-Guide/">ROS 2 On-boarding Guide</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Inter-Sphinx-Support/">Using Sphinx for cross-referencing packages</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contact/">Contact us</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Features/">Features Status</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/">Installation</a>
  
  <a href="#_doc_ros2_Installation__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Installation__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Fedora-Development-Setup/">Building ROS 2 on Fedora Linux</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Linux-Development-Setup/">Building ROS 2 on Linux</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/OSX-Development-Setup/">Building ROS 2 on OS X</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Windows-Development-Setup/">Building ROS 2 on Windows</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Install-Connext-Security-Plugins/">Installing Connext security plugins</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Linux-Install-Binary/">Installing ROS 2 on Linux</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/OSX-Install-Binary/">Installing ROS 2 on OS X</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Windows-Install-Binary/">Installing ROS 2 on Windows</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Linux-Install-Debians/">Installing ROS2 via Debian Packages</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Maintaining-a-Source-Checkout/">Maintaining a Source Checkout of ROS 2</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/">ROS 2 Releases</a>
  
  <a href="#_doc_ros2_Releases__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Releases__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Beta1-Overview/">Beta 1 (codename ‘Asphalt’; December 2016)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Beta2-Overview/">Beta 2 (codename ‘r2b2’; July 2017)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Beta3-Overview/">Beta 3 (codename ‘r2b3’; September 2017)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Release-Howto/">How to Release</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Release-Ardent-Apalone/">ROS 2 Ardent Apalone (codename ‘ardent’; December 2017)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Release-Bouncy-Bolson/">ROS 2 Bouncy Bolson (codename ‘bouncy’; June 2018)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Release-Crystal-Clemmys/">ROS 2 Crystal Clemmys (codename ‘crystal’; December 2018)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Alpha-Overview/">ROS 2 alpha releases (Aug 2015 - Oct 2016)</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Related-Projects/">Related Projects</a>
  
  <a href="#_doc_ros2_Related-Projects__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Related-Projects__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Related-Projects/Intel-ROS2-Projects/">Intel ROS2 Projects</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Roadmap/">Roadmap</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/">Tutorials</a>
  
  <a href="#_doc_ros2_Tutorials__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Tutorials__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Building-ROS-2-on-Linux-with-Eclipse-Oxygen/">Building ROS2 on Linux with Eclipse Oxygen [community-contributed]</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/RQt-Source-Install/">Building RQt from Source</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/RQt-Source-Install-Windows10/">Building RQt from Source on Windows 10</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/RQt-Source-Install-MacOS/">Building RQt from Source on macOS</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Building-Realtime-rt_preempt-kernel-for-ROS-2/">Building Realtime Linux for ROS 2 [community-contributed]</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Composition/">Composing multiple nodes in a single process</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Defining-custom-interfaces-(msg-srv)/">Defining custom interfaces (msg/srv)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Eclipse-Oxygen-with-ROS-2-and-rviz2/">Eclipse Oxygen with ROS 2 and rviz2 [community-contributed]</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Intra-Process-Communication/">Efficient intra-process communication</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Allocator-Template-Tutorial/">Implement a custom memory allocator</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Rosidl-Tutorial/">Introduction to msg and srv interfaces</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Introspection-with-command-line-tools/">Introspection with command line tools</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Launch-system/">Launching/monitoring multiple nodes with Launch</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Logging-and-logger-configuration/">Logging and logger configuration demo</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Managed-Nodes/">Management of nodes with managed lifecycles</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/New-features-in-ROS-2-interfaces-(msg-srv)/">New features in ROS 2 interfaces</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/catment/">On the mixing of ament and catkin (catment)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Cross-compilation/">Overview</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/RQt-Overview-Usage/">Overview and Usage of RQt</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Node-arguments/">Passing ROS arguments to nodes via the command-line</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/RQt-Port-Plugin-Windows/">Porting RQt plugins to Windows</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Python-Programming/">Python Programming in ROS 2</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Real-Time-Programming/">Real-Time Programming in ROS 2</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Rosbag-with-ROS1-Bridge/">Recording and playback of topic data with rosbag using the ROS 1 bridge</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Releasing-a-ROS-2-package-with-bloom/">Releasing a ROS 2 package with bloom</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Run-2-nodes-in-two-separate-docker-containers/">Running 2 nodes in 2 separate docker containers [community-contributed]</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Run-2-nodes-in-a-single-docker-container/">Running 2 nodes in a single docker container [community-contributed]</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/dummy-robot-demo/">Trying the dummy robot demo</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Quality-of-Service/">Use quality-of-service settings to handle lossy networks</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Ament-Tutorial/">Using Ament</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Colcon-Tutorial/">Using Colcon to build packages</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/tf2/">Using tf2 with ROS 2</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Working-with-multiple-RMW-implementations/">Working with multiple ROS 2 middleware implementations</a>
  
</div>



  
  
</div>



  
  
</div>



</div>

<script type="text/javascript">
  $(function() {
    $('.list-group-toggle').on('click', function() {
      $(this).find('span').toggleClass(
        'glyphicon-chevron-up glyphicon-chevron-down'
      );
    });
  });
</script>

    </nav>
    <div class="col-md-8">
      <a type="button" href="https://github.com/ros2/ros2_documentation/edit/master/source/Contributing/Build-Cop-and-Build-Farmer-Guide.rst"
         class="btn btn-success pull-right"
         style="margin-top: 20px;">
        Edit on Github
      </a>
      <div class="section" id="build-cop-and-build-farmer-guide">
<h1>Build Cop and Build Farmer Guide<a class="headerlink" href="#build-cop-and-build-farmer-guide" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#on-boarding" id="id2">On-boarding</a></p></li>
<li><p><a class="reference internal" href="#retirement" id="id3">Retirement</a></p></li>
<li><p><a class="reference internal" href="#build-cop" id="id4">Build Cop</a></p>
<ul>
<li><p><a class="reference internal" href="#mission" id="id5">Mission</a></p></li>
<li><p><a class="reference internal" href="#build-cop-tasks" id="id6">Build Cop Tasks</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#build-farmer" id="id7">Build Farmer</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id8">Mission</a></p></li>
<li><p><a class="reference internal" href="#build-farmer-tasks" id="id9">Build Farmer Tasks</a></p></li>
<li><p><a class="reference internal" href="#resources" id="id10">Resources</a></p></li>
</ul>
</li>
</ul>
</div>
<p>This page covers two rotating developer roles we have on the ROS 2 team, the build cop and the build farmer.
These two roles are related, but subtly different.</p>
<p>The build cop is responsible for monitoring our <a class="reference external" href="http://ci.ros2.org/">Continuous Integration (CI) server</a> to make sure our <a class="reference external" href="http://ci.ros2.org/view/nightly/">“nightly” jobs</a> and <a class="reference external" href="http://ci.ros2.org/view/packaging/">“packaging” jobs</a> do not accumulate new regressions.
This allows us to build on relatively stable <a class="reference external" href="http://ci.ros2.org/">“ci” (or “manual”) jobs</a> when checking to see if a new feature or bug fix introduces any new regressions.</p>
<p>The build farmer, on the other hand, is responsible for ensuring that <a class="reference external" href="http://ci.ros2.org/computer/">the machines that run all of our CI jobs</a> are up, running, and up-to-date, so that they are available for other developers to check their pull requests.</p>
<p>These two jobs have so far been the same person for periods of about two weeks, but they are separated here so that they could be different people in the future and to make a distinction between the roles and responsibilities.</p>
<p>This document is meant mostly for ROS 2 team developers, but it might be useful for others too.</p>
<div class="section" id="on-boarding">
<h2><a class="toc-backref" href="#id2">On-boarding</a><a class="headerlink" href="#on-boarding" title="Permalink to this headline">¶</a></h2>
<p>If you are becoming the next build cop or build farmer you should:</p>
<ul class="simple">
<li><p>Make sure you are subscribed to and have the “deliver every email” option turned on for this mailing list:</p>
<ul>
<li><p><a class="reference external" href="https://groups.google.com/forum/#!forum/ros2-buildfarm">https://groups.google.com/forum/#!forum/ros2-buildfarm</a></p></li>
</ul>
</li>
<li><p>Make sure you are “watching” this GitHub repository:</p>
<ul>
<li><p><a class="reference external" href="https://github.com/ros2/build_cop">https://github.com/ros2/build_cop</a></p></li>
</ul>
</li>
<li><p>Talk with the previous build cop and/or build farmer about on-going issues</p></li>
<li><p>Update the description of the main view on Jenkins to the current date and your name:</p>
<ul>
<li><p><a class="reference external" href="http://ci.ros2.org/">http://ci.ros2.org/</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="retirement">
<h2><a class="toc-backref" href="#id3">Retirement</a><a class="headerlink" href="#retirement" title="Permalink to this headline">¶</a></h2>
<p>If you are finishing your stint as either build cop or build farmer you should:</p>
<ul class="simple">
<li><p>Unsubscribe or switch to “digest” for this mailing list:</p>
<ul>
<li><p><a class="reference external" href="https://groups.google.com/forum/#!forum/ros2-buildfarm">https://groups.google.com/forum/#!forum/ros2-buildfarm</a></p></li>
</ul>
</li>
<li><p>“Unwatch” this GitHub repository:</p>
<ul>
<li><p><a class="reference external" href="https://github.com/ros2/build_cop">https://github.com/ros2/build_cop</a></p></li>
</ul>
</li>
<li><p>Summarize the on-going issues for the next build cop or build farmer to which you are handing off</p></li>
</ul>
</div>
<div class="section" id="build-cop">
<h2><a class="toc-backref" href="#id4">Build Cop</a><a class="headerlink" href="#build-cop" title="Permalink to this headline">¶</a></h2>
<p>This section assumes that you have reviewed the <a class="reference internal" href="../ROS-2-On-boarding-Guide/"><span class="doc">ROS 2 on boarding document</span></a>.</p>
<div class="section" id="mission">
<h3><a class="toc-backref" href="#id5">Mission</a><a class="headerlink" href="#mission" title="Permalink to this headline">¶</a></h3>
<p>The goal of the build cop is to keep the jobs “green” (succeeding without test failures or warnings) on the buildfarm and to report any regression to the appropriate person.
This will reduce the overhead of several people looking at, or investigating, the same build failures.
This will also allow the other people on the team not to receive nightly email for the failing and/or unstable builds.</p>
</div>
<div class="section" id="build-cop-tasks">
<h3><a class="toc-backref" href="#id6">Build Cop Tasks</a><a class="headerlink" href="#build-cop-tasks" title="Permalink to this headline">¶</a></h3>
<p>Every morning the build cop should go through all the nightly jobs and packaging jobs and act on new failing or unstable jobs.
The “ci” jobs, which are started manually by developers, are not the responsibility of the build cop unless all “ci” are failing, which would indicate something was merged to the default branches which is broken.
How to classify and deal with new failures is described in the next section.</p>
<p>Additionally, the build cop should strive to keep track of existing issues which are either preexisting or cannot be resolved with a day or so.
Issues are tracked on this repository which only the build cop must be “watching” (getting GitHub notifications), though anyone interested can follow it too:</p>
<p><a class="reference external" href="https://github.com/ros2/build_cop/issues">https://github.com/ros2/build_cop/issues</a></p>
<p>The above repository is also used to track Build Farmer issues.
It is meant to be a way for the build cop or build farmer to track long running items for handing off to the next person and so they can “mention” individuals on particular issues without the whole team getting notified of every issue.</p>
<div class="section" id="types-of-failures">
<h4>Types of Failures<a class="headerlink" href="#types-of-failures" title="Permalink to this headline">¶</a></h4>
<p>Each failure can be categorized into one of a few classifications:</p>
<ul class="simple">
<li><p>Node failure:</p>
<ul>
<li><p>failures which appear to be due to a machine configuration and not a code change</p></li>
<li><p>pass it on to the build farmer</p></li>
</ul>
</li>
<li><p>Trivial failure:</p>
<ul>
<li><p>Linter failure</p></li>
<li><p>New warnings</p></li>
</ul>
</li>
<li><p>Critical failure:</p>
<ul>
<li><p>Breaking builds on the “default” branch</p></li>
<li><p>Regression (existing tests which were passing are now failing)</p></li>
<li><p>New tests that are failing (never were passing)</p></li>
</ul>
</li>
<li><p>Important failure:</p>
<ul>
<li><p>New feature which is not fully covered by tests</p></li>
<li><p>Increase flakiness (new flaky tests or made existing flaky tests more flaky)</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="new-failure-actions">
<h4>New Failure Actions<a class="headerlink" href="#new-failure-actions" title="Permalink to this headline">¶</a></h4>
<p>In each case different actions should be taken by the build cop:</p>
<ul class="simple">
<li><p>Trivial failure should be fixed by the Build Cop right away:</p>
<ul>
<li><p>Pushed on a branch</p></li>
<li><p>Tested on CI</p></li>
<li><p>Merged to the default branch</p></li>
<li><p>Add a comment to the PR introducing the failure referencing the fixing commit</p></li>
</ul>
</li>
<li><p>Critical failures:</p>
<ul>
<li><p>Failure should be reported on the PR introducing it by tagging the submitter and the reviewer that +1’d it.</p></li>
<li><p>Submitter of the PR has to act on it during the next half day by either:</p>
<ul>
<li><p>Reverting the change and ticketing the problem / comment on the PR the reason it’s been reverted</p></li>
<li><p>Submit a patch to fix the failure</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Important failures:</p>
<ul>
<li><p>Failure should be reported on the PR introducing it by tagging the submitter + the reviewer the +1’d it.</p></li>
<li><p>Submitter has to either:</p>
<ul>
<li><p>Address it the same week</p></li>
<li><p>Add it to the next sprint</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="tips">
<h4>Tips<a class="headerlink" href="#tips" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>You can search for PRs merged between two dates with, e.g.:</p>
<ul>
<li><p><a class="reference external" href="https://github.com/search?utf8=%E2%9C%93&amp;q=user%3Aament+user%3Aros2+merged%3A%222017-04-17T22%3A00%3A00-08%3A00+..+2017-04-18T23%3A30%3A00-08%3A00%22&amp;type=Issues">https://github.com/search?utf8=%E2%9C%93&amp;q=user%3Aament+user%3Aros2+merged%3A%222017-04-17T22%3A00%3A00-08%3A00+..+2017-04-18T23%3A30%3A00-08%3A00%22&amp;type=Issues</a></p></li>
<li><p>(note that FastRTPS and other external repos won’t appear)</p></li>
</ul>
</li>
<li><p>To get the exact list of code that changed, generate a diff between the output of <code class="docutils literal notranslate"><span class="pre">vcs</span> <span class="pre">export</span> <span class="pre">--exact</span></code> between two builds.</p>
<ul>
<li><p>This is particularly useful for external repos such as FastRTPS where old commits may get pushed to the master branch overnight, and are difficult to spot in the GitHub UI.</p></li>
</ul>
</li>
<li><p>Times displayed at the top of jenkins jobs are in UTC. You can convert the times with e.g.:</p>
<ul>
<li><p><a class="reference external" href="https://www.google.com/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=when+it's+9:25:12+PM+UTC+time+pst">https://www.google.com/webhp?sourceid=chrome-instant&amp;ion=1&amp;espv=2&amp;ie=UTF-8#q=when+it’s+9:25:12+PM+UTC+time+pst</a></p></li>
</ul>
</li>
<li><p>If linter failures occur overnight it is usually because of a new version of a linter.</p>
<ul>
<li><p>Create a diff of the last <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">freeze</span></code> output of two builds to see which versions changed.</p></li>
<li><p>If it’s a regression in a dependency you can pin the older version temporarily, see <a class="reference external" href="https://github.com/ros2/ci/pull/129">this PR for an example</a>.</p></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="build-farmer">
<h2><a class="toc-backref" href="#id7">Build Farmer</a><a class="headerlink" href="#build-farmer" title="Permalink to this headline">¶</a></h2>
<p>This section assumes that you have reviewed the <a class="reference internal" href="../ROS-2-On-boarding-Guide/"><span class="doc">ROS 2 on boarding document</span></a>.</p>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id8">Mission</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The mission of the build farmer is to keep the <a class="reference external" href="http://ci.ros2.org/">build farm</a> in a healthy, up-to-date state.
Ideally all Jenkins nodes will have the same/latest version of every package.
This will require monitoring and patching up any node when things come up.</p>
</div>
<div class="section" id="build-farmer-tasks">
<h3><a class="toc-backref" href="#id9">Build Farmer Tasks</a><a class="headerlink" href="#build-farmer-tasks" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Monitor the buildfarm (using the <a class="reference external" href="https://groups.google.com/forum/#!forum/ros2-buildfarm">https://groups.google.com/forum/#!forum/ros2-buildfarm</a> mailing list for email notifications)</p></li>
<li><p>Take failing nodes off-line with descriptive message about the issue and investigate the failure ASAP.</p>
<ul>
<li><p>Taking a node off-line:</p>
<ul>
<li><p>log in ci.ros2.org</p></li>
<li><p>click on the node in the left column of Jenkins UI (e.g. osx_slave_mini1)</p></li>
<li><p>click on “Mark this node temporary off-line” button (top right corner)</p></li>
</ul>
</li>
<li><p>Investigate the failure (see section below)</p></li>
</ul>
</li>
<li><p>Report error and fixing attempt using the <a class="reference external" href="https://docs.google.com/a/osrfoundation.org/forms/d/e/1FAIpQLSc40KMD8hb1-JMkUBRF6o17CAt1mtEQY8w4O8PN8rFq0hEkxQ/viewform">Build Farmer Reporting Form</a></p>
<ul>
<li><p>If the same problem and action is taken on multiple nodes, select all the relevant nodes in the form before submitting it</p></li>
</ul>
</li>
<li><p>If fixing attempt failed:</p>
<ul>
<li><p>Keep the node off-line on the farm</p></li>
<li><p>Update the reason for node being off-line</p></li>
<li><p>Put the status and error message in the status sheet of the <a class="reference external" href="https://docs.google.com/a/osrfoundation.org/spreadsheets/d/1_7pv1Kb2MDhk4jzpS1cjTVJ6wgdVIN3ZxaN-QdZ7XuM/edit?usp=sharing">logbook</a></p></li>
<li><p>Allocate time in the next few days to dive in the problem</p></li>
</ul>
</li>
<li><p>If you rescue a previously off-line node:</p>
<ul>
<li><p>Update the status sheet of the logbook by:</p>
<ul>
<li><p>Removing the error message in the status column</p></li>
<li><p>Update the date next to it</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Once investigation is finished, clean the machine: close all your windows, stash or remove any local changes</p>
<ul>
<li><p>Rationale</p>
<ul>
<li><p>Anybody logging into the machine need to know that no one is working on it</p></li>
<li><p>If the machine reboots the machine needs to be in an operational state without local changes</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Making sure install instructions are up to date</p></li>
<li><p>Use the existing logbook to put together an FAQ or best practice to rescue nodes</p></li>
</ul>
<div class="section" id="how-to-investigate-a-failing-node">
<h4>How to Investigate a Failing Node<a class="headerlink" href="#how-to-investigate-a-failing-node" title="Permalink to this headline">¶</a></h4>
<p>If the node failed to build, look at the console output of the failing build:</p>
<ul class="simple">
<li><p>Click on the link of the failing job received by email or go to ci.ros2.org and click on the number (e.g. #2345) next to the failing job(red icon).</p></li>
<li><p>Click on Console Output in the left column</p></li>
<li><p>Look for the reason of the failure</p></li>
<li><p>If the failure is not due to a machine configuration, relay to the build cop</p></li>
</ul>
<p>If you need to access a machine:</p>
<ul class="simple">
<li><p>See <a class="reference external" href="https://docs.google.com/a/osrfoundation.org/spreadsheets/d/1OSwqbE3qPF8v3HSMr8JOaJ6r4QOiQFk6pwgaudXVE-4/edit?usp=sharing">this spreadsheet (private) for credentials</a> for all the different Jenkins Nodes:</p></li>
<li><p>For machines hosted at OSRF, you’ll need to be on the OSRF network or have a VPN connection.</p></li>
<li><p>For machines which require ssh keys ask on <a class="reference external" href="mailto:ros&#37;&#52;&#48;osrfoundation&#46;org">ros<span>&#64;</span>osrfoundation<span>&#46;</span>org</a> for your public keys to be added.</p></li>
<li><p>The Packet.net nodes (with “packet” in the name):</p>
<ul>
<li><p>Can be managed by logging in at <a class="reference external" href="https://packet.net">https://packet.net</a> with <code class="docutils literal notranslate"><span class="pre">&lt;brian’s</span> <span class="pre">email</span> <span class="pre">address&gt;/&lt;the</span> <span class="pre">usual</span> <span class="pre">company</span> <span class="pre">password&gt;</span></code></p>
<ul>
<li><p>This will change after we set up a team account to manage servers.</p></li>
</ul>
</li>
<li><p>Can be accessed with Tully’s or Brian’s ssh key.</p>
<ul>
<li><p>This will change after we set up a team account to manage servers.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="troubleshooting">
<h4>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h4>
<p>If a node goes off-line:</p>
<ul class="simple">
<li><p>For machines with VNC, you should try that first because many failures can be due to pop-up windows or required updates</p></li>
<li><p>If you don’t have any pop-ups and relaunching the jenkins client doesn’t fix it, then you’ll have to start troubleshooting.</p></li>
<li><p>Looking at configuration difference between the nodes may be useful (java version, pip freeze, etc.)</p></li>
<li><p>For Linux nodes that have gone off-line (e.g. because of a reboot), they can be reconnected through the Jenkins web interface of that node</p></li>
</ul>
<p>Other tips:</p>
<hr class="docutils" />
<p>The environment variables on Windows machines are output at the beginning of Jenkins jobs (search for <code class="docutils literal notranslate"><span class="pre">==&gt;</span> <span class="pre">set</span></code>).
If you are modifying environment variables on Windows nodes, you may need to restart the machine before the changes are reflected in the jobs.
This is due to the Jenkins slave session caching the environment variables to some degree.</p>
<hr class="docutils" />
<p>On the Windows machines, the Jenkins slave program runs as a service as the System account.
For this user, the “home” directory seems to be <code class="docutils literal notranslate"><span class="pre">C:\Windows\system32\config\systemprofile</span></code>.
You can “become” the system user to debug stuff by downloading <code class="docutils literal notranslate"><span class="pre">pxexec</span></code>:</p>
<p><a class="reference external" href="https://technet.microsoft.com/en-us/sysinternals/pxexec">https://technet.microsoft.com/en-us/sysinternals/pxexec</a></p>
<p>Then you extract the zip, then open a command-prompt as administrator, and then run <code class="docutils literal notranslate"><span class="pre">psexec</span> <span class="pre">-i</span> <span class="pre">-s</span> <span class="pre">cmd.exe</span></code>.</p>
<p>This is all pieced together from a couple of pages here:</p>
<p><a class="reference external" href="http://blog.thomasvandoren.com/jenkins-windows-slave-with-git.html">http://blog.thomasvandoren.com/jenkins-windows-slave-with-git.html</a></p>
<p>and here:</p>
<p><a class="reference external" href="https://answers.atlassian.com/questions/128324/where-is-the-home-directory-for-the-system-user">https://answers.atlassian.com/questions/128324/where-is-the-home-directory-for-the-system-user</a></p>
<hr class="docutils" />
<p>Every so often the router reboots. The mac machines usually don’t reconnect to Jenkins properly. Just manually reconnect them.</p>
</div>
</div>
<div class="section" id="resources">
<h3><a class="toc-backref" href="#id10">Resources</a><a class="headerlink" href="#resources" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../CI-Server-Setup/">How to setup the Jenkins master</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Set-up-a-new-Linux-CI-node/">How to setup Linux Jenkins nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Set-up-a-new-macOS-CI-node/">How to setup a macOS Jenkins node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Set-up-a-new-Windows-CI-node/">How to setup a Windows Jenkins node</a></li>
</ul>
</div>
</div>
</div>
</div>

    </div>
  </div>
</div>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-4 col-md-4">
          
            <a href="https://github.com/ros-infrastructure" title="Find rosindex in Github">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>

            <span class="username">ros-infrastructure</span>
          </a>
          |
          <em>generated on 2019-05-23</em>
        
        </div>
        <div class="col-sm-8 col-md-8 text-right">
          <p class="text">a community-maintained index of robotics software
 | <a href="/privacy.txt">privacy</a></p>
        </div>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
