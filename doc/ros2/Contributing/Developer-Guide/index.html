<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS 2 Developer Guide</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="https://ros-infrastructure.github.io/index.ros.org//doc/ros2/Contributing/Developer-Guide/">
    
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/sphinx.css">
    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie-1.4.1/jquery.cookie.js type="text/javascript"></script>

    <script type="text/javascript" src=/js/ga.js async></script>
    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">

      <div align="center">
        <br>
        <table id="topnav-table">
          <tr>
            <td valign="middle">
                ROS Resources:
              <a href="http://wiki.ros.org/">Documentation</a>
              |
              <a href="http://wiki.ros.org/Support">Support</a>
              |
              <a href="http://discourse.ros.org/">Discussion Forum</a>
              |
              <a href="http://status.ros.org/">Service Status</a>
              |
              <a href="http://answers.ros.org/">Q&A answers.ros.org</a>
            </td>
          </tr>
        </table> <!-- topnav-table -->
      </div>

      <div class="row">

        <div class="col-sm-12 col-md-9" style="margin-top: 8px">
          <div class="row">
            <!-- title -->
            <div class="col-xs-12 col-sm-3 col-md-3" style="white-space:nowrap;">
              <a class="site-title" href="/">ROS Index</a> <sup><a href="https://github.com/ros-infrastructure/rosindex/issues/new" style="vertical-align:super;" class="label label-warning" target="_blank">BETA</a></sup>
            </div>

            <!-- main links -->
            <div class="col-xs-12 col-sm-9 col-md-9 text-right">
              <ul class="list-inline" style="margin-bottom:0px;">
                <li><a class="btn btn-link" href="/about">About</a></li>

                <li class="dropdown">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Index <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li><a href="/packages/page/1/time/">Package List</a></li>
                    <li><a href="/repos/page/1/time/">Repository List</a></li>

                    <li class="hidden" class="divider"></li>


                    <li class="hidden"><a href="/srvs/">Nodes</a></li>
                    <li class="hidden"><a href="/msgs/">Messages</a></li>
                    <li class="hidden"><a href="/srvs/">Services</a></li>
                    <li class="hidden"><a href="/srvs/">Plugins</a></li>

                    <li class="divider"></li>

                    <li><a href="/deps/">System Dependencies</a></li>
                  </ul>
                </li>

                <li class="dropdown disabled">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Doc <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    
                    <li>
                      <a href="/doc/ros2">
                        ROS2 Overview
                      </a>
                    </li>
                    
                    <li class="hidden" class="divider"></li>

                    <li class="hidden"><a href="/doc/tutorials">Tutorials</a></li>
                    <li class="hidden"><a href="/doc/readmes">Readmes</a></li>
                    <li class="hidden"><a href="/doc/apis">APIs</a></li>
                  </ul>
                </li>

                <li><a class="btn btn-link" href="/contribute">Contribute</a></li>
                <li><a class="btn btn-link" href="/stats">Stats</a></li>
              </ul>

            </div>
          </div>
        </div>

        <!-- searchbox -->
        <div class="col-sm-12 col-md-3" style="margin-top: 12px">
          <form id="top-searchbox" action="/search/" role="form" method="get">
            <div class="input-group input-group-sm">
              <input type="text" class="form-control" name="term" placeholder="Search ROS">
              <span class="input-group-btn">
                <button class="btn btn-default btn-sm" title="Search ROS" type="submit">
                  <span class="glyphicon glyphicon-search"></span>
                </button>
                <a href="https://lunrjs.com/guides/searching.html"
                   title="Help to Search" class="btn btn-default btn-sm">
                  <span class="glyphicon glyphicon-question-sign"></span>
                </a>
              </span>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!--
    <a class="site-title" href="/">ROS Index</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="/packages">Packages</a>
        <a class="page-link" href="/repos">Repositories</a>
        <a class="page-link" href="/search">Search</a>
      </div>
    </nav>
    -->

  </div>
  <script type="text/javascript">
    $('#top-searchbox').submit(function() {
        return $('#top-searchbox input:text').filter(function() {
          return $(this).val() == "";
        }).length == 0;
    });
  </script>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="row">
    <ol class="breadcrumb">
      <li><a href="/">Home</a></li>
      
      <li>
        <a href="/doc/ros2/">
          ROS2 Overview
        </a>
      </li>
      
      <li>
        <a href="/doc/ros2/Contributing/">
          Contributing to ROS 2
        </a>
      </li>
      
      <li class="active">ROS 2 Developer Guide</li>
    </ol>
  </div>
  <div class="row">
    <nav class="col-md-4 well">
      <h3 style="margin-top: 10px;">Index</h3>
      
      
      <div class="list-group list-group-root">
  



<div class="list-group-item">
  <a href="/doc/ros2/">ROS2 Overview</a>
  
  <a href="#_doc_ros2__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-up"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2__children" class="list-group collapse in">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/About/">About this documentation</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/">ROS 2 Concepts</a>
  
  <a href="#_doc_ros2_Concepts__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Concepts__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/About-Quality-of-Service-Settings/">About Quality of Service Settings</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/About-ROS-Interfaces/">About ROS 2 Interfaces</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/ROS-2-Client-Libraries/">About ROS2 client libraries</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/Logging/">Logging and logger configuration</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/Overview-of-ROS-2-concepts/">Overview of ROS 2 Concepts</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/DDS-and-ROS-middleware-implementations/">ROS 2 and different DDS/RTPS vendors</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/">Contributing to ROS 2</a>
  
  <a href="#_doc_ros2_Contributing__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-up"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Contributing__children" class="list-group collapse in">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Build-Cop-and-Build-Farmer-Guide/">Build Cop and Build Farmer Guide</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Design-Guide/">Design Guide: Common patterns in ROS 2</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Examples-and-Tools-for-ROS1----ROS2-Migrations/">Examples and tools for ROS1-to-ROS2 Migration</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Set-up-a-new-Linux-CI-node/">How to setup Linux Jenkins nodes</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Set-up-a-new-Windows-CI-node/">How to setup a Windows Jenkins node</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Set-up-a-new-macOS-CI-node/">How to setup a macOS Jenkins node</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/CI-Server-Setup/">How to setup the Jenkins master</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/MISRA-Compliance-Guide/">MISRA Compliance Guide</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Migration-Guide/">Migration guide from ROS 1</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Migration-Guide-Python/">Python Migration guide from ROS 1</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Quality-Guide/">Quality Guide: Ensuring code quality</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Developer-Guide/">ROS 2 Developer Guide</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/ROS-2-On-boarding-Guide/">ROS 2 On-boarding Guide</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Inter-Sphinx-Support/">Using Sphinx for cross-referencing packages</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contact/">Contact us</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Features/">Features Status</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/">Installation</a>
  
  <a href="#_doc_ros2_Installation__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Installation__children" class="list-group collapse">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/">Installing ROS 2 Crystal and earlier</a>
  
  <a href="#_doc_ros2_Installation_Crystal__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Installation_Crystal__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Fedora-Development-Setup/">Building ROS 2 on Fedora Linux</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Linux-Development-Setup/">Building ROS 2 on Linux</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/OSX-Development-Setup/">Building ROS 2 on OS X</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Windows-Development-Setup/">Building ROS 2 on Windows</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Install-Connext-Security-Plugins/">Installing Connext security plugins</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Linux-Install-Binary/">Installing ROS 2 on Linux</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/OSX-Install-Binary/">Installing ROS 2 on OS X</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Windows-Install-Binary/">Installing ROS 2 on Windows</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Linux-Install-Debians/">Installing ROS2 via Debian Packages</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Maintaining-a-Source-Checkout/">Maintaining a Source Checkout of ROS 2</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/">Installing ROS 2 Dashing Diademata</a>
  
  <a href="#_doc_ros2_Installation_Dashing__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Installation_Dashing__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Fedora-Development-Setup/">Building ROS 2 on Fedora Linux</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Linux-Development-Setup/">Building ROS 2 on Linux</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/OSX-Development-Setup/">Building ROS 2 on OS X</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Windows-Development-Setup/">Building ROS 2 on Windows</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Install-Connext-Security-Plugins/">Installing Connext security plugins</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Linux-Install-Binary/">Installing ROS 2 on Linux</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/OSX-Install-Binary/">Installing ROS 2 on OS X</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Windows-Install-Binary/">Installing ROS 2 on Windows</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Linux-Install-Debians/">Installing ROS2 via Debian Packages</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Maintaining-a-Source-Checkout/">Maintaining a Source Checkout of ROS 2</a>
  
</div>



  
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/">ROS 2 Distributions</a>
  
  <a href="#_doc_ros2_Releases__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Releases__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Beta1-Overview/">Beta 1 (codename ‘Asphalt’; December 2016)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Beta2-Overview/">Beta 2 (codename ‘r2b2’; July 2017)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Beta3-Overview/">Beta 3 (codename ‘r2b3’; September 2017)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Release-Howto/">How to Release</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Release-Ardent-Apalone/">ROS 2 Ardent Apalone (codename ‘ardent’; December 2017)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Release-Bouncy-Bolson/">ROS 2 Bouncy Bolson (codename ‘bouncy’; June 2018)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Release-Crystal-Clemmys/">ROS 2 Crystal Clemmys (codename ‘crystal’; December 2018)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Release-Dashing-Diademata/">ROS 2 Dashing Diademata (codename ‘dashing’; May 31st, 2019)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Alpha-Overview/">ROS 2 alpha releases (Aug 2015 - Oct 2016)</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Related-Projects/">Related Projects</a>
  
  <a href="#_doc_ros2_Related-Projects__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Related-Projects__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Related-Projects/Intel-ROS2-Projects/">Intel ROS2 Projects</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Roadmap/">Roadmap</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/">Tutorials</a>
  
  <a href="#_doc_ros2_Tutorials__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Tutorials__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Actions/">Actions</a>
  
  <a href="#_doc_ros2_Tutorials_Actions__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Tutorials_Actions__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Actions/Creating-an-Action/">Creating an Action</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Actions/Writing-an-Action-Client-CPP/">Writing an Action Client (C++)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Actions/Writing-an-Action-Client-Python/">Writing an Action Client (Python)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Actions/Writing-an-Action-Server-CPP/">Writing an Action Server (C++)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Actions/Writing-an-Action-Server-Python/">Writing an Action Server (Python)</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Building-ROS-2-on-Linux-with-Eclipse-Oxygen/">Building ROS2 on Linux with Eclipse Oxygen [community-contributed]</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/RQt-Source-Install/">Building RQt from Source</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/RQt-Source-Install-Windows10/">Building RQt from Source on Windows 10</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/RQt-Source-Install-MacOS/">Building RQt from Source on macOS</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Building-Realtime-rt_preempt-kernel-for-ROS-2/">Building Realtime Linux for ROS 2 [community-contributed]</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Composition/">Composing multiple nodes in a single process</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Cross-compilation/">Cross-Compilation</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Defining-custom-interfaces-(msg-srv)/">Defining custom interfaces (msg/srv)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Eclipse-Oxygen-with-ROS-2-and-rviz2/">Eclipse Oxygen with ROS 2 and rviz2 [community-contributed]</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Intra-Process-Communication/">Efficient intra-process communication</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Allocator-Template-Tutorial/">Implement a custom memory allocator</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Rosidl-Tutorial/">Introduction to msg and srv interfaces</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Introspection-with-command-line-tools/">Introspection with command line tools</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Launch-system/">Launching/monitoring multiple nodes with Launch</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Logging-and-logger-configuration/">Logging and logger configuration demo</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Managed-Nodes/">Management of nodes with managed lifecycles</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/New-features-in-ROS-2-interfaces-(msg-srv)/">New features in ROS 2 interfaces</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/catment/">On the mixing of ament and catkin (catment)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/RQt-Overview-Usage/">Overview and Usage of RQt</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Node-arguments/">Passing ROS arguments to nodes via the command-line</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/RQt-Port-Plugin-Windows/">Porting RQt plugins to Windows</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Python-Programming/">Python Programming in ROS 2</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Real-Time-Programming/">Real-Time Programming in ROS 2</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Rosbag-with-ROS1-Bridge/">Recording and playback of topic data with rosbag using the ROS 1 bridge</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Releasing-a-ROS-2-package-with-bloom/">Releasing a ROS 2 package with bloom</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Run-2-nodes-in-two-separate-docker-containers/">Running 2 nodes in 2 separate docker containers [community-contributed]</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Run-2-nodes-in-a-single-docker-container/">Running 2 nodes in a single docker container [community-contributed]</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/dummy-robot-demo/">Trying the dummy robot demo</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Quality-of-Service/">Use quality-of-service settings to handle lossy networks</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Ament-Tutorial/">Using Ament</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Colcon-Tutorial/">Using Colcon to build packages</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/tf2/">Using tf2 with ROS 2</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Working-with-multiple-RMW-implementations/">Working with multiple ROS 2 middleware implementations</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Ament-CMake-Documentation/">ament_cmake User Documentation</a>
  
</div>



  
  
</div>



  
  
</div>



</div>

<script type="text/javascript">
  $(function() {
    $('.list-group-toggle').on('click', function() {
      $(this).find('span').toggleClass(
        'glyphicon-chevron-up glyphicon-chevron-down'
      );
    });
  });
</script>

    </nav>
    <div class="col-md-8">
      <a type="button" href="https://github.com/ros2/ros2_documentation/edit/master/source/Contributing/Developer-Guide.rst"
         class="btn btn-success pull-right"
         style="margin-top: 20px;">
        Edit on Github
      </a>
      <div class="section" id="ros-2-developer-guide">
<h1>ROS 2 Developer Guide<a class="headerlink" href="#ros-2-developer-guide" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#general-principles" id="id10">General Principles</a></p></li>
<li><p><a class="reference internal" href="#general-practices" id="id11">General Practices</a></p>
<ul>
<li><p><a class="reference internal" href="#issues" id="id12">Issues</a></p></li>
<li><p><a class="reference internal" href="#pull-requests" id="id13">Pull requests</a></p></li>
<li><p><a class="reference internal" href="#development-process" id="id14">Development Process</a></p></li>
<li><p><a class="reference internal" href="#changes-to-rmw-api" id="id15">Changes to RMW API</a></p></li>
<li><p><a class="reference internal" href="#kanban-board-waffle-io" id="id16">kanban board (waffle.io)</a></p></li>
<li><p><a class="reference internal" href="#programming-conventions" id="id17">Programming conventions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#software-development-lifecycle" id="id18">Software Development Lifecycle</a></p>
<ul>
<li><p><a class="reference internal" href="#task-creation" id="id19">Task creation</a></p></li>
<li><p><a class="reference internal" href="#writing-the-design-document" id="id20">Writing the design document</a></p></li>
<li><p><a class="reference internal" href="#design-document-review" id="id21">Design document review</a></p></li>
<li><p><a class="reference internal" href="#implementation" id="id22">Implementation</a></p></li>
<li><p><a class="reference internal" href="#code-review" id="id23">Code Review</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#language-versions-and-code-format" id="id24">Language Versions and Code Format</a></p>
<ul>
<li><p><a class="reference internal" href="#c" id="id25">C</a></p></li>
<li><p><a class="reference internal" href="#id1" id="id26">C++</a></p></li>
<li><p><a class="reference internal" href="#python" id="id27">Python</a></p></li>
<li><p><a class="reference internal" href="#cmake" id="id28">CMake</a></p></li>
<li><p><a class="reference internal" href="#markdown-restructured-text-docblocks" id="id29">Markdown / reStructured Text / docblocks</a></p></li>
<li><p><a class="reference internal" href="#javascript" id="id30">Javascript</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#testing" id="id31">Testing</a></p>
<ul>
<li><p><a class="reference internal" href="#test-coverage" id="id32">Test Coverage</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#versioning" id="id33">Versioning</a></p></li>
<li><p><a class="reference internal" href="#filesystem-layout" id="id34">Filesystem Layout</a></p>
<ul>
<li><p><a class="reference internal" href="#package-layout" id="id35">Package layout</a></p></li>
<li><p><a class="reference internal" href="#repository-layout" id="id36">Repository layout</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#documentation" id="id37">Documentation</a></p></li>
<li><p><a class="reference internal" href="#package-categories" id="id38">Package Categories</a></p>
<ul>
<li><p><a class="reference internal" href="#level-1" id="id39">(Level 1)</a></p></li>
<li><p><a class="reference internal" href="#level-2" id="id40">(Level 2)</a></p></li>
<li><p><a class="reference internal" href="#level-3" id="id41">(Level 3)</a></p></li>
<li><p><a class="reference internal" href="#level-4" id="id42">(Level 4)</a></p></li>
</ul>
</li>
</ul>
</div>
<p>This page defines the practices and policies we employ when developing ROS 2.</p>
<div class="section" id="general-principles">
<h2><a class="toc-backref" href="#id10">General Principles</a><a class="headerlink" href="#general-principles" title="Permalink to this headline">¶</a></h2>
<p>Some principles are common to all ROS 2 development:</p>
<ul class="simple">
<li><p><strong>Shared ownership</strong>: Everybody working on ROS2 should feel ownership over all parts of the system.
The original author of a chunk of code does not have any special permission or obligation to control or maintain that chunk of code.
Everyone is free to propose changes anywhere, to handle any type of ticket, and to review any pull request.</p></li>
<li><p><strong>Be willing to work on anything</strong>: As a corollary to shared ownership, everybody should be willing to take on any available task and contribute to any aspect of the system.</p></li>
<li><p><strong>Ask for help</strong>: If you run into trouble on something, ask your fellow developers for help, via tickets, comments, or email, as appropriate.</p></li>
</ul>
</div>
<div class="section" id="general-practices">
<h2><a class="toc-backref" href="#id11">General Practices</a><a class="headerlink" href="#general-practices" title="Permalink to this headline">¶</a></h2>
<p>Some practices are common to all ROS 2 development:</p>
<div class="section" id="issues">
<h3><a class="toc-backref" href="#id12">Issues</a><a class="headerlink" href="#issues" title="Permalink to this headline">¶</a></h3>
<p>When filing an issue please make sure to:</p>
<ul class="simple">
<li><p>Include enough information for another person to understand the issue.
In ROS 2, the following points are needed for narrowing down the cause of an issue. Testing with as many alternatives in each category as feasible will be especially helpful.
- <strong>The operating system and version.</strong> Reasoning: ROS 2 supports multiple platforms, and some bugs are specific to particular versions of operating systems/compilers.
- <strong>The installation method.</strong> Reasoning: Some issues only manifest if ROS 2 has been installed from “fat archives” or from Debians. This can help us determine if the issue is with the packaging process.
- <strong>The specific version of ROS 2.</strong> Reasoning: Some bugs may be present in a particular ROS 2 release and later fixed. It is important to know if your installation includes these fixes.
- <strong>The DDS/RMW implementation being used</strong> (see <a class="reference internal" href="../../Tutorials/Working-with-multiple-RMW-implementations/"><span class="doc">this page</span></a> for how to determine which one). Reasoning: Communication issues may be specific to the underlying ROS middleware being used.
- <strong>The ROS 2 client library being used.</strong> Reasoning: This helps us narrow down the layer in the stack at which the issue might be.</p></li>
<li><p>Include a list of steps to reproduce the issue.</p></li>
<li><p>In case of a bug consider to provide a <a class="reference external" href="http://sscce.org/">short, self contained, correct (compilable), example</a>. Issues are much more likely to be resolved if others can reproduce them easily.</p></li>
<li><p>Mention troubleshooting steps that have been tried already, including:
- Upgrading to the latest version of the code, which may include bug fixes that have not been released yet. See <a class="reference internal" href="../../Installation/Crystal/#building-from-source"><span class="std std-ref">this section</span></a> and follow the instructions to get the “master” branches.
- Trying with a different RMW implementation. See <a class="reference internal" href="../../Tutorials/Working-with-multiple-RMW-implementations/"><span class="doc">this page</span></a> for how to do that.</p></li>
</ul>
</div>
<div class="section" id="pull-requests">
<h3><a class="toc-backref" href="#id13">Pull requests</a><a class="headerlink" href="#pull-requests" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>A pull request should only focus on one change.
Separate changes should go into separate pull requests.
See <a class="reference external" href="https://github.com/blog/1943-how-to-write-the-perfect-pull-request">GitHub’s guide to writing the perfect pull request</a>.</p>
<ul>
<li><p>For some ROS 2 repositories the <a class="reference external" href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a> is enforced on pull requests.
It requires all commit messages to contain the <code class="docutils literal notranslate"><span class="pre">Signed-off-by</span></code> line with an email address that matches the commit author.
You can pass <code class="docutils literal notranslate"><span class="pre">-s</span></code> / <code class="docutils literal notranslate"><span class="pre">--signoff</span></code> to the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> invocation or write the expected message manually (e.g. <code class="docutils literal notranslate"><span class="pre">Signed-off-by:</span> <span class="pre">Your</span> <span class="pre">Name</span> <span class="pre">Developer</span> <span class="pre">&lt;your.name&#64;example.com&gt;</span></code>).</p></li>
</ul>
</li>
<li><p>A patch should be minimal in size and avoid any kind of unnecessary changes.</p></li>
<li><p>Always run CI jobs for all platforms for every pull request and include links to jobs in the pull request.
(If you don’t have access to the Jenkins job someone will trigger the jobs for you.)</p></li>
<li><p>A pull request must contain minimum number of meaningful commits.</p>
<ul>
<li><p>You can create new commits while the pull request is under review.</p></li>
</ul>
</li>
<li><p>Before merging a pull request all changes should be squashed into a small number of semantic commits to keep the history clear.</p>
<ul>
<li><p>But avoid squashing commits while a pull request is under review.
Your reviewers might not notice that you made the change, thereby introducing potential for confusion.
Plus, you’re going to squash before merging anyway; there’s no benefit to doing it early.</p></li>
</ul>
</li>
<li><p>A minimum of 1 <code class="docutils literal notranslate"><span class="pre">+1</span></code> from a fellow developer is required to consider a pull request to be approved, which is required before merging.</p></li>
<li><p>Any developer is welcome to review and approve a pull request (see <a class="reference internal" href="#general-principles">General Principles</a>).</p></li>
<li><p>When you start reviewing a pull request, comment on the pull request so that other developers know that you’re reviewing it.</p></li>
<li><p>Pull-request review is not read-only, with the reviewer making comments and then waiting for the author to address them.
As a reviewer, feel free to make minor improvements (typos, style issues, etc.) in-place.
As the opener of a pull-request, if you are working in a fork, checking the box to <a class="reference external" href="https://github.com/blog/2247-improving-collaboration-with-forks">allow edits from upstream contributors</a> will assist with the aforementioned.
As a reviewer, also feel free to make more substantial improvements, but consider putting them in a separate branch (either mention the new branch in a comment, or open another pull request from the new branch to the original branch).</p></li>
<li><p>Any developer (the author, the reviewer, or somebody else) can merge any approved pull request.</p></li>
</ul>
</div>
<div class="section" id="development-process">
<h3><a class="toc-backref" href="#id14">Development Process</a><a class="headerlink" href="#development-process" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The default branch (in most cases the master branch) must always build, pass all tests and compile without warnings.
If at any time there is a regression it is the top priority to restore at least the previous state.</p></li>
<li><p>Always build with tests enabled.</p></li>
<li><p>Always run tests locally after changes and before proposing them in a pull request.
Besides using automated tests, also run the modified code path manually to ensure that the patch works as intended.</p></li>
<li><p>Always run CI jobs for all platforms for every pull request and include links to the jobs in the pull request.</p></li>
</ul>
<p>For more details on recommended software development workflow, see <a class="reference internal" href="#software-development-lifecycle">Software Development Lifecycle</a> section.</p>
</div>
<div class="section" id="changes-to-rmw-api">
<h3><a class="toc-backref" href="#id15">Changes to RMW API</a><a class="headerlink" href="#changes-to-rmw-api" title="Permalink to this headline">¶</a></h3>
<p>When updating <a class="reference external" href="https://github.com/ros2/rmw">RMW API</a>, it is required that RMW implementations for the Tier 1 middleware libraries are updated as well.
For example, a new function <code class="docutils literal notranslate"><span class="pre">rmw_foo()</span></code> introduced to the RMW API must be implemented in the following packages (as of ROS Crystal):</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ros2/rmw_fastrtps/tree/master/rmw_fastrtps_cpp">rmw_fastrtps</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/rmw_connext">rmw_connext</a></p></li>
</ul>
<p>Updates for non-Tier 1 middleware libraries should also be considered if feasible (e.g. depending on the size of the change).
See <a class="reference external" href="http://www.ros.org/reps/rep-2000.html#crystal-clemmys-december-2018-december-2019">REP-2000</a> for the list of middleware libraries and their tiers.</p>
</div>
<div class="section" id="kanban-board-waffle-io">
<h3><a class="toc-backref" href="#id16">kanban board (waffle.io)</a><a class="headerlink" href="#kanban-board-waffle-io" title="Permalink to this headline">¶</a></h3>
<p>To help organize the work, the core ROS 2 development team is using a kanban system hosted at waffle.io: <a class="reference external" href="https://waffle.io/ros2/ros2">ROS 2 kanban</a>.
This board augments the capabilities of GitHub by using labels to give a custom view into issues and pull requests across multiple repositories.
The data produced and edited via waffle.io are stored in the underlying GitHub objects, so there’s no requirement to use waffle.io (or for the core team to be tied to it); it just provides a useful perspective on things.</p>
<p>Here’s how we’re using the columns in the board:</p>
<ul class="simple">
<li><p><strong>Backlog</strong>: cards (issues) that nobody is yet working on.
Their order in the backlog is an approximate indicator of priority, with cards higher in the column having higher priority.</p></li>
<li><p><strong>Ready</strong>: cards on which work will be started very soon.
Cards in this column should have an owner assigned.
Cards should not sit in this column for more than a few days.</p></li>
<li><p><strong>In Progress</strong>: cards on which work is currently in progress.
Cards in this column must have an owner assigned.
Cards should not sit in this column for more than a week.
When it is determined that a card will take longer, break it up into multiple cards and put the extras in the backlog.</p></li>
<li><p><strong>In Review</strong>: cards for which the work is done and the relevant pull request/s is/are ready for review.
Cards remain in this column during review, but if review uncovers significant extra work to be done, move the card into an earlier column as appropriate.</p></li>
<li><p><strong>Done</strong>: cards for which the work is done, meaning that the relevant pull request/s has/have been merged.
This column shows recently completed cards, for informational purposes only.</p></li>
</ul>
<p>Tips for working with the kanban board:</p>
<ul class="simple">
<li><p>Requesting permission to make changes. Simply comment on specific tickets that you want to work on it. Depending on the complexity it might be useful to describe how you want to address it. We will update the status (if you don’t have the permission) and you can start working on a pull request. If you contribute regularly we will likely just grant you permission to manage the labels etc. yourself.</p></li>
<li><p>Using markup to connect issues and pull requests (see the <a class="reference external" href="https://github.com/waffleio/waffle.io/wiki/FAQs#prs-connect-keywords">waffle.io FAQ</a>).</p></li>
<li><p>Doing equivalent things outside waffle.io, directly via GitHub. The column a card is in is determined by the label. The first and last column do not require a specific label. For the other column a label with the same name can be assigned.</p></li>
</ul>
</div>
<div class="section" id="programming-conventions">
<h3><a class="toc-backref" href="#id17">Programming conventions</a><a class="headerlink" href="#programming-conventions" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Defensive programming: ensure that assumptions are held as early as possible.
E.g. check every return code and make sure to at least throw an exception until the case is handled more gracefully.</p></li>
<li><p>All error messages must be directed to <code class="docutils literal notranslate"><span class="pre">stderr</span></code>.</p></li>
<li><p>Declare variables in the narrowest scope possible.</p></li>
<li><p>Keep group of items (dependencies, imports, includes, etc.) ordered alphabetically.</p></li>
</ul>
<div class="section" id="c-specific">
<h4>C++ specific<a class="headerlink" href="#c-specific" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>Avoid using direct streaming (<code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code>) to <code class="docutils literal notranslate"><span class="pre">stdout</span></code> / <code class="docutils literal notranslate"><span class="pre">stderr</span></code> to prevent interleaving between multiple threads.</p></li>
<li><p>Avoid using references for <code class="docutils literal notranslate"><span class="pre">std::shared_ptr</span></code> since that subverts the reference counting. If the original instance goes out of scope and the reference is being used it accesses freed memory.</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="software-development-lifecycle">
<h2><a class="toc-backref" href="#id18">Software Development Lifecycle</a><a class="headerlink" href="#software-development-lifecycle" title="Permalink to this headline">¶</a></h2>
<p>This section describes step-by-step how to plan, design, and implement a new feature:</p>
<ol class="arabic simple">
<li><p>Task Creation</p></li>
<li><p>Creating the Design Document</p></li>
<li><p>Design Review</p></li>
<li><p>Implementation</p></li>
<li><p>Code Review</p></li>
</ol>
<div class="section" id="task-creation">
<h3><a class="toc-backref" href="#id19">Task creation</a><a class="headerlink" href="#task-creation" title="Permalink to this headline">¶</a></h3>
<p>Tasks requiring changes to critical parts of ROS 2 should have design reviews during early stages of the release cycle.
If a design review is happening in the later stages, the changes will be part of a future release.</p>
<ul class="simple">
<li><p>An issue should be created in the appropriate <a class="reference external" href="https://github.com/ros2/">ros2 repository</a>, clearly describing the task being worked on.</p>
<ul>
<li><p>It should have a clear success criteria and highlight the concrete improvements expected from it.</p></li>
<li><p>If the feature is targeting a ROS release, ensure this is tracked in the ROS release ticket (<a class="reference external" href="https://github.com/ros2/ros2/issues/607">example</a>).</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="writing-the-design-document">
<h3><a class="toc-backref" href="#id20">Writing the design document</a><a class="headerlink" href="#writing-the-design-document" title="Permalink to this headline">¶</a></h3>
<p>Design docs must never include confidential information.
Whether or not a design document is required for your change depends on how big the task is.</p>
<ol class="arabic simple">
<li><p>You are making a small change or fixing a bug:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>A design document is not required, but an issue should be opened in the appropriate repository to track the work and avoid duplication of efforts.</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>You are implementing a new feature or would like to contribute to OSRF-owned infrastructure (like Jenkins CI):</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Design doc is required and should be contributed to <a class="reference external" href="https://github.com/ros2/design/">ros2/design</a> to be made accessible on <a class="reference external" href="http://design.ros2.org/">http://design.ros2.org/</a>.</p></li>
<li><p>You should fork the repository and submit a pull request detailing the design.</p></li>
</ul>
<p>Mention the related ros2 issue (for example, <code class="docutils literal notranslate"><span class="pre">Design</span> <span class="pre">doc</span> <span class="pre">for</span> <span class="pre">task</span> <span class="pre">ros2/ros2#&lt;issue</span> <span class="pre">id&gt;</span></code>) in the pull request or the commit message.
Detailed instructions are on the <a class="reference external" href="http://design.ros2.org/contribute.html">ROS2 Contribute</a> page.
Design comments will made directly on the pull request.</p>
</div></blockquote>
<p>If the task is planned to be released with a specific version of ROS, this information should be included in the pull request.</p>
</div>
<div class="section" id="design-document-review">
<h3><a class="toc-backref" href="#id21">Design document review</a><a class="headerlink" href="#design-document-review" title="Permalink to this headline">¶</a></h3>
<p>Once the design is ready for review, a pull request should be opened and appropriate reviewers should be assigned.
It is recommended to include project owner(s) -
maintainers of all impacted packages (as defined by <code class="docutils literal notranslate"><span class="pre">package.xml</span></code> maintainer field, see <a class="reference external" href="http://www.ros.org/reps/rep-0140.html#maintainer-multiple-but-at-least-one">REP-140</a>) - as reviewers.</p>
<ul>
<li><p>If the design doc is complex or reviewers have conflicting schedules, an optional design review meeting can be setup. In this case,</p>
<p><strong>Before the meeting</strong></p>
<ul class="simple">
<li><p>Send a meeting invite at least one week in advance</p></li>
<li><p>Meeting duration of one hour is recommended</p></li>
<li><p>Meeting invite should list all decisions to be made during the review (decisions requiring package maintainer approval)</p></li>
<li><dl class="simple">
<dt>Meeting required attendees: design pull request reviewers</dt><dd><p>Meeting optional attendees: all OSRF engineers, if applicable</p>
</dd>
</dl>
</li>
</ul>
<p><strong>During the meeting</strong></p>
<ul class="simple">
<li><p>The task owner drives the meeting, presents their ideas and manages discussions to ensure an agreement is reached on time</p></li>
</ul>
<p><strong>After the meeting</strong></p>
<ul class="simple">
<li><p>The task owner should send back meeting notes to all attendees</p></li>
<li><p>If minor issues have been raised about the design:</p>
<ul>
<li><p>The task owner should update the design doc pull request based on the feedback</p></li>
<li><p>Additional review is not required</p></li>
</ul>
</li>
<li><p>If major issues have been raised about the design:</p>
<ul>
<li><p>It is acceptable to remove sections for which there is no clear agreement</p></li>
<li><p>The debatable parts of the design can be resubmitted as a separate task in the future</p></li>
<li><p>If removing the debatable parts is not an option, work directly with package owners to reach an agreement</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Once consensus is reached:</p>
<ul class="simple">
<li><p>Ensure the <a class="reference external" href="https://github.com/ros2/design/">ros2/design</a> pull request has been merged, if applicable</p></li>
<li><p>Update and close the github issue associated with this design task</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="implementation">
<h3><a class="toc-backref" href="#id22">Implementation</a><a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h3>
<p>Before starting, go through the <a class="reference internal" href="#pull-requests">Pull requests</a> section for best practices.</p>
<ul class="simple">
<li><p>For each repo to be modified:</p>
<ul>
<li><p>Modify the code, go to the next step if finished or at regular interval to backup your work.</p></li>
<li><p><a class="reference external" href="https://git-scm.com/book/en/v2/Git-Tools-Interactive-Staging">Self review</a> your changes using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">-i</span></code>.</p></li>
<li><p>Create a new signed commit using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-s</span></code>.</p>
<ul>
<li><p>A pull request should contain minimal semantically meaningful commits (for instance, a large number of 1-line commits is not acceptable).
Create new fixup commits while iterating on feedback, or optionally, amend existing commits using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--amend</span></code> if you don’t want to create a new commit every time.</p></li>
<li><p>Each commit must have a properly written, meaningful, commit message.
More instructions <a class="reference external" href="https://chris.beams.io/posts/git-commit/">here</a>.</p></li>
<li><p>Moving files must be done in a separate commit, otherwise git may fail to accurately track the file history.</p></li>
<li><p>Either the pull request description or the commit message must contain a reference to the related ros2 issue, so it gets automatically closed when the pull request is merged.
See this <a class="reference external" href="https://help.github.com/articles/closing-issues-using-keywords/">doc</a> for more details.</p></li>
<li><p>Push the new commits.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="code-review">
<h3><a class="toc-backref" href="#id23">Code Review</a><a class="headerlink" href="#code-review" title="Permalink to this headline">¶</a></h3>
<p>Once the change is ready for code review:</p>
<ul class="simple">
<li><p>Open a pull request for each modified repository.</p>
<ul>
<li><p>Remember to follow <a class="reference internal" href="#pull-requests">Pull requests</a> best practices.</p></li>
<li><p><a class="reference external" href="https://hub.github.com/">hub</a> can be used to create pull requests from the command line.</p></li>
<li><p>If the task is planned to be released with a specific version of ROS, this information should be included in each pull request.</p></li>
</ul>
</li>
<li><p>Package owners who reviewed the design document should be mentioned in the pull request.</p></li>
<li><p>Code review SLO: although reviewing pull requests is best-effort,
it is helpful to have reviewers comment on pull requests within a week and
code authors to reply back to comments within a week, so there is no loss of context.</p></li>
<li><p>Iterate on feedback as usual, amend and update the development branch as needed.</p></li>
<li><p>Once the PR is approved, package maintainers will merge the changes in.</p></li>
</ul>
</div>
</div>
<div class="section" id="language-versions-and-code-format">
<h2><a class="toc-backref" href="#id24">Language Versions and Code Format</a><a class="headerlink" href="#language-versions-and-code-format" title="Permalink to this headline">¶</a></h2>
<p>In order to achieve a consistent looking product we will all follow externally (if possible) defined style guidelines for each language.
For other things like package layout or documentation layout we will need to come up with our own guidelines, drawing on current, popular styles in use now.</p>
<p>Additionally, where ever possible, developers should use integrated tools to allow them to check that these guidelines are followed in their editors.
For example, everyone should have a PEP8 checker built into their editor to cut down on review iterations related to style.</p>
<p>Also where possible, packages should check style as part of their unit tests to help with the automated detection of style issues (see <a class="reference external" href="https://github.com/ament/ament_lint/blob/master/ament_lint_auto/doc/index.rst">ament_lint_auto</a>).</p>
<div class="section" id="c">
<h3><a class="toc-backref" href="#id25">C</a><a class="headerlink" href="#c" title="Permalink to this headline">¶</a></h3>
<div class="section" id="standard">
<h4>Standard<a class="headerlink" href="#standard" title="Permalink to this headline">¶</a></h4>
<p>We will target C99.</p>
</div>
<div class="section" id="style">
<h4>Style<a class="headerlink" href="#style" title="Permalink to this headline">¶</a></h4>
<p>We will use <a class="reference external" href="https://www.python.org/dev/peps/pep-0007/">Python’s PEP7</a> for our C style guide, with some modifications and additions:</p>
<ul class="simple">
<li><p>We will target C99, as we do not need to support C89 (as PEP7 recommends)</p>
<ul>
<li><p>rationale: among other things it allows us to use both <code class="docutils literal notranslate"><span class="pre">//</span></code> and <code class="docutils literal notranslate"><span class="pre">/*</span> <span class="pre">*/</span></code> style comments</p></li>
<li><p>rationale: C99 is pretty much ubiquitous now</p></li>
</ul>
</li>
<li><p>C++ style <code class="docutils literal notranslate"><span class="pre">//</span></code> comments are allowed</p></li>
<li><p>Always place literals on the left hand side of comparison operators, e.g. <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">==</span> <span class="pre">ret</span></code> instead of <code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">==</span> <span class="pre">0</span></code></p>
<ul>
<li><p>rationale: <code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">==</span> <span class="pre">0</span></code> too easily turns into <code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">0</span></code> by accident</p></li>
</ul>
</li>
</ul>
<p>All of the following modifications only apply if we are not writing Python modules:</p>
<ul class="simple">
<li><p>Do not use <code class="docutils literal notranslate"><span class="pre">Py_</span></code> as a prefix for everything</p>
<ul>
<li><p>instead use a CamelCase version of the package name or other appropriate prefix</p></li>
</ul>
</li>
<li><p>The stuff about documentation strings doesn’t apply</p></li>
</ul>
<p>We can use the <a class="reference external" href="https://github.com/mike-perdide/pep7">pep7</a> python module for style checking. The editor integration seems slim, we may need to look into automated checking for C in more detail.</p>
</div>
</div>
<div class="section" id="id1">
<h3><a class="toc-backref" href="#id26">C++</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id2">
<h4>Standard<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>We will target C++14, using new built-in C++14 features over Boost equivalents where ever possible.</p>
</div>
<div class="section" id="id3">
<h4>Style<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>We will use the <a class="reference external" href="https://google.github.io/styleguide/cppguide.html">Google C++ Style Guide</a>, with some modifications:</p>
<div class="section" id="line-length">
<h5>Line Length<a class="headerlink" href="#line-length" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>Our maximum line length is 100 characters.</p></li>
</ul>
</div>
<div class="section" id="variable-naming">
<h5>Variable Naming<a class="headerlink" href="#variable-naming" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>For global variables use lowercase with underscores prefixed with <code class="docutils literal notranslate"><span class="pre">g_</span></code></p>
<ul>
<li><p>rationale: keep variable naming case consistent across the project</p></li>
<li><p>rationale: easy to tell the scope of a variable at a glance</p></li>
<li><p>consistency across languages</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="function-and-method-naming">
<h5>Function and Method Naming<a class="headerlink" href="#function-and-method-naming" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>Google style guide says <code class="docutils literal notranslate"><span class="pre">CamelCase</span></code>, but the C++ std library’s style of <code class="docutils literal notranslate"><span class="pre">snake_case</span></code> is also allowed</p>
<ul>
<li><p>rationale: ROS 2 core packages currently use <code class="docutils literal notranslate"><span class="pre">snake_case</span></code></p>
<ul>
<li><p>reason: either an historical oversight or a personal preference that didn’t get checked by the linter</p></li>
<li><p>reason for not changing: retroactively changing would be too disruptive</p></li>
</ul>
</li>
<li><p>other considerations:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">cpplint.py</span></code> does not check this case (hard to enforce other than with review)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">snake_case</span></code> can result in more consistency across languages</p></li>
</ul>
</li>
<li><p>specific guidance:</p>
<ul>
<li><p>for existing projects, prefer the existing style</p></li>
<li><p>for new projects, either is acceptable, but a preference for matching related existing projects is advised</p></li>
<li><p>final decision is always developer discretion</p>
<ul>
<li><p>special cases like function pointers, callable types, etc. may require bending the rules</p></li>
</ul>
</li>
<li><p>Note that classes should still use <code class="docutils literal notranslate"><span class="pre">CamelCase</span></code> by default</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="access-control">
<h5>Access Control<a class="headerlink" href="#access-control" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>Drop requirement for all class members to be private and therefore require accessors</p>
<ul>
<li><p>rationale: this is overly constraining for user API design</p></li>
<li><p>we should prefer private members, only making them public when they are needed</p></li>
<li><p>we should consider using accessors before choosing to allow direct member access</p></li>
<li><p>we should have a good reason for allowing direct member access, other than because it is convenient for us</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="exceptions">
<h5>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>Exceptions are allowed</p>
<ul>
<li><p>rationale: this is a new code base, so the legacy argument doesn’t apply to us</p></li>
<li><p>rationale: for user facing API’s it is more idiomatic C++ to have exceptions</p></li>
<li><p>Exceptions in destructors should be explicitly avoided</p></li>
</ul>
</li>
<li><p>We should consider avoiding Exceptions if we intend to wrap the resulting API in C</p>
<ul>
<li><p>rationale: it will make it easier to wrap in C</p></li>
<li><p>rationale: most of our dependencies in code we intend to wrap in C do not use exceptions anyways</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="function-like-objects">
<h5>Function-like Objects<a class="headerlink" href="#function-like-objects" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>No restrictions on Lambda’s or <code class="docutils literal notranslate"><span class="pre">std::function</span></code> or <code class="docutils literal notranslate"><span class="pre">std::bind</span></code></p></li>
</ul>
</div>
<div class="section" id="boost">
<h5>Boost<a class="headerlink" href="#boost" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>Boost should be avoided until absolutely required</p></li>
</ul>
</div>
<div class="section" id="comments-and-doc-comments">
<h5>Comments and Doc Comments<a class="headerlink" href="#comments-and-doc-comments" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">///</span></code> and <code class="docutils literal notranslate"><span class="pre">/**</span> <span class="pre">*/</span></code> comments for <em>documentation</em> purposes and <code class="docutils literal notranslate"><span class="pre">//</span></code> style comments for notes and general comments</p>
<ul>
<li><p>Class and Function comments should use <code class="docutils literal notranslate"><span class="pre">///</span></code> and <code class="docutils literal notranslate"><span class="pre">/**</span> <span class="pre">*/</span></code> style comments</p></li>
<li><p>rationale: these are recommended for Doxygen and Sphinx in C/C++</p></li>
<li><p>rationale: mixing <code class="docutils literal notranslate"><span class="pre">/*</span> <span class="pre">*/</span></code> and <code class="docutils literal notranslate"><span class="pre">//</span></code> is convenient for block commenting out code which contains comments</p></li>
<li><p>Descriptions of how the code works or notes within classes and functions should use <code class="docutils literal notranslate"><span class="pre">//</span></code> style comments</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="pointer-syntax-alignment">
<h5>Pointer Syntax Alignment<a class="headerlink" href="#pointer-syntax-alignment" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">char</span> <span class="pre">*</span> <span class="pre">c;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">char*</span> <span class="pre">c;</span></code> or <code class="docutils literal notranslate"><span class="pre">char</span> <span class="pre">*c;</span></code> because of this scenario <code class="docutils literal notranslate"><span class="pre">char*</span> <span class="pre">c,</span> <span class="pre">*d,</span> <span class="pre">*e;</span></code></p></li>
</ul>
</div>
<div class="section" id="class-privacy-keywords">
<h5>Class Privacy Keywords<a class="headerlink" href="#class-privacy-keywords" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>Do not put 1 space before <code class="docutils literal notranslate"><span class="pre">public:</span></code>, <code class="docutils literal notranslate"><span class="pre">private:</span></code>, or <code class="docutils literal notranslate"><span class="pre">protected:</span></code>, it is more consistent for all indentions to be a multiple of 2</p>
<ul>
<li><p>rationale: most editors don’t like indentions which are not a multiple of the (soft) tab size</p></li>
<li><p>Use zero spaces before <code class="docutils literal notranslate"><span class="pre">public:</span></code>, <code class="docutils literal notranslate"><span class="pre">private:</span></code>, or <code class="docutils literal notranslate"><span class="pre">protected:</span></code>, or 2 spaces</p></li>
<li><p>If you use 2 spaces before, indent other class statements by 2 additional spaces</p></li>
<li><p>Prefer zero spaces, i.e. <code class="docutils literal notranslate"><span class="pre">public:</span></code>, <code class="docutils literal notranslate"><span class="pre">private:</span></code>, or <code class="docutils literal notranslate"><span class="pre">protected:</span></code> in the same column as the class</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="nested-templates">
<h5>Nested Templates<a class="headerlink" href="#nested-templates" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>Never add whitespace to nested templates</p>
<ul>
<li><p>Prefer <code class="docutils literal notranslate"><span class="pre">set&lt;list&lt;string&gt;&gt;</span></code> (C++11 feature) to <code class="docutils literal notranslate"><span class="pre">set&lt;list&lt;string&gt;</span> <span class="pre">&gt;</span></code> or <code class="docutils literal notranslate"><span class="pre">set&lt;</span> <span class="pre">list&lt;string&gt;</span> <span class="pre">&gt;</span></code></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="always-use-braces">
<h5>Always Use Braces<a class="headerlink" href="#always-use-braces" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>Always use braces following <code class="docutils literal notranslate"><span class="pre">if</span></code>, <code class="docutils literal notranslate"><span class="pre">else</span></code>, <code class="docutils literal notranslate"><span class="pre">do</span></code>, <code class="docutils literal notranslate"><span class="pre">while</span></code>, and <code class="docutils literal notranslate"><span class="pre">for</span></code>, even when the body is a single line.</p>
<ul>
<li><p>rationale: less opportunity for visual ambiguity and for complications due to use of macros in the body</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="open-versus-cuddled-braces">
<h5>Open Versus Cuddled Braces<a class="headerlink" href="#open-versus-cuddled-braces" title="Permalink to this headline">¶</a></h5>
<ul class="simple">
<li><p>Use open braces for <code class="docutils literal notranslate"><span class="pre">function</span></code>, <code class="docutils literal notranslate"><span class="pre">class</span></code>, and <code class="docutils literal notranslate"><span class="pre">struct</span></code> definitions, but cuddle braces on <code class="docutils literal notranslate"><span class="pre">if</span></code>, <code class="docutils literal notranslate"><span class="pre">else</span></code>, <code class="docutils literal notranslate"><span class="pre">while</span></code>, <code class="docutils literal notranslate"><span class="pre">for</span></code>, etc…</p>
<ul>
<li><p>Exception: when an <code class="docutils literal notranslate"><span class="pre">if</span></code> (or <code class="docutils literal notranslate"><span class="pre">while</span></code>, etc.) condition is long enough to require line-wrapping, then use an open brace (i.e., don’t cuddle).</p></li>
</ul>
</li>
<li><p>When a function call cannot fit on one line, wrap at the open parenthesis (not in between arguments) and start them on the next line with a 2-space indent.  Continue with the 2-space indent on subsequent lines for more arguments.  (Note that the <a class="reference external" href="https://google.github.io/styleguide/cppguide.html#Function_Calls">Google style guide</a> is internally contradictory on this point.)</p>
<ul>
<li><p>Same goes for <code class="docutils literal notranslate"><span class="pre">if</span></code> (and <code class="docutils literal notranslate"><span class="pre">while</span></code>, etc.) conditions that are too long to fit on one line.</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="examples">
<h5>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h5>
<p>This is OK:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">condition</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="k">this</span> <span class="o">&amp;&amp;</span> <span class="n">that</span> <span class="o">||</span> <span class="n">both</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">...</span>
<span class="p">}</span>

<span class="c1">// Long condition; open brace</span>
<span class="k">if</span> <span class="p">(</span>
  <span class="k">this</span> <span class="o">&amp;&amp;</span> <span class="n">that</span> <span class="o">||</span> <span class="n">both</span> <span class="o">&amp;&amp;</span> <span class="k">this</span> <span class="o">&amp;&amp;</span> <span class="n">that</span> <span class="o">||</span> <span class="n">both</span> <span class="o">&amp;&amp;</span> <span class="k">this</span> <span class="o">&amp;&amp;</span> <span class="n">that</span> <span class="o">||</span> <span class="n">both</span> <span class="o">&amp;&amp;</span> <span class="k">this</span> <span class="o">&amp;&amp;</span> <span class="n">that</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">...</span>
<span class="p">}</span>

<span class="c1">// Short function call</span>
<span class="n">call_func</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">);</span>

<span class="c1">// Long function call; wrap at the open parenthesis</span>
<span class="n">call_func</span><span class="p">(</span>
  <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span>
  <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">);</span>

<span class="c1">// Very long function argument; separate it for readability</span>
<span class="n">call_func</span><span class="p">(</span>
  <span class="n">bang</span><span class="p">,</span>
  <span class="n">fooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooo</span><span class="p">,</span>
  <span class="n">bar</span><span class="p">,</span> <span class="n">bat</span><span class="p">);</span>
</pre></div>
</div>
<p>This is <strong>not</strong> OK:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="k">this</span> <span class="o">&amp;&amp;</span>
    <span class="n">that</span> <span class="o">||</span>
    <span class="n">both</span><span class="p">)</span> <span class="p">{</span>
  <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Use open braces rather than excessive indention, e.g. for distinguishing constructor code from constructor initializer lists</p>
<p>This is OK:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">ReturnType</span> <span class="n">LongClassName</span><span class="o">::</span><span class="n">ReallyReallyReallyLongFunctionName</span><span class="p">(</span>
  <span class="n">Type</span> <span class="n">par_name1</span><span class="p">,</span>  <span class="c1">// 2 space indent</span>
  <span class="n">Type</span> <span class="n">par_name2</span><span class="p">,</span>
  <span class="n">Type</span> <span class="n">par_name3</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">DoSomething</span><span class="p">();</span>  <span class="c1">// 2 space indent</span>
  <span class="p">...</span>
<span class="p">}</span>

<span class="n">MyClass</span><span class="o">::</span><span class="n">MyClass</span><span class="p">(</span><span class="kt">int</span> <span class="n">var</span><span class="p">)</span>
<span class="o">:</span> <span class="n">some_var_</span><span class="p">(</span><span class="n">var</span><span class="p">),</span>
  <span class="n">some_other_var_</span><span class="p">(</span><span class="n">var</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">{</span>
  <span class="p">...</span>
  <span class="n">DoSomething</span><span class="p">();</span>
  <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This is <strong>not</strong> OK, even weird (the google way?):</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">ReturnType</span> <span class="n">LongClassName</span><span class="o">::</span><span class="n">ReallyReallyReallyLongFunctionName</span><span class="p">(</span>
    <span class="n">Type</span> <span class="n">par_name1</span><span class="p">,</span>  <span class="c1">// 4 space indent</span>
    <span class="n">Type</span> <span class="n">par_name2</span><span class="p">,</span>
    <span class="n">Type</span> <span class="n">par_name3</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">DoSomething</span><span class="p">();</span>  <span class="c1">// 2 space indent</span>
  <span class="p">...</span>
<span class="p">}</span>

<span class="n">MyClass</span><span class="o">::</span><span class="n">MyClass</span><span class="p">(</span><span class="kt">int</span> <span class="n">var</span><span class="p">)</span>
    <span class="o">:</span> <span class="n">some_var_</span><span class="p">(</span><span class="n">var</span><span class="p">),</span>             <span class="c1">// 4 space indent</span>
      <span class="n">some_other_var_</span><span class="p">(</span><span class="n">var</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// lined up</span>
  <span class="p">...</span>
  <span class="n">DoSomething</span><span class="p">();</span>
  <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="linters">
<h5>Linters<a class="headerlink" href="#linters" title="Permalink to this headline">¶</a></h5>
<p>Most of these styles and restrictions can be checked with a combination of Google’s <a class="reference external" href="http://google-styleguide.googlecode.com/svn/trunk/cpplint/">cpplint.py</a> and <a class="reference external" href="https://github.com/uncrustify/uncrustify">uncrustify</a>, though we may need to modify them slightly for our above changes.</p>
<p>We provide command line tools with custom configurations:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ament/ament_lint/blob/master/ament_cpplint/doc/index.rst">ament_cpplint</a></p></li>
<li><p><a class="reference external" href="https://github.com/ament/ament_lint/blob/master/ament_uncrustify/doc/index.rst">ament_uncrustify</a>: <a class="reference external" href="https://github.com/ament/ament_lint/blob/master/ament_uncrustify/ament_uncrustify/configuration/ament_code_style.cfg">configuration</a></p></li>
</ul>
<p>We also run other tools to detect and eliminate as many warnings as possible.
Here’s a non-exhaustive list of additional things we try to do on all of our packages:</p>
<ul class="simple">
<li><p>use compiler flags like <code class="docutils literal notranslate"><span class="pre">-Wall</span> <span class="pre">-Wextra</span> <span class="pre">-Wpedantic</span></code></p></li>
<li><p>run static code analysis like <code class="docutils literal notranslate"><span class="pre">cppcheck</span></code>, which we have integrated in <a class="reference external" href="https://github.com/ament/ament_lint/blob/master/ament_cppcheck/doc/index.rst">ament_cppcheck</a>.</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="python">
<h3><a class="toc-backref" href="#id27">Python</a><a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h3>
<div class="section" id="version">
<h4>Version<a class="headerlink" href="#version" title="Permalink to this headline">¶</a></h4>
<p>We will target Python 3 for our development.</p>
</div>
<div class="section" id="id4">
<h4>Style<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>We will use the <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP8 guidelines</a> for code format.</p>
<p>We chose the following more precise rule where PEP 8 leaves some freedom:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0008/#maximum-line-length">We allow up to 100 character per line (fifth paragraph)</a>.</p></li>
<li><p><a class="reference external" href="https://www.python.org/dev/peps/pep-0008/#string-quotes">We pick single quotes over double quotes as long as no escaping is necessary</a>.</p></li>
</ul>
<p>Tools like the <code class="docutils literal notranslate"><span class="pre">(ament_)pep8</span></code> Python package should be used in unit-test and/or editor integration for checking Python code style.</p>
<p>The pep8 configuration used in the linter is <a class="reference external" href="https://github.com/ament/ament_lint/blob/master/ament_pep8/ament_pep8/configuration/ament_pep8.ini">here</a>.</p>
<p>Integration with editors:</p>
<ul class="simple">
<li><p>atom: <a class="reference external" href="https://atom.io/packages/linter-pep8">https://atom.io/packages/linter-pep8</a></p></li>
<li><p>emacs: <a class="reference external" href="http://kwbeam.com/emacs-for-python-i.html">http://kwbeam.com/emacs-for-python-i.html</a></p></li>
<li><p>Sublime Text: <a class="reference external" href="https://sublime.wbond.net/packages/SublimeLinter-flake8">https://sublime.wbond.net/packages/SublimeLinter-flake8</a></p></li>
<li><p>vim: <a class="reference external" href="https://github.com/nvie/vim-flake8">https://github.com/nvie/vim-flake8</a></p></li>
</ul>
</div>
</div>
<div class="section" id="cmake">
<h3><a class="toc-backref" href="#id28">CMake</a><a class="headerlink" href="#cmake" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id5">
<h4>Version<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<p>We will target CMake 3.5.</p>
</div>
<div class="section" id="id6">
<h4>Style<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<p>Since there is not an existing CMake style guide we will define our own:</p>
<ul class="simple">
<li><p>Use lowercase keywords (functions and macros).</p></li>
<li><p>Use empty <code class="docutils literal notranslate"><span class="pre">else()</span></code> and <code class="docutils literal notranslate"><span class="pre">end...()</span></code> commands.</p></li>
<li><p>No whitespace before <code class="docutils literal notranslate"><span class="pre">(</span></code>‘s.</p></li>
<li><p>Use two spaces of indention, do not use tabs.</p></li>
<li><p>Do not use aligned indentation for parameters of multi-line macro invocations. Use two spaces only.</p></li>
<li><p>Prefer functions with <code class="docutils literal notranslate"><span class="pre">set(PARENT_SCOPE)</span></code> to macros.</p></li>
<li><p>When using macros prefix local variables with <code class="docutils literal notranslate"><span class="pre">_</span></code> or a reasonable prefix.</p></li>
</ul>
</div>
</div>
<div class="section" id="markdown-restructured-text-docblocks">
<h3><a class="toc-backref" href="#id29">Markdown / reStructured Text / docblocks</a><a class="headerlink" href="#markdown-restructured-text-docblocks" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id7">
<h4>Style<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p>The following rules to format text is intended to increase readability as well as versioning.</p>
<ul class="simple">
<li><p><em>[.md, .rst only]</em> Each section title should be preceded by one empty line and succeeded by one empty line.</p>
<ul>
<li><p>Rationale: It expedites to get an overview about the structure when screening the document.</p></li>
</ul>
</li>
<li><p><em>[.rst only]</em> In reStructured Text the headings should follow the hierarchy described in the <a class="reference external" href="https://documentation-style-guide-sphinx.readthedocs.io/en/latest/style-guide.html#headings">Sphinx style guide</a>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">#</span></code> with overline (only once, used for the document title)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*</span></code> with overline</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">=</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">^</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;</span></code></p></li>
<li><p>Rationale: A consistent hierarchy expedites getting an idea about the nesting level when screening the document.</p></li>
</ul>
</li>
<li><p><em>[.md only]</em> In Markdown the headings should follow the atx-style described in the <a class="reference external" href="https://daringfireball.net/projects/markdown/syntax#header">Markdown syntax documentation</a></p>
<ul>
<li><p>Atx-style headers use 1-6 hash characters (<code class="docutils literal notranslate"><span class="pre">#</span></code>) at the start of the line to denote header levels 1-6.</p></li>
<li><p>A space between the hashes and the header title should be used (such as <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">Heading</span> <span class="pre">1</span></code>) to make it easier to visually separate them.</p></li>
<li><p>Justification for the ATX-style preference comes from the <a class="reference external" href="https://github.com/google/styleguide/blob/gh-pages/docguide/style.md#atx-style-headings">Google Markdown style guide</a></p></li>
<li><p>Rationale: Atx-style headers are easier to search and maintain, and make the first two header levels consistent with the other levels.</p></li>
</ul>
</li>
<li><p><em>[any]</em> Each sentence must start on a new line.</p>
<ul>
<li><p>Rationale: For longer paragraphs a single change in the beginning makes the diff unreadable since it carries forward through the whole paragraph.</p></li>
</ul>
</li>
<li><p><em>[any]</em> Each sentence can optionally be wrapped to keep each line short.</p></li>
<li><p><em>[any]</em> The lines should not have any trailing white spaces.</p></li>
<li><p><em>[.md, .rst only]</em> A code block must be preceded and succeeded by an empty line.</p>
<ul>
<li><p>Rationale: Whitespace is significant only directly before and directly after fenced code blocks.
Following these instructions will ensure that highlighting works properly and consistently.</p></li>
</ul>
</li>
<li><p><em>[.md, .rst only]</em> A code block should specify a syntax (e.g. <code class="docutils literal notranslate"><span class="pre">bash</span></code>).</p></li>
</ul>
</div>
</div>
<div class="section" id="javascript">
<h3><a class="toc-backref" href="#id30">Javascript</a><a class="headerlink" href="#javascript" title="Permalink to this headline">¶</a></h3>
<p><em>(Speculative, not yet used)</em></p>
<div class="section" id="id8">
<h4>Version<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>We will target Javascript 1.5, which seems to provide the best balance of support in browsers and languages (node.js) and new features.</p>
</div>
<div class="section" id="id9">
<h4>Style<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<p>We will use the <a class="reference external" href="https://github.com/airbnb/javascript">airbnb Javascript Style guide</a>.</p>
<p>The repository referred to above comes with a <code class="docutils literal notranslate"><span class="pre">jshintrc</span></code> file which allows the style to be enforced using <code class="docutils literal notranslate"><span class="pre">jshint</span></code>.</p>
<p>Editor integration for <code class="docutils literal notranslate"><span class="pre">jshint</span></code> include <code class="docutils literal notranslate"><span class="pre">vim</span></code>, <code class="docutils literal notranslate"><span class="pre">emacs</span></code>, <code class="docutils literal notranslate"><span class="pre">Sublime</span> <span class="pre">Text</span></code>, and others can be found <a class="reference external" href="http://www.jshint.com/install/">here</a>.</p>
</div>
</div>
</div>
<div class="section" id="testing">
<h2><a class="toc-backref" href="#id31">Testing</a><a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>All packages should have some level of tests.
Tests can be broken down into three main categories: System tests, Integration tests, and Unit tests.</p>
<p>Unit tests should always be in the package which is being tested and should make use of tools like <code class="docutils literal notranslate"><span class="pre">Mock</span></code> to try and test narrow parts of the code base in constructed scenarios.
Unit tests should not bring in test dependencies that are not testing tools, e.g. gtest, nosetest, pytest, mock, etc…</p>
<p>Integration tests can test interactions between parts of the code or between parts of the code and the system.
They often test software interfaces in ways that we expect the user to use them.
Like Unit tests, Integration tests should be in the package which is being tested and should not bring in non-tool test dependencies unless absolutely necessary, i.e. all non-tool dependencies should only be allowed under extreme scrutiny so they should be avoided if possible.</p>
<p>System tests are designed to test end-to-end situations between packages and should be in their own packages to avoid bloating or coupling packages and to avoid circular dependencies.</p>
<p>In general minimizing external or cross package test dependencies should be avoided to prevent circular dependencies and tightly coupled test packages.</p>
<p>All packages should have some unit tests and possibly integration tests, but the degree to which they should have them is based on the package’s category (described later).</p>
<div class="section" id="test-coverage">
<h3><a class="toc-backref" href="#id32">Test Coverage</a><a class="headerlink" href="#test-coverage" title="Permalink to this headline">¶</a></h3>
<p>Some packages should have a mechanism setup to capture test coverage information (if applicable to the language).
Coverage tools exist for some of the languages described here including C, C++, and Python, but possibly others.
When possible coverage should be measured in terms of branch coverage, as opposed to statement or function coverage.</p>
</div>
</div>
<div class="section" id="versioning">
<h2><a class="toc-backref" href="#id33">Versioning</a><a class="headerlink" href="#versioning" title="Permalink to this headline">¶</a></h2>
<p><em>(Planned; not yet used)</em></p>
<p>We will use the <a class="reference external" href="http://semver.org/">Semantic Versioning guidelines</a> for versioning.</p>
<p>Anything below version <code class="docutils literal notranslate"><span class="pre">1.0.0</span></code> is free to make changes at will and for most of our near-term development this will be the case.
In general though for versions less than <code class="docutils literal notranslate"><span class="pre">1.0.0</span></code> we should increment the <code class="docutils literal notranslate"><span class="pre">minor</span></code> (as <code class="docutils literal notranslate"><span class="pre">major.minor.patch</span></code>) when we break existing API and increment <code class="docutils literal notranslate"><span class="pre">patch</span></code> for anything else.</p>
<p>Another part of adhering to the Semantic Versioning guidelines is that every package must declare a public API.
The declaration for most C and C++ packages is simple, it is any header that it installs, but it is acceptable to define a set of symbols which are considered private.
When ever possible having private symbols in public headers should be avoided.
For other languages like Python, a public API must be explicitly defined, so that it is clear what symbols can be relied on with respect to the versioning guidelines.
The public API can also be extended to build artifacts like configuration variables, CMake config files, etc. as well as executables and command line options and output.
Any elements of the public API should be clearly stated in the package’s documentation.
If something you are using is not explicitly listed as part of the public API in the package’s documentation, then you cannot depend on it not changing between minor or patch versions.</p>
<p>With respect to library versioning, we will version all libraries within a package together.
This means that libraries inherit their version from the package.
This keeps library and package versions from diverging and shares reasoning with the policy of releasing packages which share a repository together.
If you need libraries to have different versions then consider splitting them into different packages.</p>
</div>
<div class="section" id="filesystem-layout">
<h2><a class="toc-backref" href="#id34">Filesystem Layout</a><a class="headerlink" href="#filesystem-layout" title="Permalink to this headline">¶</a></h2>
<p>The filesystem layout of packages and repositories should follow the same conventions in order to provide a consistent experience for users browsing our source code.</p>
<div class="section" id="package-layout">
<h3><a class="toc-backref" href="#id35">Package layout</a><a class="headerlink" href="#package-layout" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code>: contains all C and C++ code</p>
<ul>
<li><p>Also contains C/C++ headers which are not installed</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">include</span></code>: contains all C and C++ headers which are installed</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;package</span> <span class="pre">name&gt;</span></code>: for all C and C++ installed headers they should be folder namespaced by the package name</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;package_name&gt;</span></code>: contains all Python code</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">test</span></code>: contains all automated tests and test data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">doc</span></code>: contains all the documentation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package.xml</span></code>: as defined by <a class="reference external" href="http://www.ros.org/reps/rep-0140.html">REP-0140</a> (may be updated for prototyping)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code>: only ROS packages which use CMake</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setup.py</span></code>: only ROS packages which use Python code only</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">README</span></code>: README which can be rendered on Github as a landing page for the project</p>
<ul>
<li><p>This can be as short or detailed as is convenient, but it should at least link to project documentation</p></li>
<li><p>Consider putting a CI or code coverage tag in this readme</p></li>
<li><p>It can also be <code class="docutils literal notranslate"><span class="pre">.rst</span></code> or anything else that Github supports</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">LICENSE</span></code>: A copy of the license or licenses for this package</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CHANGELOG.rst</span></code>: <a class="reference external" href="http://www.ros.org/reps/rep-0132.html">REP-0132</a> compliant changelog</p></li>
</ul>
</div>
<div class="section" id="repository-layout">
<h3><a class="toc-backref" href="#id36">Repository layout</a><a class="headerlink" href="#repository-layout" title="Permalink to this headline">¶</a></h3>
<p>Each package should be in a subfolder which has the same name as the package.
If a repository contains only a single package it can optionally be in the root of the repository.</p>
<p>The root of the repository should have a <code class="docutils literal notranslate"><span class="pre">CONTRIBUTING</span></code> file describing the contribution guidelines.
This might include license implication when using e.g. the Apache 2 License.</p>
</div>
</div>
<div class="section" id="documentation">
<h2><a class="toc-backref" href="#id37">Documentation</a><a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p><em>(API docs are not yet being automatically generated)</em></p>
<p>All packages should have these documentation elements:</p>
<ul class="simple">
<li><p>Description and purpose</p></li>
<li><p>Definition and description of the public API</p></li>
<li><p>Examples</p></li>
<li><p>How to build and install (should reference external tools/workflows)</p></li>
<li><p>How to build and run tests</p></li>
<li><p>How to build documentation</p></li>
<li><p>How to develop (useful for describing things like <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">develop</span></code>)</p></li>
</ul>
<p>Each package should describe itself and its purpose or how it is used in the larger scope.
The description should be written, as much as possible, assuming that the reader has stumbled onto it without previous knowledge of ROS or other related projects.</p>
<p>Each package should define and describe its public API so that there is a reasonable expectation for users what is covered by the semantic versioning policy.
Even in C and C++, where the public API can be enforced by API and ABI checking, it is a good opportunity to describe the layout of the code and the function of each part of the code.</p>
<p>It should be easy to take any package and from that package’s documentation understand how to build, run, build and run tests, and build the documentation.
Obviously we should avoid repeating ourselves for common workflows, like build a package in a workspace, but the basic workflows should be either described or referenced.</p>
<p>Finally, it should include any documentation for developers.
This might include workflows for testing the code using something like <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">develop</span></code>, or it might mean describing how to make use of extension points provided by you package.</p>
<p>Examples:</p>
<ul class="simple">
<li><p>capabilities: <a class="reference external" href="http://docs.ros.org/hydro/api/capabilities/html/">http://docs.ros.org/hydro/api/capabilities/html/</a></p>
<ul>
<li><p>This one gives an example of docs which describe the public API</p></li>
</ul>
</li>
<li><p>catkin_tools: <a class="reference external" href="https://catkin-tools.readthedocs.org/en/latest/development/extending_the_catkin_command.html">https://catkin-tools.readthedocs.org/en/latest/development/extending_the_catkin_command.html</a></p>
<ul>
<li><p>This is an example of describing an extension point for a package</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="package-categories">
<h2><a class="toc-backref" href="#id38">Package Categories</a><a class="headerlink" href="#package-categories" title="Permalink to this headline">¶</a></h2>
<p><em>(Planned; not yet used)</em></p>
<p>The policies will apply differently to packages depending on their categorization.
The categories are meant to give some expectation as to the quality of a package and allows us to be more strict or compliant with some packages and less so with others.</p>
<div class="section" id="level-1">
<h3><a class="toc-backref" href="#id39">(Level 1)</a><a class="headerlink" href="#level-1" title="Permalink to this headline">¶</a></h3>
<p>This category should be used for packages which are required for a reasonable ROS system in a production environment.
That is to say that after you remove development tools, build tools, and introspection tools, these packages are still left over as requirements for a basic ROS system to run.
However, just because you can conceive a system which does not need a particular package does not mean that it shouldn’t be called ‘Level 1’, in fact the opposite is true.
If we can imagine that any reasonable production scenario where a package would be used in some essential function, then that package should be considered for this category.
However, packages which we consider essential to getting a robot up and running quickly, but is a generic solution to the problem should probably not start out as ‘Level 1’.</p>
<p>For Example, the packages which provide in-process communication, interprocess communication, generated message runtime code, and component lifecycle should probably all be considered ‘Level 1’.
However, a package which provides pose estimation (like <code class="docutils literal notranslate"><span class="pre">robot_pose_ekf</span></code>) is a generic solution something that most people need, but is often replaced with a domain specific solution in production, and therefore it should probably not start out as ‘Level 1’.
However, it may upgrade to it at a later date, if it proves to be a solution that people want to use in their products.</p>
<p>Tools, like <code class="docutils literal notranslate"><span class="pre">rostopic</span></code>, generally do not fall into this category, but are not categorically excluded.
For example, it may be the case the tool which launches and verifies a ROS graph (something like <code class="docutils literal notranslate"><span class="pre">roslaunch</span></code>) may need to be considered ‘Level 1’ for use in production systems.</p>
<div class="section" id="package-requirements">
<h4>Package Requirements<a class="headerlink" href="#package-requirements" title="Permalink to this headline">¶</a></h4>
<p>Requirements to be considered a ‘Level 1’ package:</p>
<ul class="simple">
<li><p>Have a strictly declared public API</p></li>
<li><p>Have API documentation coverage for public symbols</p></li>
<li><p>Have 100 percent branch code coverage from unit and integration tests</p></li>
<li><p>Have system tests which cover any scenarios covered in documentation</p></li>
<li><p>Have system tests for any corner cases encountered during testing</p></li>
<li><p>Must be &gt;= version 1.0.0</p></li>
</ul>
</div>
<div class="section" id="change-control-process">
<h4>Change Control Process<a class="headerlink" href="#change-control-process" title="Permalink to this headline">¶</a></h4>
<p>The change control process requires all changes, regardless of trivialness, must go through a pull request.
This is to ensure a complete memoranda of changes to the code base.
In order for a pull request to get merged:</p>
<ul class="simple">
<li><p>Changes must be reviewed by two reviewers</p></li>
<li><p>Commits must be concise and descriptive</p></li>
<li><p>All automated tests must be run in CI on all applicable platforms (Windows, versions of Linux, OS X, ARM)</p></li>
<li><p>Code coverage must stay at 100 percent</p></li>
<li><p>Any changes which require updates to documentation must be made before merging</p></li>
</ul>
</div>
</div>
<div class="section" id="level-2">
<h3><a class="toc-backref" href="#id40">(Level 2)</a><a class="headerlink" href="#level-2" title="Permalink to this headline">¶</a></h3>
<p>These are packages which need to be solidly developed and might be used in production environments, but are not strictly required, or are commonly replaced by custom solutions.
This can also include packages which are not yet up to ‘Level 1’ but intend to be in the future.</p>
</div>
<div class="section" id="level-3">
<h3><a class="toc-backref" href="#id41">(Level 3)</a><a class="headerlink" href="#level-3" title="Permalink to this headline">¶</a></h3>
<p>These are packages which are useful for development purposes or introspection, but are not recommended for use in embedded products or mission critical scenarios.
These packages are more lax on documentation, testing, and scope of public API’s in order to make development time lower or foster addition of new features.</p>
</div>
<div class="section" id="level-4">
<h3><a class="toc-backref" href="#id42">(Level 4)</a><a class="headerlink" href="#level-4" title="Permalink to this headline">¶</a></h3>
<p>These are demos, tutorials, or experiments.
They don’t have strict requirements, but are not excluded from having good documentation or tests.
For example, this might be a tutorial package which is not intended for reuse but has excellent documentation because it serves primarily as an example to others.</p>
</div>
</div>
</div>

    </div>
  </div>
</div>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-4 col-md-4">
          
            <a href="https://github.com/ros-infrastructure" title="Find rosindex in Github">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>

            <span class="username">ros-infrastructure</span>
          </a>
          |
          <em>generated on 2019-05-24</em>
        
        </div>
        <div class="col-sm-8 col-md-8 text-right">
          <p class="text">a community-maintained index of robotics software
 | <a href="/privacy.txt">privacy</a></p>
        </div>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
