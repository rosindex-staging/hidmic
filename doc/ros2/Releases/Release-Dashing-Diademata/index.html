<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>ROS 2 Dashing Diademata (codename ‘dashing’; May 31st, 2019)</title>
    <meta name="description" content="a community-maintained index of robotics software
">

    
    <link rel="canonical" href="https://ros-infrastructure.github.io/index.ros.org//doc/ros2/Releases/Release-Dashing-Diademata/">
    
    <link rel="stylesheet" type="text/css" href="/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/sphinx.css">
    

    <script type="text/javascript" src=/js/jquery.js></script>
    <script src=/bootstrap/js/bootstrap.min.js type="text/javascript"></script>
    <script src=/js/jquery-cookie-1.4.1/jquery.cookie.js type="text/javascript"></script>

    <script type="text/javascript" src=/js/ga.js async></script>
    <script type="text/javascript" src=/js/toc.js></script>

    <script src=/js/distro_switch.js></script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">
    <div class="container-fluid" style="margin-bottom: 10px">

      <div align="center">
        <br>
        <table id="topnav-table">
          <tr>
            <td valign="middle">
                ROS Resources:
              <a href="http://wiki.ros.org/">Documentation</a>
              |
              <a href="http://wiki.ros.org/Support">Support</a>
              |
              <a href="http://discourse.ros.org/">Discussion Forum</a>
              |
              <a href="http://status.ros.org/">Service Status</a>
              |
              <a href="http://answers.ros.org/">Q&A answers.ros.org</a>
            </td>
          </tr>
        </table> <!-- topnav-table -->
      </div>

      <div class="row">

        <div class="col-sm-12 col-md-9" style="margin-top: 8px">
          <div class="row">
            <!-- title -->
            <div class="col-xs-12 col-sm-3 col-md-3" style="white-space:nowrap;">
              <a class="site-title" href="/">ROS Index</a> <sup><a href="https://github.com/ros-infrastructure/rosindex/issues/new" style="vertical-align:super;" class="label label-warning" target="_blank">BETA</a></sup>
            </div>

            <!-- main links -->
            <div class="col-xs-12 col-sm-9 col-md-9 text-right">
              <ul class="list-inline" style="margin-bottom:0px;">
                <li><a class="btn btn-link" href="/about">About</a></li>

                <li class="dropdown">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Index <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    <li><a href="/packages/page/1/time/">Package List</a></li>
                    <li><a href="/repos/page/1/time/">Repository List</a></li>

                    <li class="hidden" class="divider"></li>


                    <li class="hidden"><a href="/srvs/">Nodes</a></li>
                    <li class="hidden"><a href="/msgs/">Messages</a></li>
                    <li class="hidden"><a href="/srvs/">Services</a></li>
                    <li class="hidden"><a href="/srvs/">Plugins</a></li>

                    <li class="divider"></li>

                    <li><a href="/deps/">System Dependencies</a></li>
                  </ul>
                </li>

                <li class="dropdown disabled">
                  <button id="dLabel" class="btn btn-link" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Doc <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                    
                    <li>
                      <a href="/doc/ros2">
                        ROS2 Overview
                      </a>
                    </li>
                    
                    <li class="hidden" class="divider"></li>

                    <li class="hidden"><a href="/doc/tutorials">Tutorials</a></li>
                    <li class="hidden"><a href="/doc/readmes">Readmes</a></li>
                    <li class="hidden"><a href="/doc/apis">APIs</a></li>
                  </ul>
                </li>

                <li><a class="btn btn-link" href="/contribute">Contribute</a></li>
                <li><a class="btn btn-link" href="/stats">Stats</a></li>
              </ul>

            </div>
          </div>
        </div>

        <!-- searchbox -->
        <div class="col-sm-12 col-md-3" style="margin-top: 12px">
          <form id="top-searchbox" action="/search/" role="form" method="get">
            <div class="input-group input-group-sm">
              <input type="text" class="form-control" name="term" placeholder="Search ROS">
              <span class="input-group-btn">
                <button class="btn btn-default btn-sm" title="Search ROS" type="submit">
                  <span class="glyphicon glyphicon-search"></span>
                </button>
                <a href="https://lunrjs.com/guides/searching.html"
                   title="Help to Search" class="btn btn-default btn-sm">
                  <span class="glyphicon glyphicon-question-sign"></span>
                </a>
              </span>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!--
    <a class="site-title" href="/">ROS Index</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        <a class="page-link" href="/packages">Packages</a>
        <a class="page-link" href="/repos">Repositories</a>
        <a class="page-link" href="/search">Search</a>
      </div>
    </nav>
    -->

  </div>
  <script type="text/javascript">
    $('#top-searchbox').submit(function() {
        return $('#top-searchbox input:text').filter(function() {
          return $(this).val() == "";
        }).length == 0;
    });
  </script>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="container-fluid" style="margin-top: 20px">
  <div class="row">
    <ol class="breadcrumb">
      <li><a href="/">Home</a></li>
      
      <li>
        <a href="/doc/ros2/">
          ROS2 Overview
        </a>
      </li>
      
      <li>
        <a href="/doc/ros2/Releases/">
          ROS 2 Distributions
        </a>
      </li>
      
      <li class="active">ROS 2 Dashing Diademata (codename ‘dashing’; May 31st, 2019)</li>
    </ol>
  </div>
  <div class="row">
    <nav class="col-md-4 well">
      <h3 style="margin-top: 10px;">Index</h3>
      
      
      <div class="list-group list-group-root">
  



<div class="list-group-item">
  <a href="/doc/ros2/">ROS2 Overview</a>
  
  <a href="#_doc_ros2__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-up"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2__children" class="list-group collapse in">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/About/">About this documentation</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/">ROS 2 Concepts</a>
  
  <a href="#_doc_ros2_Concepts__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Concepts__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/About-Quality-of-Service-Settings/">About Quality of Service Settings</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/About-ROS-Interfaces/">About ROS 2 Interfaces</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/ROS-2-Client-Libraries/">About ROS2 client libraries</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/Logging/">Logging and logger configuration</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/Overview-of-ROS-2-concepts/">Overview of ROS 2 Concepts</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Concepts/DDS-and-ROS-middleware-implementations/">ROS 2 and different DDS/RTPS vendors</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/">Contributing to ROS 2</a>
  
  <a href="#_doc_ros2_Contributing__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Contributing__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Build-Cop-and-Build-Farmer-Guide/">Build Cop and Build Farmer Guide</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Design-Guide/">Design Guide: Common patterns in ROS 2</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Examples-and-Tools-for-ROS1----ROS2-Migrations/">Examples and tools for ROS1-to-ROS2 Migration</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Set-up-a-new-Linux-CI-node/">How to setup Linux Jenkins nodes</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Set-up-a-new-Windows-CI-node/">How to setup a Windows Jenkins node</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Set-up-a-new-macOS-CI-node/">How to setup a macOS Jenkins node</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/CI-Server-Setup/">How to setup the Jenkins master</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/MISRA-Compliance-Guide/">MISRA Compliance Guide</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Migration-Guide/">Migration guide from ROS 1</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Migration-Guide-Python/">Python Migration guide from ROS 1</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Quality-Guide/">Quality Guide: Ensuring code quality</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Developer-Guide/">ROS 2 Developer Guide</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/ROS-2-On-boarding-Guide/">ROS 2 On-boarding Guide</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contributing/Inter-Sphinx-Support/">Using Sphinx for cross-referencing packages</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Contact/">Contact us</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Features/">Features Status</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/">Installation</a>
  
  <a href="#_doc_ros2_Installation__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Installation__children" class="list-group collapse">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/">Installing ROS 2 Crystal and earlier</a>
  
  <a href="#_doc_ros2_Installation_Crystal__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Installation_Crystal__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Fedora-Development-Setup/">Building ROS 2 on Fedora Linux</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Linux-Development-Setup/">Building ROS 2 on Linux</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/OSX-Development-Setup/">Building ROS 2 on OS X</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Windows-Development-Setup/">Building ROS 2 on Windows</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Install-Connext-Security-Plugins/">Installing Connext security plugins</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Linux-Install-Binary/">Installing ROS 2 on Linux</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/OSX-Install-Binary/">Installing ROS 2 on OS X</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Windows-Install-Binary/">Installing ROS 2 on Windows</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Linux-Install-Debians/">Installing ROS2 via Debian Packages</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Crystal/Maintaining-a-Source-Checkout/">Maintaining a Source Checkout of ROS 2</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/">Installing ROS 2 Dashing Diademata</a>
  
  <a href="#_doc_ros2_Installation_Dashing__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Installation_Dashing__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Fedora-Development-Setup/">Building ROS 2 on Fedora Linux</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Linux-Development-Setup/">Building ROS 2 on Linux</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/OSX-Development-Setup/">Building ROS 2 on OS X</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Windows-Development-Setup/">Building ROS 2 on Windows</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Install-Connext-Security-Plugins/">Installing Connext security plugins</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Linux-Install-Binary/">Installing ROS 2 on Linux</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/OSX-Install-Binary/">Installing ROS 2 on OS X</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Windows-Install-Binary/">Installing ROS 2 on Windows</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Linux-Install-Debians/">Installing ROS2 via Debian Packages</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Installation/Dashing/Maintaining-a-Source-Checkout/">Maintaining a Source Checkout of ROS 2</a>
  
</div>



  
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/">ROS 2 Distributions</a>
  
  <a href="#_doc_ros2_Releases__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-up"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Releases__children" class="list-group collapse in">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Beta1-Overview/">Beta 1 (codename ‘Asphalt’; December 2016)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Beta2-Overview/">Beta 2 (codename ‘r2b2’; July 2017)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Beta3-Overview/">Beta 3 (codename ‘r2b3’; September 2017)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Release-Howto/">How to Release</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Release-Ardent-Apalone/">ROS 2 Ardent Apalone (codename ‘ardent’; December 2017)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Release-Bouncy-Bolson/">ROS 2 Bouncy Bolson (codename ‘bouncy’; June 2018)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Release-Crystal-Clemmys/">ROS 2 Crystal Clemmys (codename ‘crystal’; December 2018)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Release-Dashing-Diademata/">ROS 2 Dashing Diademata (codename ‘dashing’; May 31st, 2019)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Releases/Alpha-Overview/">ROS 2 alpha releases (Aug 2015 - Oct 2016)</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Related-Projects/">Related Projects</a>
  
  <a href="#_doc_ros2_Related-Projects__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Related-Projects__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Related-Projects/Intel-ROS2-Projects/">Intel ROS2 Projects</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Roadmap/">Roadmap</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/">Tutorials</a>
  
  <a href="#_doc_ros2_Tutorials__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Tutorials__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Actions/">Actions</a>
  
  <a href="#_doc_ros2_Tutorials_Actions__children" class="list-group-toggle pull-right"
     data-toggle="collapse" aria-expanded="false">
    
    <span class="glyphicon glyphicon-chevron-down"></span>
    
  </a>
  
</div>

  
<div id="_doc_ros2_Tutorials_Actions__children" class="list-group collapse">
  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Actions/Creating-an-Action/">Creating an Action</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Actions/Writing-an-Action-Client-CPP/">Writing an Action Client (C++)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Actions/Writing-an-Action-Client-Python/">Writing an Action Client (Python)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Actions/Writing-an-Action-Server-CPP/">Writing an Action Server (C++)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Actions/Writing-an-Action-Server-Python/">Writing an Action Server (Python)</a>
  
</div>



  
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Building-ROS-2-on-Linux-with-Eclipse-Oxygen/">Building ROS2 on Linux with Eclipse Oxygen [community-contributed]</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/RQt-Source-Install/">Building RQt from Source</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/RQt-Source-Install-Windows10/">Building RQt from Source on Windows 10</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/RQt-Source-Install-MacOS/">Building RQt from Source on macOS</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Building-Realtime-rt_preempt-kernel-for-ROS-2/">Building Realtime Linux for ROS 2 [community-contributed]</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Composition/">Composing multiple nodes in a single process</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Cross-compilation/">Cross-Compilation</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Defining-custom-interfaces-(msg-srv)/">Defining custom interfaces (msg/srv)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Eclipse-Oxygen-with-ROS-2-and-rviz2/">Eclipse Oxygen with ROS 2 and rviz2 [community-contributed]</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Intra-Process-Communication/">Efficient intra-process communication</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Allocator-Template-Tutorial/">Implement a custom memory allocator</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Rosidl-Tutorial/">Introduction to msg and srv interfaces</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Introspection-with-command-line-tools/">Introspection with command line tools</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Launch-system/">Launching/monitoring multiple nodes with Launch</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Logging-and-logger-configuration/">Logging and logger configuration demo</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Managed-Nodes/">Management of nodes with managed lifecycles</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/New-features-in-ROS-2-interfaces-(msg-srv)/">New features in ROS 2 interfaces</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/catment/">On the mixing of ament and catkin (catment)</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/RQt-Overview-Usage/">Overview and Usage of RQt</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Node-arguments/">Passing ROS arguments to nodes via the command-line</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/RQt-Port-Plugin-Windows/">Porting RQt plugins to Windows</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Python-Programming/">Python Programming in ROS 2</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Real-Time-Programming/">Real-Time Programming in ROS 2</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Rosbag-with-ROS1-Bridge/">Recording and playback of topic data with rosbag using the ROS 1 bridge</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Releasing-a-ROS-2-package-with-bloom/">Releasing a ROS 2 package with bloom</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Run-2-nodes-in-two-separate-docker-containers/">Running 2 nodes in 2 separate docker containers [community-contributed]</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Run-2-nodes-in-a-single-docker-container/">Running 2 nodes in a single docker container [community-contributed]</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/dummy-robot-demo/">Trying the dummy robot demo</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Quality-of-Service/">Use quality-of-service settings to handle lossy networks</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Ament-Tutorial/">Using Ament</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Colcon-Tutorial/">Using Colcon to build packages</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/tf2/">Using tf2 with ROS 2</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Working-with-multiple-RMW-implementations/">Working with multiple ROS 2 middleware implementations</a>
  
</div>



  
  
  
  



<div class="list-group-item">
  <a href="/doc/ros2/Tutorials/Ament-CMake-Documentation/">ament_cmake User Documentation</a>
  
</div>



  
  
</div>



  
  
</div>



</div>

<script type="text/javascript">
  $(function() {
    $('.list-group-toggle').on('click', function() {
      $(this).find('span').toggleClass(
        'glyphicon-chevron-up glyphicon-chevron-down'
      );
    });
  });
</script>

    </nav>
    <div class="col-md-8">
      <a type="button" href="https://github.com/ros2/ros2_documentation/edit/master/source/Releases/Release-Dashing-Diademata.rst"
         class="btn btn-success pull-right"
         style="margin-top: 20px;">
        Edit on Github
      </a>
      <div class="section" id="ros-2-dashing-diademata-codename-dashing-may-31st-2019">
<h1>ROS 2 Dashing Diademata (codename ‘dashing’; May 31st, 2019)<a class="headerlink" href="#ros-2-dashing-diademata-codename-dashing-may-31st-2019" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#supported-platforms" id="id1">Supported Platforms</a></p></li>
<li><p><a class="reference internal" href="#new-features-in-this-ros-2-release" id="id2">New features in this ROS 2 release</a></p></li>
<li><p><a class="reference internal" href="#timeline-before-the-release" id="id3">Timeline before the release</a></p></li>
<li><p><a class="reference internal" href="#changes-since-the-crystal-release" id="id4">Changes since the Crystal release</a></p>
<ul>
<li><p><a class="reference internal" href="#declaring-parameters" id="id5">Declaring Parameters</a></p></li>
<li><p><a class="reference internal" href="#ament-cmake" id="id6">ament_cmake</a></p></li>
<li><p><a class="reference internal" href="#rclcpp" id="id7">rclcpp</a></p></li>
<li><p><a class="reference internal" href="#rclcpp-components" id="id8">rclcpp_components</a></p></li>
<li><p><a class="reference internal" href="#rclpy" id="id9">rclpy</a></p></li>
<li><p><a class="reference internal" href="#rosidl" id="id10">rosidl</a></p></li>
<li><p><a class="reference internal" href="#rosidl-generator-cpp" id="id11">rosidl_generator_cpp</a></p></li>
<li><p><a class="reference internal" href="#rosidl-generator-py" id="id12">rosidl_generator_py</a></p></li>
<li><p><a class="reference internal" href="#launch" id="id13">launch</a></p></li>
<li><p><a class="reference internal" href="#rmw" id="id14">rmw</a></p></li>
<li><p><a class="reference internal" href="#actions" id="id15">actions</a></p></li>
<li><p><a class="reference internal" href="#rviz" id="id16">rviz</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#known-issues" id="id17">Known Issues</a></p></li>
</ul>
</div>
<p><em>Dashing Diademata</em> will be the fourth release of ROS 2.</p>
<div class="section" id="supported-platforms">
<h2><a class="toc-backref" href="#id1">Supported Platforms</a><a class="headerlink" href="#supported-platforms" title="Permalink to this headline">¶</a></h2>
<p>To be determined.</p>
</div>
<div class="section" id="new-features-in-this-ros-2-release">
<h2><a class="toc-backref" href="#id2">New features in this ROS 2 release</a><a class="headerlink" href="#new-features-in-this-ros-2-release" title="Permalink to this headline">¶</a></h2>
<p>During the development the <a class="reference external" href="https://github.com/ros2/ros2/issues/607">Dashing meta ticket</a> on GitHub contains an up-to-date state of the ongoing high level tasks as well as references specific tickets with more details.</p>
</div>
<div class="section" id="timeline-before-the-release">
<h2><a class="toc-backref" href="#id3">Timeline before the release</a><a class="headerlink" href="#timeline-before-the-release" title="Permalink to this headline">¶</a></h2>
<p>A few milestone leading up to the release:</p>
<blockquote>
<div><dl class="simple">
<dt>Mon. Apr 8th (alpha)</dt><dd><p>First releases of core packages available.
Testing can happen from now on (some features might not have landed yet).</p>
</dd>
<dt>Thu. May 2nd</dt><dd><p>API freeze for core packages</p>
</dd>
<dt>Mon. May 6th (beta)</dt><dd><p>Updated releases of core packages available.
Additional testing of the latest features.</p>
</dd>
<dt>Thu. May 16th</dt><dd><p>Feature freeze.
Only bug fix releases should be made after this point.
New packages can be released independently.</p>
</dd>
<dt>Mon. May 20th (release candidate)</dt><dd><p>Updated releases of core packages available.</p>
</dd>
<dt>Wed. May 29th</dt><dd><p>Freeze rosdistro.
No PRs for Dashing on the <a class="reference external" href="http://docs.ros.org/independent/api/rosdistro/html/rosdistro.html" title="(in rosdistro)"><code class="docutils literal notranslate"><span class="pre">rosdistro</span> <span class="pre">package</span></code></a> repo will be merged (reopens after the release announcement).</p>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="changes-since-the-crystal-release">
<h2><a class="toc-backref" href="#id4">Changes since the Crystal release</a><a class="headerlink" href="#changes-since-the-crystal-release" title="Permalink to this headline">¶</a></h2>
<div class="section" id="declaring-parameters">
<h3><a class="toc-backref" href="#id5">Declaring Parameters</a><a class="headerlink" href="#declaring-parameters" title="Permalink to this headline">¶</a></h3>
<p>There have been some changes to the behavior of parameters starting in Dashing, which have also lead to some new API’s and the deprecation of other API’s.
See the <code class="docutils literal notranslate"><span class="pre">rclcpp</span></code> and <code class="docutils literal notranslate"><span class="pre">rclpy</span></code> sections below for more information about API changes.</p>
<div class="section" id="getting-and-setting-undeclared-parameters">
<h4>Getting and Setting Undeclared Parameters<a class="headerlink" href="#getting-and-setting-undeclared-parameters" title="Permalink to this headline">¶</a></h4>
<p>As of Dashing, parameters now need to be declared before being accessed or set.</p>
<p>Before Dashing, you could call <code class="docutils literal notranslate"><span class="pre">get_parameter(name)</span></code> and get either a value, if it had been previously set, or a parameter of type <code class="docutils literal notranslate"><span class="pre">PARAMETER_NOT_SET</span></code>.
You could also call <code class="docutils literal notranslate"><span class="pre">set_parameter(name,</span> <span class="pre">value)</span></code> at any point, even if the parameter was previously unset.</p>
<p>Since Dashing, you need to first declare a parameter before getting or setting it.
If you try to get or set an undeclared parameter you will either get an exception thrown, e.g. ParameterNotDeclaredException, or in certain cases you will get an unsuccessful result communicated in a variety of ways (see specific functions for more details).</p>
<p>However, you can get the old behavior by using the <code class="docutils literal notranslate"><span class="pre">allow_undeclared_parameters</span></code> option when creating your node.
You might want to do this in order to avoid code changes for now, or in order to fulfill some uncommon use cases.
For example, a “global parameter server” or “parameter blackboard” may want to allow external nodes to set new parameters on itself without first declaring them, so it may use the <code class="docutils literal notranslate"><span class="pre">allow_undeclared_parameters</span></code> option to accomplish that.
In most cases, however, this option is not recommended because it makes the rest of the parameter API less safe to bugs like parameter name typos and “use before set” logical errors.</p>
</div>
<div class="section" id="declaring-a-parameter-with-a-parameterdescriptor">
<h4>Declaring a Parameter with a ParameterDescriptor<a class="headerlink" href="#declaring-a-parameter-with-a-parameterdescriptor" title="Permalink to this headline">¶</a></h4>
<p>Another benefit to declaring your parameters before using them, is that it allows you to declare a parameter descriptor at the same time.</p>
<p>Now when declaring a parameter you may include a custom <code class="docutils literal notranslate"><span class="pre">ParameterDescriptor</span></code> as well as a name and default value.
The <code class="docutils literal notranslate"><span class="pre">ParameterDescriptor</span></code> is defined as a message in <code class="docutils literal notranslate"><span class="pre">rcl_interfaces/msg/ParameterDescriptor</span></code> and contains meta data like <code class="docutils literal notranslate"><span class="pre">description</span></code> and constraints like <code class="docutils literal notranslate"><span class="pre">read_only</span></code> or <code class="docutils literal notranslate"><span class="pre">integer_range</span></code>.
These constraints can be used to reject invalid values when setting parameters and/or as hints to external tools about what values are valid for a given parameter.
The <code class="docutils literal notranslate"><span class="pre">read_only</span></code> constraint will prevent the parameter’s value from changing after being declared, as well as prevent if from being undeclared.</p>
<p>For reference, here’s a link to the <code class="docutils literal notranslate"><span class="pre">ParameterDescriptor</span></code> message as of the time of writing this:</p>
<p><a class="reference external" href="https://github.com/ros2/rcl_interfaces/blob/0aba5a142878c2077d7a03977087e7d74d40ee68/rcl_interfaces/msg/ParameterDescriptor.msg#L1">https://github.com/ros2/rcl_interfaces/blob/0aba5a142878c2077d7a03977087e7d74d40ee68/rcl_interfaces/msg/ParameterDescriptor.msg#L1</a></p>
</div>
<div class="section" id="parameter-configuration-using-a-yaml-file">
<h4>Parameter Configuration using a YAML File<a class="headerlink" href="#parameter-configuration-using-a-yaml-file" title="Permalink to this headline">¶</a></h4>
<p>As of Dashing, parameters in a YAML configuration file, e.g. passed to the node via the command line argument <code class="docutils literal notranslate"><span class="pre">__params:=</span></code>, are only used to override a parameter’s default value when declaring the parameter.</p>
<p>Before Dashing, any parameters you passed via a YAML file would be implicitly set on the node.</p>
<p>Since Dashing, this is no longer the case, as parameters need to be declared in order to appear on the node to external observers, like <code class="docutils literal notranslate"><span class="pre">ros2</span> <span class="pre">param</span> <span class="pre">list</span></code>.</p>
<p>The old behavior may be achieved using the <code class="docutils literal notranslate"><span class="pre">automatically_declare_initial_parameters</span></code> option when creating a node.
This option, if set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, will automatically declare all parameters in the input YAML file when the node is constructed.
This may be used to avoid major changes to your existing code or to serve specific use cases.
For example, a “global parameter server” may want to be seeded with arbitrary parameters on launch, which it could not have declared ahead of time.
Most of the time, however, this option is not recommended, as it may lead to setting a parameter in a YAML file with the assumption that the node will use it, even if the node does not actually use it.</p>
<p>In the future we hope to have a checker that will warn you if you pass a parameter to a node that it was not expecting.</p>
<p>The parameters in the YAML file will continue to influence the value of parameters when they are first declared.</p>
</div>
</div>
<div class="section" id="ament-cmake">
<h3><a class="toc-backref" href="#id6">ament_cmake</a><a class="headerlink" href="#ament-cmake" title="Permalink to this headline">¶</a></h3>
<p>The CMake function <code class="docutils literal notranslate"><span class="pre">ament_index_has_resource</span></code> was returning either <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> or <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>.
As of <a class="reference external" href="https://github.com/ament/ament_cmake/pull/155">this release</a> it returns either the prefix path in case the resource was found or <code class="docutils literal notranslate"><span class="pre">FALSE</span></code>.</p>
<p>If you are using the return value in a CMake condition like this:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">ament_index_has_resource</span><span class="p">(</span><span class="s">var</span> <span class="s">...</span><span class="p">)</span>
<span class="nb">if</span><span class="p">(</span><span class="o">${</span><span class="nv">var</span><span class="o">}</span><span class="p">)</span>
</pre></div>
</div>
<p>you need to update the condition to ensure it considers a string value as <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>:</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">if</span><span class="p">(</span><span class="s">var</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="rclcpp">
<h3><a class="toc-backref" href="#id7">rclcpp</a><a class="headerlink" href="#rclcpp" title="Permalink to this headline">¶</a></h3>
<div class="section" id="behavior-change-for-node-get-node-names">
<h4>Behavior Change for <code class="docutils literal notranslate"><span class="pre">Node::get_node_names()</span></code><a class="headerlink" href="#behavior-change-for-node-get-node-names" title="Permalink to this headline">¶</a></h4>
<p>The function <code class="docutils literal notranslate"><span class="pre">NodeGraph::get_node_names()</span></code>, and therefore also <code class="docutils literal notranslate"><span class="pre">Node::get_node_names()</span></code>, now returns a <code class="docutils literal notranslate"><span class="pre">std::vector&lt;std::string&gt;</span></code> containing fully qualified node names with their namespaces included, instead of just the node names.</p>
</div>
<div class="section" id="changed-the-way-that-options-are-passed-to-nodes">
<h4>Changed the Way that Options are Passed to Nodes<a class="headerlink" href="#changed-the-way-that-options-are-passed-to-nodes" title="Permalink to this headline">¶</a></h4>
<p>Extended arguments (beyond name and namespace) to the <code class="docutils literal notranslate"><span class="pre">rclcpp::Node()</span></code> constructor have been replaced with a <code class="docutils literal notranslate"><span class="pre">rclcpp::NodeOptions</span></code> structure.
See <a class="reference external" href="https://github.com/ros2/rclcpp/pull/622/files">ros2/rclcpp#622</a> for details about the structure and default values of the options.</p>
<p>If you are using any of the extended arguments to <code class="docutils literal notranslate"><span class="pre">rclcpp::Node()</span></code> like this:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">auto</span> <span class="n">context</span> <span class="o">=</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">contexts</span><span class="o">::</span><span class="n">default_context</span><span class="o">::</span><span class="n">get_global_default_context</span><span class="p">();</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">args</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">rclcpp</span><span class="o">::</span><span class="n">Parameter</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">Parameter</span><span class="p">(</span><span class="s">&quot;use_sim_time&quot;</span><span class="p">,</span> <span class="nb">true</span><span class="p">)</span> <span class="p">};</span>
<span class="k">auto</span> <span class="n">node</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;foo_node&quot;</span><span class="p">,</span> <span class="s">&quot;bar_namespace&quot;</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">args</span><span class="p">,</span> <span class="n">params</span><span class="p">);</span>
</pre></div>
</div>
<p>You need to update to use the <code class="docutils literal notranslate"><span class="pre">NodeOptions</span></code> structure</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">args</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">rclcpp</span><span class="o">::</span><span class="n">Parameter</span><span class="o">&gt;</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">Parameter</span><span class="p">(</span><span class="s">&quot;use_sim_time&quot;</span><span class="p">,</span> <span class="nb">true</span><span class="p">)</span> <span class="p">};</span>
<span class="n">rclcpp</span><span class="o">::</span><span class="n">NodeOptions</span> <span class="n">node_options</span><span class="p">;</span>
<span class="n">node_options</span><span class="p">.</span><span class="n">arguments</span><span class="p">(</span><span class="n">args</span><span class="p">);</span>
<span class="n">node_options</span><span class="p">.</span><span class="n">initial_parameters</span><span class="p">(</span><span class="n">params</span><span class="p">);</span>
<span class="k">auto</span> <span class="n">node</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">make_shared</span><span class="o">&lt;</span><span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">&gt;</span><span class="p">(</span><span class="s">&quot;foo_node&quot;</span><span class="p">,</span> <span class="s">&quot;bar_namespace&quot;</span><span class="p">,</span> <span class="n">node_options</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="changes-to-creating-publishers-and-subscriptions">
<h4>Changes to Creating Publishers and Subscriptions<a class="headerlink" href="#changes-to-creating-publishers-and-subscriptions" title="Permalink to this headline">¶</a></h4>
<p>There have been a few changes to creating publishers and subscriptions which are new in Dashing:</p>
<ul class="simple">
<li><p>QoS settings are now passed using the new <code class="docutils literal notranslate"><span class="pre">rclcpp::QoS</span></code> class, and the API encourages the user to specify at least the history depth.</p></li>
<li><p>Options are now passed as an object, i.e. <code class="docutils literal notranslate"><span class="pre">rclcpp::PublisherOptions</span></code> and <code class="docutils literal notranslate"><span class="pre">rclcpp::SubscriptionOptions</span></code>.</p></li>
</ul>
<p>All changes are backwards compatible (no code changes are required), but several existing call styles have been deprecated.
Users are encouraged to update to the new signatures.</p>
<hr class="docutils" />
<p>In the past, when creating a publisher or subscription, you could either not specify any QoS settings (e.g. just provide topic name for a publisher) or you could specify a “qos profile” data structure (of type <code class="docutils literal notranslate"><span class="pre">rmw_qos_profile_t</span></code>) with all the settings already set.
Now you must use the new <code class="docutils literal notranslate"><span class="pre">rclcpp::QoS</span></code> object to specify your QoS and at least the history settings for your QoS.
This encourages the user to specify a history depth when using <code class="docutils literal notranslate"><span class="pre">KEEP_LAST</span></code>, rather than defaulting it to a value that may or may not be appropriate.</p>
<p>In ROS 1, this was known as the <code class="docutils literal notranslate"><span class="pre">queue_size</span></code> and it was required in both C++ and Python.
We’re changing the ROS 2 API to bring this requirement back.</p>
<hr class="docutils" />
<p>Also, any options which could previously be passed during creation of a publisher or subscription have now been encapsulated in an <code class="docutils literal notranslate"><span class="pre">rclcpp::PublisherOptions</span></code> and <code class="docutils literal notranslate"><span class="pre">rclcpp::SubscriptionOptions</span></code> class respectively.
This allows for shorter signatures, more convenient use, and for adding new future options without breaking API.</p>
<hr class="docutils" />
<p>Some signatures for creating publishers and subscribers are now deprecated, and new signatures have been added to allow you to use the new <code class="docutils literal notranslate"><span class="pre">rclcpp::QoS</span></code> and publisher/subscription option classes.</p>
<p>These are the new and recommended API’s:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span>
  <span class="k">typename</span> <span class="n">MessageT</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">AllocatorT</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">allocator</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">PublisherT</span> <span class="o">=</span> <span class="o">::</span><span class="n">rclcpp</span><span class="o">::</span><span class="n">Publisher</span><span class="o">&lt;</span><span class="n">MessageT</span><span class="p">,</span> <span class="n">AllocatorT</span><span class="o">&gt;&gt;</span>
<span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">PublisherT</span><span class="o">&gt;</span>
<span class="n">create_publisher</span><span class="p">(</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">topic_name</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">QoS</span> <span class="o">&amp;</span> <span class="n">qos</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">PublisherOptionsWithAllocator</span><span class="o">&lt;</span><span class="n">AllocatorT</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="n">options</span> <span class="o">=</span>
  <span class="n">PublisherOptionsWithAllocator</span><span class="o">&lt;</span><span class="n">AllocatorT</span><span class="o">&gt;</span><span class="p">()</span>
<span class="p">);</span>

<span class="k">template</span><span class="o">&lt;</span>
  <span class="k">typename</span> <span class="n">MessageT</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">CallbackT</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">AllocatorT</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">allocator</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">SubscriptionT</span> <span class="o">=</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">Subscription</span><span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">subscription_traits</span><span class="o">::</span><span class="n">has_message_type</span><span class="o">&lt;</span><span class="n">CallbackT</span><span class="o">&gt;::</span><span class="n">type</span><span class="p">,</span> <span class="n">AllocatorT</span><span class="o">&gt;&gt;</span>
<span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">SubscriptionT</span><span class="o">&gt;</span>
<span class="n">create_subscription</span><span class="p">(</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">topic_name</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">QoS</span> <span class="o">&amp;</span> <span class="n">qos</span><span class="p">,</span>
  <span class="n">CallbackT</span> <span class="o">&amp;&amp;</span> <span class="n">callback</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">SubscriptionOptionsWithAllocator</span><span class="o">&lt;</span><span class="n">AllocatorT</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="n">options</span> <span class="o">=</span>
  <span class="n">SubscriptionOptionsWithAllocator</span><span class="o">&lt;</span><span class="n">AllocatorT</span><span class="o">&gt;</span><span class="p">(),</span>
  <span class="k">typename</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">message_memory_strategy</span><span class="o">::</span><span class="n">MessageMemoryStrategy</span><span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">subscription_traits</span><span class="o">::</span><span class="n">has_message_type</span><span class="o">&lt;</span><span class="n">CallbackT</span><span class="o">&gt;::</span><span class="n">type</span><span class="p">,</span> <span class="n">AllocatorT</span>
  <span class="o">&gt;::</span><span class="n">SharedPtr</span>
  <span class="n">msg_mem_strat</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">);</span>
</pre></div>
</div>
<p>And these are the deprecated ones:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span>
  <span class="k">typename</span> <span class="n">MessageT</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">AllocatorT</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">allocator</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">PublisherT</span> <span class="o">=</span> <span class="o">::</span><span class="n">rclcpp</span><span class="o">::</span><span class="n">Publisher</span><span class="o">&lt;</span><span class="n">MessageT</span><span class="p">,</span> <span class="n">AllocatorT</span><span class="o">&gt;&gt;</span>
<span class="p">[[</span><span class="n">deprecated</span><span class="p">(</span><span class="s">&quot;use create_publisher(const std::string &amp;, const rclcpp::QoS &amp;, ...) instead&quot;</span><span class="p">)]]</span>
<span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">PublisherT</span><span class="o">&gt;</span>
<span class="n">create_publisher</span><span class="p">(</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">topic_name</span><span class="p">,</span>
  <span class="kt">size_t</span> <span class="n">qos_history_depth</span><span class="p">,</span>
  <span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">AllocatorT</span><span class="o">&gt;</span> <span class="n">allocator</span><span class="p">);</span>

<span class="k">template</span><span class="o">&lt;</span>
  <span class="k">typename</span> <span class="n">MessageT</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">AllocatorT</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">allocator</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">PublisherT</span> <span class="o">=</span> <span class="o">::</span><span class="n">rclcpp</span><span class="o">::</span><span class="n">Publisher</span><span class="o">&lt;</span><span class="n">MessageT</span><span class="p">,</span> <span class="n">AllocatorT</span><span class="o">&gt;&gt;</span>
<span class="p">[[</span><span class="n">deprecated</span><span class="p">(</span><span class="s">&quot;use create_publisher(const std::string &amp;, const rclcpp::QoS &amp;, ...) instead&quot;</span><span class="p">)]]</span>
<span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">PublisherT</span><span class="o">&gt;</span>
<span class="n">create_publisher</span><span class="p">(</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">topic_name</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">rmw_qos_profile_t</span> <span class="o">&amp;</span> <span class="n">qos_profile</span> <span class="o">=</span> <span class="n">rmw_qos_profile_default</span><span class="p">,</span>
  <span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">AllocatorT</span><span class="o">&gt;</span> <span class="n">allocator</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">);</span>

<span class="k">template</span><span class="o">&lt;</span>
  <span class="k">typename</span> <span class="n">MessageT</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">CallbackT</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">Alloc</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">allocator</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">SubscriptionT</span> <span class="o">=</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">Subscription</span><span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">subscription_traits</span><span class="o">::</span><span class="n">has_message_type</span><span class="o">&lt;</span><span class="n">CallbackT</span><span class="o">&gt;::</span><span class="n">type</span><span class="p">,</span> <span class="n">Alloc</span><span class="o">&gt;&gt;</span>
<span class="p">[[</span><span class="n">deprecated</span><span class="p">(</span>
  <span class="s">&quot;use create_subscription(const std::string &amp;, const rclcpp::QoS &amp;, CallbackT, ...) instead&quot;</span>
<span class="p">)]]</span>
<span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">SubscriptionT</span><span class="o">&gt;</span>
<span class="n">create_subscription</span><span class="p">(</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">topic_name</span><span class="p">,</span>
  <span class="n">CallbackT</span> <span class="o">&amp;&amp;</span> <span class="n">callback</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">rmw_qos_profile_t</span> <span class="o">&amp;</span> <span class="n">qos_profile</span> <span class="o">=</span> <span class="n">rmw_qos_profile_default</span><span class="p">,</span>
  <span class="n">rclcpp</span><span class="o">::</span><span class="n">callback_group</span><span class="o">::</span><span class="n">CallbackGroup</span><span class="o">::</span><span class="n">SharedPtr</span> <span class="n">group</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">,</span>
  <span class="kt">bool</span> <span class="n">ignore_local_publications</span> <span class="o">=</span> <span class="nb">false</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">message_memory_strategy</span><span class="o">::</span><span class="n">MessageMemoryStrategy</span><span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">subscription_traits</span><span class="o">::</span><span class="n">has_message_type</span><span class="o">&lt;</span><span class="n">CallbackT</span><span class="o">&gt;::</span><span class="n">type</span><span class="p">,</span> <span class="n">Alloc</span><span class="o">&gt;::</span><span class="n">SharedPtr</span>
  <span class="n">msg_mem_strat</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">,</span>
  <span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">Alloc</span><span class="o">&gt;</span> <span class="n">allocator</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">);</span>

<span class="k">template</span><span class="o">&lt;</span>
  <span class="k">typename</span> <span class="n">MessageT</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">CallbackT</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">Alloc</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">allocator</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">SubscriptionT</span> <span class="o">=</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">Subscription</span><span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">subscription_traits</span><span class="o">::</span><span class="n">has_message_type</span><span class="o">&lt;</span><span class="n">CallbackT</span><span class="o">&gt;::</span><span class="n">type</span><span class="p">,</span> <span class="n">Alloc</span><span class="o">&gt;&gt;</span>
<span class="p">[[</span><span class="n">deprecated</span><span class="p">(</span>
  <span class="s">&quot;use create_subscription(const std::string &amp;, const rclcpp::QoS &amp;, CallbackT, ...) instead&quot;</span>
<span class="p">)]]</span>
<span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">SubscriptionT</span><span class="o">&gt;</span>
<span class="n">create_subscription</span><span class="p">(</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">topic_name</span><span class="p">,</span>
  <span class="n">CallbackT</span> <span class="o">&amp;&amp;</span> <span class="n">callback</span><span class="p">,</span>
  <span class="kt">size_t</span> <span class="n">qos_history_depth</span><span class="p">,</span>
  <span class="n">rclcpp</span><span class="o">::</span><span class="n">callback_group</span><span class="o">::</span><span class="n">CallbackGroup</span><span class="o">::</span><span class="n">SharedPtr</span> <span class="n">group</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">,</span>
  <span class="kt">bool</span> <span class="n">ignore_local_publications</span> <span class="o">=</span> <span class="nb">false</span><span class="p">,</span>
  <span class="k">typename</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">message_memory_strategy</span><span class="o">::</span><span class="n">MessageMemoryStrategy</span><span class="o">&lt;</span>
    <span class="k">typename</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">subscription_traits</span><span class="o">::</span><span class="n">has_message_type</span><span class="o">&lt;</span><span class="n">CallbackT</span><span class="o">&gt;::</span><span class="n">type</span><span class="p">,</span> <span class="n">Alloc</span><span class="o">&gt;::</span><span class="n">SharedPtr</span>
  <span class="n">msg_mem_strat</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">,</span>
  <span class="n">std</span><span class="o">::</span><span class="n">shared_ptr</span><span class="o">&lt;</span><span class="n">Alloc</span><span class="o">&gt;</span> <span class="n">allocator</span> <span class="o">=</span> <span class="k">nullptr</span><span class="p">);</span>
</pre></div>
</div>
<hr class="docutils" />
<p>The change to how QoS is passed is most likely to impact users.</p>
<p>A typical change for a publisher looks like this:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gd">- pub_ = create_publisher&lt;std_msgs::msg::String&gt;(&quot;chatter&quot;);</span>
<span class="gi">+ pub_ = create_publisher&lt;std_msgs::msg::String&gt;(&quot;chatter&quot;, 10);</span>
</pre></div>
</div>
<p>And for a subscription:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gd">- sub_ = create_subscription&lt;std_msgs::msg::String&gt;(&quot;chatter&quot;, callback);</span>
<span class="gi">+ sub_ = create_subscription&lt;std_msgs::msg::String&gt;(&quot;chatter&quot;, 10, callback);</span>
</pre></div>
</div>
<p>If you have no idea what depth to use and don’t care right now (maybe just prototyping), then we recommend using <code class="docutils literal notranslate"><span class="pre">10</span></code>, as that was the default before and should preserve existing behavior.</p>
<p>More in depth documentation about how to select an appropriate depth is forthcoming.</p>
<p>This is an example of a slightly more involved change to avoid the newly deprecated API’s:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gd">- // Creates a latched topic</span>
<span class="gd">- rmw_qos_profile_t qos = rmw_qos_profile_default;</span>
<span class="gd">- qos.depth = 1;</span>
<span class="gd">- qos.durability = RMW_QOS_POLICY_DURABILITY_TRANSIENT_LOCAL;</span>
<span class="gd">-</span>
  model_xml_.data = model_xml;
  node_handle-&gt;declare_parameter(&quot;robot_description&quot;, model_xml);
  description_pub_ = node_handle-&gt;create_publisher&lt;std_msgs::msg::String&gt;(
<span class="gd">-   &quot;robot_description&quot;, qos);</span>
<span class="gi">+   &quot;robot_description&quot;,</span>
<span class="gi">+   // Transient local is similar to latching in ROS 1.</span>
<span class="gi">+   rclcpp::QoS(1).transient_local());</span>
</pre></div>
</div>
<p>See the pull request (and connected pull requests) that introduced the QoS change for more examples and details:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ros2/rclcpp/pull/713">https://github.com/ros2/rclcpp/pull/713</a></p>
<ul>
<li><p><a class="reference external" href="https://github.com/ros2/demos/pull/332">https://github.com/ros2/demos/pull/332</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/robot_state_publisher/pull/19">https://github.com/ros2/robot_state_publisher/pull/19</a></p></li>
<li><p>and others…</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="changes-due-to-declare-parameter-change">
<h4>Changes Due to Declare Parameter Change<a class="headerlink" href="#changes-due-to-declare-parameter-change" title="Permalink to this headline">¶</a></h4>
<p>For details about the actual behavior change, see <a class="reference internal" href="#declaring-parameters">Declaring Parameters</a> above.</p>
<p>There are several new API calls in the <code class="docutils literal notranslate"><span class="pre">rclcpp::Node</span></code>’s interface:</p>
<ul>
<li><p>Methods that declare parameters given a name, optional default value, optional descriptor, and return the value actually set:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">const</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">ParameterValue</span> <span class="o">&amp;</span>
<span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">::</span><span class="n">declare_parameter</span><span class="p">(</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">ParameterValue</span> <span class="o">&amp;</span> <span class="n">default_value</span> <span class="o">=</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">ParameterValue</span><span class="p">(),</span>
  <span class="k">const</span> <span class="n">rcl_interfaces</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">ParameterDescriptor</span> <span class="o">&amp;</span> <span class="n">parameter_descriptor</span> <span class="o">=</span>
  <span class="n">rcl_interfaces</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">ParameterDescriptor</span><span class="p">());</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">ParameterT</span><span class="o">&gt;</span>
<span class="k">auto</span>
<span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">::</span><span class="n">declare_parameter</span><span class="p">(</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">ParameterT</span> <span class="o">&amp;</span> <span class="n">default_value</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">rcl_interfaces</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">ParameterDescriptor</span> <span class="o">&amp;</span> <span class="n">parameter_descriptor</span> <span class="o">=</span>
  <span class="n">rcl_interfaces</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">ParameterDescriptor</span><span class="p">());</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">ParameterT</span><span class="o">&gt;</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">ParameterT</span><span class="o">&gt;</span>
<span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">::</span><span class="n">declare_parameters</span><span class="p">(</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">namespace_</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">ParameterT</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="n">parameters</span><span class="p">);</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">ParameterT</span><span class="o">&gt;</span>
<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">ParameterT</span><span class="o">&gt;</span>
<span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">::</span><span class="n">declare_parameters</span><span class="p">(</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">namespace_</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span>
    <span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span>
    <span class="n">std</span><span class="o">::</span><span class="n">pair</span><span class="o">&lt;</span><span class="n">ParameterT</span><span class="p">,</span> <span class="n">rcl_interfaces</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">ParameterDescriptor</span><span class="o">&gt;</span>
  <span class="o">&gt;</span> <span class="o">&amp;</span> <span class="n">parameters</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p>A method to undeclare parameters and to check if a parameter has been declared:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span>
<span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">::</span><span class="n">undeclare_parameter</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">name</span><span class="p">);</span>

<span class="kt">bool</span>
<span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">::</span><span class="n">has_parameter</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">name</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p>Some convenience methods that did not previously exist:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">rcl_interfaces</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">SetParametersResult</span>
<span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">::</span><span class="n">set_parameter</span><span class="p">(</span><span class="k">const</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">Parameter</span> <span class="o">&amp;</span> <span class="n">parameter</span><span class="p">);</span>

<span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">rclcpp</span><span class="o">::</span><span class="n">Parameter</span><span class="o">&gt;</span>
<span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">::</span><span class="n">get_parameters</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="n">names</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>

<span class="n">rcl_interfaces</span><span class="o">::</span><span class="n">msg</span><span class="o">::</span><span class="n">ParameterDescriptor</span>
<span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">::</span><span class="n">describe_parameter</span><span class="p">(</span><span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">name</span><span class="p">)</span> <span class="k">const</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p>A new method to set the callback which is called anytime a parameter will be changed, giving you the opportunity to reject it:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">using</span> <span class="n">OnParametersSetCallbackType</span> <span class="o">=</span>
  <span class="n">rclcpp</span><span class="o">::</span><span class="n">node_interfaces</span><span class="o">::</span><span class="n">NodeParametersInterface</span><span class="o">::</span><span class="n">OnParametersSetCallbackType</span><span class="p">;</span>

<span class="n">OnParametersSetCallbackType</span>
<span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">::</span><span class="n">set_on_parameters_set_callback</span><span class="p">(</span>
  <span class="n">OnParametersSetCallbackType</span> <span class="n">callback</span><span class="p">);</span>
</pre></div>
</div>
</li>
</ul>
<p>There were also several deprecated methods:</p>
<blockquote>
<div><div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">ParameterT</span><span class="o">&gt;</span>
<span class="p">[[</span><span class="n">deprecated</span><span class="p">(</span><span class="s">&quot;use declare_parameter() instead&quot;</span><span class="p">)]]</span>
<span class="kt">void</span>
<span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">::</span><span class="n">set_parameter_if_not_set</span><span class="p">(</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">ParameterT</span> <span class="o">&amp;</span> <span class="n">value</span><span class="p">);</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">ParameterT</span><span class="o">&gt;</span>
<span class="p">[[</span><span class="n">deprecated</span><span class="p">(</span><span class="s">&quot;use declare_parameters() instead&quot;</span><span class="p">)]]</span>
<span class="kt">void</span>
<span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">::</span><span class="n">set_parameters_if_not_set</span><span class="p">(</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">map</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">,</span> <span class="n">ParameterT</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="n">values</span><span class="p">);</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">ParameterT</span><span class="o">&gt;</span>
<span class="p">[[</span><span class="n">deprecated</span><span class="p">(</span><span class="s">&quot;use declare_parameter() and it&#39;s return value instead&quot;</span><span class="p">)]]</span>
<span class="kt">void</span>
<span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">::</span><span class="n">get_parameter_or_set</span><span class="p">(</span>
  <span class="k">const</span> <span class="n">std</span><span class="o">::</span><span class="n">string</span> <span class="o">&amp;</span> <span class="n">name</span><span class="p">,</span>
  <span class="n">ParameterT</span> <span class="o">&amp;</span> <span class="n">value</span><span class="p">,</span>
  <span class="k">const</span> <span class="n">ParameterT</span> <span class="o">&amp;</span> <span class="n">alternative_value</span><span class="p">);</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">CallbackT</span><span class="o">&gt;</span>
<span class="p">[[</span><span class="n">deprecated</span><span class="p">(</span><span class="s">&quot;use set_on_parameters_set_callback() instead&quot;</span><span class="p">)]]</span>
<span class="kt">void</span>
<span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span><span class="o">::</span><span class="n">register_param_change_callback</span><span class="p">(</span><span class="n">CallbackT</span> <span class="o">&amp;&amp;</span> <span class="n">callback</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="rclcpp-components">
<h3><a class="toc-backref" href="#id8">rclcpp_components</a><a class="headerlink" href="#rclcpp-components" title="Permalink to this headline">¶</a></h3>
<p>The correct way to implement composition in Dashing is by utilizing the <code class="docutils literal notranslate"><span class="pre">rclcpp_components</span></code> package.</p>
<p>The following changes must be made to nodes in order to correctly implement runtime composition:</p>
<p>The Node must have a constructor that takes <code class="docutils literal notranslate"><span class="pre">rclcpp::NodeOptions</span></code>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Listener</span><span class="o">:</span> <span class="k">public</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">Node</span> <span class="p">{</span>
  <span class="n">Listener</span><span class="p">(</span><span class="k">const</span> <span class="n">rclcpp</span><span class="o">::</span><span class="n">NodeOptions</span> <span class="o">&amp;</span> <span class="n">options</span><span class="p">)</span>
  <span class="o">:</span> <span class="n">Node</span><span class="p">(</span><span class="s">&quot;listener&quot;</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
  <span class="p">{</span>
  <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>C++ registration macros (if present) need to be updated to use the <code class="docutils literal notranslate"><span class="pre">rclcpp_components</span></code> equivalent.
If not present, registration macros must be added in one translation unit.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Insert at bottom of translation unit, e.g. listener.cpp</span>
<span class="cp">#include</span> <span class="cpf">&quot;rclcpp_components/register_node_macro.hpp&quot;</span><span class="cp"></span>
<span class="c1">// Use fully-qualifed name in registration</span>
<span class="n">RCLCPP_COMPONENTS_REGISTER_NODE</span><span class="p">(</span><span class="n">composition</span><span class="o">::</span><span class="n">Listener</span><span class="p">);</span>
</pre></div>
</div>
<p>CMake registration macros (if present) need to be updated.
If not present, registration macros must be added to the project’s CMake.</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">add_library</span><span class="p">(</span><span class="s">listener</span> <span class="s">src/listener.cpp</span><span class="p">)</span>
<span class="nb">rclcpp_components_register_nodes</span><span class="p">(</span><span class="s">listener</span> <span class="s2">&quot;composition::Listener&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information on composition, see <a class="reference external" href="https://index.ros.org/doc/ros2/Tutorials/Composition/">the tutorial</a></p>
</div>
<div class="section" id="rclpy">
<h3><a class="toc-backref" href="#id9">rclpy</a><a class="headerlink" href="#rclpy" title="Permalink to this headline">¶</a></h3>
<div class="section" id="changes-to-creating-publishers-subscriptions-and-qos-profiles">
<h4>Changes to Creating Publishers, Subscriptions, and QoS Profiles<a class="headerlink" href="#changes-to-creating-publishers-subscriptions-and-qos-profiles" title="Permalink to this headline">¶</a></h4>
<p>Prior to Dashing, you could optionally provide a <code class="docutils literal notranslate"><span class="pre">QoSProfile</span></code> object when creating a publisher or subscription.
In an effort to encourage users to specify a history depth for message queues, we now <strong>require</strong> that a depth value or <code class="docutils literal notranslate"><span class="pre">QoSProfile</span></code> object is given when creating publishers or subscriptions.</p>
<p>To create a publisher, previously you would have written:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">node</span><span class="o">.</span><span class="n">create_publisher</span><span class="p">(</span><span class="n">Empty</span><span class="p">,</span> <span class="s1">&#39;chatter&#39;</span><span class="p">)</span>
<span class="c1"># Or using a keyword argument for QoSProfile</span>
<span class="n">node</span><span class="o">.</span><span class="n">create_publisher</span><span class="p">(</span><span class="n">Empty</span><span class="p">,</span> <span class="s1">&#39;chatter&#39;</span><span class="p">,</span> <span class="n">qos_profile</span><span class="o">=</span><span class="n">qos_profile_sensor_data</span><span class="p">)</span>
</pre></div>
</div>
<p>In Dashing, prefer the following API that provides a depth value or <code class="docutils literal notranslate"><span class="pre">QoSProfile</span></code> object as a third positional argument:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Assume a history setting of KEEP_LAST with depth 10</span>
<span class="n">node</span><span class="o">.</span><span class="n">create_publisher</span><span class="p">(</span><span class="n">Empty</span><span class="p">,</span> <span class="s1">&#39;chatter&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="c1"># Or pass a QoSProfile object directly</span>
<span class="n">node</span><span class="o">.</span><span class="n">create_publisher</span><span class="p">(</span><span class="n">Empty</span><span class="p">,</span> <span class="s1">&#39;chatter&#39;</span><span class="p">,</span> <span class="n">qos_profile_sensor_data</span><span class="p">)</span>
</pre></div>
</div>
<p>Likewise for subscriptions, previously you would have written:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">node</span><span class="o">.</span><span class="n">create_subscription</span><span class="p">(</span><span class="n">BasicTypes</span><span class="p">,</span> <span class="s1">&#39;chatter&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">msg</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="n">msg</span><span class="p">))</span>
<span class="c1"># Or using a keyword argument for QoSProfile</span>
<span class="n">node</span><span class="o">.</span><span class="n">create_subscription</span><span class="p">(</span><span class="n">BasicTypes</span><span class="p">,</span> <span class="s1">&#39;chatter&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">msg</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="n">msg</span><span class="p">),</span> <span class="n">qos_profile</span><span class="o">=</span><span class="n">qos_profile_sensor_data</span><span class="p">)</span>
</pre></div>
</div>
<p>In Dashing:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Assume a history setting of KEEP_LAST with depth 10</span>
<span class="n">node</span><span class="o">.</span><span class="n">create_subscription</span><span class="p">(</span><span class="n">BasicTypes</span><span class="p">,</span> <span class="s1">&#39;chatter&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">msg</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="n">msg</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
<span class="c1"># Or pass a QoSProfile object directly</span>
<span class="n">node</span><span class="o">.</span><span class="n">create_subscription</span><span class="p">(</span><span class="n">BasicTypes</span><span class="p">,</span> <span class="s1">&#39;chatter&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">msg</span><span class="p">:</span> <span class="k">print</span><span class="p">(</span><span class="n">msg</span><span class="p">),</span> <span class="n">qos_profile_sensor_data</span><span class="p">)</span>
</pre></div>
</div>
<p>To ease the transition, users who do not use the new API will see deprecation warnings.</p>
<p>Furthermore, we also require that when constructing <code class="docutils literal notranslate"><span class="pre">QoSProfile</span></code> objects that a history policy and/or depth is set.
If a history policy of <code class="docutils literal notranslate"><span class="pre">KEEP_LAST</span></code> is provided, then a depth argument is also required.
For example, these calls are valid:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">QoSProfile</span><span class="p">(</span><span class="n">history</span><span class="o">=</span><span class="n">QoSHistoryPolicy</span><span class="o">.</span><span class="n">RMW_QOS_POLICY_HISTORY_KEEP_ALL</span><span class="p">)</span>
<span class="n">QoSProfile</span><span class="p">(</span><span class="n">history</span><span class="o">=</span><span class="n">QoSHistoryPolicy</span><span class="o">.</span><span class="n">RMW_QOS_POLICY_HISTORY_KEEP_LAST</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">QoSProfile</span><span class="p">(</span><span class="n">depth</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># equivalent to the previous line</span>
</pre></div>
</div>
<p>And these calls will cause a deprecation warning:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">QoSProfile</span><span class="p">()</span>
<span class="n">QoSProfile</span><span class="p">(</span><span class="n">reliability</span><span class="o">=</span><span class="n">QoSReliabilityPolicy</span><span class="o">.</span><span class="n">RMW_QOS_POLICY_RELIABILITY_BEST_EFFORT</span><span class="p">)</span>
<span class="c1"># KEEP_LAST but no depth</span>
<span class="n">QoSProfile</span><span class="p">(</span><span class="n">history</span><span class="o">=</span><span class="n">QoSHistoryPolicy</span><span class="o">.</span><span class="n">RMW_QOS_POLICY_HISTORY_KEEP_LAST</span><span class="p">)</span>
</pre></div>
</div>
<p>See the issue and pull request related to introducing this change for more details:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ros2/rclpy/issues/342">https://github.com/ros2/rclpy/issues/342</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/rclpy/pull/344">https://github.com/ros2/rclpy/pull/344</a></p></li>
</ul>
</div>
</div>
<div class="section" id="rosidl">
<h3><a class="toc-backref" href="#id10">rosidl</a><a class="headerlink" href="#rosidl" title="Permalink to this headline">¶</a></h3>
<p>Until Crystal each message generator package registered itself using the <code class="docutils literal notranslate"><span class="pre">ament_cmake</span></code> extension point <code class="docutils literal notranslate"><span class="pre">rosidl_generate_interfaces</span></code> and was passed a set of <code class="docutils literal notranslate"><span class="pre">.msg</span></code> / <code class="docutils literal notranslate"><span class="pre">.srv</span></code> / <code class="docutils literal notranslate"><span class="pre">.action</span></code> files.
As of Dashing the message generation pipeline is based on <code class="docutils literal notranslate"><span class="pre">.idl</span></code> files instead.</p>
<p>Any message generator package needs to change and register itself using the new extension point <code class="docutils literal notranslate"><span class="pre">rosidl_generate_idl_interfaces</span></code> which passes only <code class="docutils literal notranslate"><span class="pre">.idl</span></code> files instead.
The message generators for the commonly supported languages C, C++, and Python as well as the typesupport packages for introspection, FastRTPS, Connext and OpenSplice have already been updated (see <a class="reference external" href="https://github.com/ros2/rosidl/pull/334/files">ros2/rosidl#334</a>).
The CMake code calling <code class="docutils literal notranslate"><span class="pre">rosidl_generate_interfaces()</span></code> can either pass <code class="docutils literal notranslate"><span class="pre">.idl</span></code> files directly or pass <code class="docutils literal notranslate"><span class="pre">.msg</span></code> / <code class="docutils literal notranslate"><span class="pre">.srv</span></code> / <code class="docutils literal notranslate"><span class="pre">.action</span></code> which will then internally be converted into <code class="docutils literal notranslate"><span class="pre">.idl</span></code> files before being passed to each message generator.</p>
<p>The format of <code class="docutils literal notranslate"><span class="pre">.msg</span></code> / <code class="docutils literal notranslate"><span class="pre">.srv</span></code> / <code class="docutils literal notranslate"><span class="pre">.action</span></code> files is not being evolved in the future.
The mapping between <code class="docutils literal notranslate"><span class="pre">.msg</span></code> / <code class="docutils literal notranslate"><span class="pre">.srv</span></code> / <code class="docutils literal notranslate"><span class="pre">.action</span></code> files and <code class="docutils literal notranslate"><span class="pre">.idl</span></code> files is described in <a class="reference external" href="http://design.ros2.org/articles/legacy_interface_definition.html">this design article</a>.
A <a class="reference external" href="http://design.ros2.org/articles/idl_interface_definition.html">second design article</a> describes the supported features in <code class="docutils literal notranslate"><span class="pre">.idl</span></code> files.
In order to leverage any of the new features existing interfaces need to be converted (e.g. using the command line tools  <code class="docutils literal notranslate"><span class="pre">msg2idl</span></code> / <code class="docutils literal notranslate"><span class="pre">srv2idl</span></code> / <code class="docutils literal notranslate"><span class="pre">action2idl</span></code>).</p>
<p>To distinguish same type names, but with different namespaces, the introspection structs now contain a namespace field that replaces the package name (see <a class="reference external" href="https://github.com/ros2/rosidl/pull/355/files">ros2/rosidl#335</a>).</p>
<div class="section" id="mapping-of-char-in-msg-files">
<h4>Mapping of char in .msg files<a class="headerlink" href="#mapping-of-char-in-msg-files" title="Permalink to this headline">¶</a></h4>
<p>In <a class="reference external" href="http://wiki.ros.org/msg#Fields">ROS 1</a> <code class="docutils literal notranslate"><span class="pre">char</span></code> has been deprecated for a long time and is being mapped to <code class="docutils literal notranslate"><span class="pre">uint8</span></code>.
In ROS 2 until Crystal <code class="docutils literal notranslate"><span class="pre">char</span></code> was mapped to a single character (<code class="docutils literal notranslate"><span class="pre">char</span></code> in C / C++, <code class="docutils literal notranslate"><span class="pre">str</span></code> with length 1 in Python) in an effort to provide a more natural mapping.
As of Dashing the ROS 1 semantic has been restored and <code class="docutils literal notranslate"><span class="pre">char</span></code> maps to <code class="docutils literal notranslate"><span class="pre">uint8</span></code> again.</p>
</div>
</div>
<div class="section" id="rosidl-generator-cpp">
<h3><a class="toc-backref" href="#id11">rosidl_generator_cpp</a><a class="headerlink" href="#rosidl-generator-cpp" title="Permalink to this headline">¶</a></h3>
<p>The C++ data structures generated for messages, services and actions provide setter methods for each field.
Until Crystal each setter returned a pointer to the data structure itself to enable the named parameter idiom.
As of Dashing these setters <a class="reference external" href="https://github.com/ros2/rosidl/pull/353">return a reference</a> instead since that seems to be the more common signature as well as it clarifies that the returned value can’t be a <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>.</p>
</div>
<div class="section" id="rosidl-generator-py">
<h3><a class="toc-backref" href="#id12">rosidl_generator_py</a><a class="headerlink" href="#rosidl-generator-py" title="Permalink to this headline">¶</a></h3>
<p>Until Crystal an array (fixed size) or sequence (dynamic size, optionally with an upper boundary) field in a message was stored as a <code class="docutils literal notranslate"><span class="pre">list</span></code> in Python.
As of Dashing the Python type for arrays / sequences of numeric values has been changed:</p>
<ul class="simple">
<li><p>an array of numeric values is stored as a <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> (the <code class="docutils literal notranslate"><span class="pre">dtype</span></code> is chosen to match the type of the numeric value)</p></li>
<li><p>a sequence of numeric values is stored as an <code class="docutils literal notranslate"><span class="pre">array.array</span></code> (the <code class="docutils literal notranslate"><span class="pre">typename</span></code> is chosen to match the type of the numeric value)</p></li>
</ul>
<p>As before an array / sequence of non-numeric types is still represented as a <code class="docutils literal notranslate"><span class="pre">list</span></code> in Python.</p>
<p>This change brings a number of benefits:</p>
<ul class="simple">
<li><p>The new data structures ensure that each item in the array / sequence complies with the value range restrictions of the numeric type.</p></li>
<li><p>The numeric values can be stored more efficiently in memory which avoid the overhead of Python objects for each item.</p></li>
<li><p>The memory layout of both data structures allows to read and write all items of the array / sequence in a single operation which makes the conversion from and to Python significantly faster / more efficient.</p></li>
</ul>
</div>
<div class="section" id="launch">
<h3><a class="toc-backref" href="#id13">launch</a><a class="headerlink" href="#launch" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">launch_testing</span></code> package caught up with the <code class="docutils literal notranslate"><span class="pre">launch</span></code> package redesign done in Bouncy Bolson.
The legacy Python API, already moved into the <code class="docutils literal notranslate"><span class="pre">launch.legacy</span></code> submodule, has thus been deprecated and removed.</p>
<p>See <code class="docutils literal notranslate"><span class="pre">launch</span></code> <a class="reference external" href="https://github.com/ros2/launch/tree/master/launch/examples">examples</a> and <a class="reference external" href="https://github.com/ros2/launch/tree/master/launch/doc">documentation</a> for reference on how to use its new API.</p>
<p>See <a class="reference external" href="https://github.com/ros2/demos">demos tests</a> for reference on how to use the new <code class="docutils literal notranslate"><span class="pre">launch_testing</span></code> API.</p>
</div>
<div class="section" id="rmw">
<h3><a class="toc-backref" href="#id14">rmw</a><a class="headerlink" href="#rmw" title="Permalink to this headline">¶</a></h3>
<p>Changes since the <a class="reference internal" href="../Release-Crystal-Clemmys/"><span class="doc">Crystal Clemmys</span></a> release:</p>
<ul class="simple">
<li><p>New API in <code class="docutils literal notranslate"><span class="pre">rmw</span></code>, a fini function for <code class="docutils literal notranslate"><span class="pre">rmw_context_t</span></code>:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/ros2/rmw/blob/c518842f6f82910482470b40c221c268d30691bd/rmw/include/rmw/init.h#L111-L136">rmw_context_fini</a></p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>Modification of <code class="docutils literal notranslate"><span class="pre">rmw</span></code>, now passes <code class="docutils literal notranslate"><span class="pre">rmw_context_t</span></code> to <code class="docutils literal notranslate"><span class="pre">rmw_create_wait_set</span></code>:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/ros2/rmw/blob/c518842f6f82910482470b40c221c268d30691bd/rmw/include/rmw/rmw.h#L522-L543">rmw_create_wait_set</a></p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>New APIs in <code class="docutils literal notranslate"><span class="pre">rmw</span></code> for preallocating space for published and subscribed messages:</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/ros2/rmw/blob/dc7b2f49f1f961d6cf2c173adc54736451be8938/rmw/include/rmw/rmw.h#L262">rmw_init_publisher_allocation</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/rmw/blob/dc7b2f49f1f961d6cf2c173adc54736451be8938/rmw/include/rmw/rmw.h#L279">rmw_fini_publisher_allocation</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/rmw/blob/dc7b2f49f1f961d6cf2c173adc54736451be8938/rmw/include/rmw/rmw.h#L489">rmw_init_subscription_allocation</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/rmw/blob/dc7b2f49f1f961d6cf2c173adc54736451be8938/rmw/include/rmw/rmw.h#L506">rmw_fini_subscription_allocation</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/rmw/blob/dc7b2f49f1f961d6cf2c173adc54736451be8938/rmw/include/rmw/rmw.h#L395">rmw_serialized_message_size</a></p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>Modification of <code class="docutils literal notranslate"><span class="pre">rmw</span></code>, now passes <code class="docutils literal notranslate"><span class="pre">rmw_publisher_allocation_t</span></code> or <code class="docutils literal notranslate"><span class="pre">rmw_subscription_allocation_t</span></code> to <code class="docutils literal notranslate"><span class="pre">rmw_publish</span></code> and <code class="docutils literal notranslate"><span class="pre">rmw_take</span></code>, respectively.
Note that this argument can be <code class="docutils literal notranslate"><span class="pre">NULL</span></code> or <code class="docutils literal notranslate"><span class="pre">nullptr</span></code>, which keeps existing Crystal behavior.</p></li>
</ul>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/ros2/rmw/blob/dc7b2f49f1f961d6cf2c173adc54736451be8938/rmw/include/rmw/rmw.h#L310">rmw_publish</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/rmw/blob/dc7b2f49f1f961d6cf2c173adc54736451be8938/rmw/include/rmw/rmw.h#L556">rmw_take</a></p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>Type names returned by <code class="docutils literal notranslate"><span class="pre">rmw_get_*_names_and_types*</span></code> functions should have a fully-qualified namespace.
For example, instead of <code class="docutils literal notranslate"><span class="pre">rcl_interfaces/Parameter</span></code> and <code class="docutils literal notranslate"><span class="pre">rcl_interfaces/GetParameters</span></code>, the returned type names should be <code class="docutils literal notranslate"><span class="pre">rcl_interface/msg/Parameter</span></code> and <code class="docutils literal notranslate"><span class="pre">rcl_interfaces/srv/GetParameters</span></code>.</p></li>
</ul>
</div>
<div class="section" id="actions">
<h3><a class="toc-backref" href="#id15">actions</a><a class="headerlink" href="#actions" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Changes to <code class="docutils literal notranslate"><span class="pre">rclcpp_action::Client</span></code> signatures:</p>
<p>The signature of <a class="reference external" href="https://github.com/ros2/rclcpp/blob/ef41059a751702274667e2164182c062b47c453d/rclcpp_action/include/rclcpp_action/client.hpp#L343">rclcpp_action::Client::async_send_goal</a> has changed.
Now users can optionally provide callback functions for the <strong>goal response</strong> and the <strong>result</strong> using the new
<a class="reference external" href="https://github.com/ros2/rclcpp/blob/ef41059a751702274667e2164182c062b47c453d/rclcpp_action/include/rclcpp_action/client.hpp#L276">SendGoalOptions</a> struct.
The goal response callback is called when an action server accepts or rejects the goal and the result callback is called when the result for the goal is received.
Optional callbacks were also added to <a class="reference external" href="https://github.com/ros2/rclcpp/blob/ef41059a751702274667e2164182c062b47c453d/rclcpp_action/include/rclcpp_action/client.hpp#L432-L434">rclcpp_action::Client::async_cancel_goal</a>
and <a class="reference external" href="https://github.com/ros2/rclcpp/blob/ef41059a751702274667e2164182c062b47c453d/rclcpp_action/include/rclcpp_action/client.hpp#L399-L401">rclcpp_action::Client::async_get_result</a>.</p>
</li>
<li><p>Changes to goal transition names:</p>
<p>The names of goal state transitions have been refactored to reflect the design documention.
This affects <code class="docutils literal notranslate"><span class="pre">rcl_action</span></code>, <code class="docutils literal notranslate"><span class="pre">rclcpp_action</span></code>, and <code class="docutils literal notranslate"><span class="pre">rclpy</span></code>.
Here is a list of the event name changes (<em>Old name -&gt; New name</em>):</p>
<ul class="simple">
<li><p>GOAL_EVENT_CANCEL -&gt; GOAL_EVENT_CANCEL_GOAL</p></li>
<li><p>GOAL_EVENT_SET_SUCCEEDED -&gt; GOAL_EVENT_SUCCEED</p></li>
<li><p>GOAL_EVENT_SET_ABORTED -&gt; GOAL_EVENT_ABORT</p></li>
<li><p>GOAL_EVENT_SET_CANCELED -&gt; GOAL_EVENT_CANCELED</p></li>
</ul>
</li>
<li><p>Changes to <code class="docutils literal notranslate"><span class="pre">CancelGoal.srv</span></code>:</p>
<p>A <code class="docutils literal notranslate"><span class="pre">return_code</span></code> field was added to the response message of the <code class="docutils literal notranslate"><span class="pre">CancelGoal</span></code> service.
This is to better communicate a reason for a failed service call.
See the <a class="reference external" href="https://github.com/ros2/rcl_interfaces/pull/76">pull request</a> and connected issue for details.</p>
</li>
</ul>
</div>
<div class="section" id="rviz">
<h3><a class="toc-backref" href="#id16">rviz</a><a class="headerlink" href="#rviz" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Plugins should use fully qualified type names otherwise a warning will be logged.
For <a class="reference external" href="https://github.com/ros2/rviz/blob/dfceae319d49546f1e4ad39689853c18fef0001e/rviz_default_plugins/plugins_description.xml#L13">example</a>, use the type <code class="docutils literal notranslate"><span class="pre">sensor_msgs/msg/Image</span></code> instead of <code class="docutils literal notranslate"><span class="pre">sensor_msgs/Image</span></code>.
See <a class="reference external" href="https://github.com/ros2/rviz/pull/387">PR introducing this change</a> for more details.</p></li>
</ul>
</div>
</div>
<div class="section" id="known-issues">
<h2><a class="toc-backref" href="#id17">Known Issues</a><a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h2>
<p>None yet.</p>
</div>
</div>

    </div>
  </div>
</div>

      </div>
    </div>

    <footer class="site-footer">
  <div class="wrapper">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-4 col-md-4">
          
            <a href="https://github.com/ros-infrastructure" title="Find rosindex in Github">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>

            <span class="username">ros-infrastructure</span>
          </a>
          |
          <em>generated on 2019-05-24</em>
        
        </div>
        <div class="col-sm-8 col-md-8 text-right">
          <p class="text">a community-maintained index of robotics software
 | <a href="/privacy.txt">privacy</a></p>
        </div>
      </div>
    </div>
  </div>

</footer>


  </body>

</html>
